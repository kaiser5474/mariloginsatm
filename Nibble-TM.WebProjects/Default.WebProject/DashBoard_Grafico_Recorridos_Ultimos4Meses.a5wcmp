{
    "$schema": "UX",
    "$definition": {
        "style_name": "<ProjectStyle>",
        "style_type": "Alpha Five",
        "resolveAbstractClassNames": true,
        "builderVersionNumber": 1,
        "overrideStyleName": "Default",
        "FontSize": "Medium",
        "A5ContainerClassPadding": "0px",
        "A5ContainerClassPaddingForContainerWidthMode": "4px",
        "JavaScriptFunctionDeclarations": "function additionalAjaxDataDashBoard_Recorridos_PorMedioTransporte(){\n\tvar id_medioTransporte = {dialog.object}.getValue('dropdownbox1');\n\tvar data = A5.ajax.buildURLParam('__additionalData', id_medioTransporte);\n\treturn data;\n}\n\n\nfunction ultimoMesNoComenzado(){\nvar array = [];\n\nvar NoComenzado3 = {dialog.object}.getValue('noComenzado_3');\nvar NoComenzado2 = {dialog.object}.getValue('noComenzado_2');\nvar NoComenzado1 = {dialog.object}.getValue('noComenzado_1');\nvar NoComenzado = {dialog.object}.getValue('noComenzadoMesActual');\n\n\nvar fechaHoy = new Date();\nvar fechaSalida;\n\nvar estado = 0;\n\n\narray[0] = parseInt(NoComenzado3);\narray[1] = parseInt(NoComenzado2);\narray[2] = parseInt(NoComenzado1);\narray[3] = parseInt(NoComenzado);\n\nreturn array;\n\n}\n\nfunction ultimoMesEnCurso(){\nvar array = [];\n\nvar EnCurso = {dialog.object}.getValue('enCursoMesActual');\nvar EnCurso1 = {dialog.object}.getValue('enCurso_1');\nvar EnCurso2 = {dialog.object}.getValue('enCurso_2');\nvar EnCurso3 = {dialog.object}.getValue('enCurso_3');\n\narray[0] = parseInt(EnCurso3);\narray[1] = parseInt(EnCurso2);\narray[2] = parseInt(EnCurso1);\narray[3] = parseInt(EnCurso);\n\nreturn array;\n\n}\n\nfunction ultimoMesCompletado(){\nvar array = [];\nvar Completado = {dialog.object}.getValue('completadoMesActual');\nvar Completado1 = {dialog.object}.getValue('completado_1');\nvar Completado2 = {dialog.object}.getValue('completado_2');\nvar Completado3 = {dialog.object}.getValue('completado_3');\n\narray[0] = parseInt(Completado3);\narray[1] = parseInt(Completado2);\narray[2] = parseInt(Completado1);\narray[3] = parseInt(Completado);\n\nreturn array;\n\n}\n\nfunction ultimoMesTerminado(){\nvar array = [];\n\nvar Terminado = {dialog.object}.getValue('terminadoMesActual');\nvar Terminado1 = {dialog.object}.getValue('terminado_1');\nvar Terminado2 = {dialog.object}.getValue('terminado_2');\nvar Terminado3 = {dialog.object}.getValue('terminado_3');\n\narray[0] = parseInt(Terminado3);\narray[1] = parseInt(Terminado2);\narray[2] = parseInt(Terminado1);\narray[3] = parseInt(Terminado);\n\nreturn array;\n\n}\n\nfunction ultimoMesPrefacturado(){\nvar array = [];\n\n\nvar Prefacturado = {dialog.object}.getValue('prefacturadoMesActual');\nvar Prefacturado1 = {dialog.object}.getValue('prefacturado_1');\nvar Prefacturado2 = {dialog.object}.getValue('prefacturado_2');\nvar Prefacturado3 = {dialog.object}.getValue('prefacturado_3');\n\narray[0] = parseInt(Prefacturado3);\narray[1] = parseInt(Prefacturado2);\narray[2] = parseInt(Prefacturado1);\narray[3] = parseInt(Prefacturado);\n\nreturn array;\n\n}\n\nfunction paraTooltipsPorMedioTransporte(){\n\nvar arregloEnCurso = ultimoMesEnCurso();\nvar arregloCompletado = ultimoMesCompletado();\nvar arregloTerminado = ultimoMesTerminado();\nvar arregloPrefacturado = ultimoMesPrefacturado();\nvar arregloNoComenzado = ultimoMesNoComenzado();\n\nvar NoComenzado = \"No Comenzado: \" + arregloNoComenzado[0]\nvar EnCurso = \"En Curso: \" + arregloEnCurso[0];\nvar Completado = \"Completado: \" + arregloCompletado[0];\nvar Prefacturado = \"Prefacturado: \" + arregloPrefacturado[0];\nvar Terminado = \"Terminado: \" + arregloTerminado[0];\n\nvar NoComenzado1 = \"No Comenzado: \" + arregloNoComenzado[1];\nvar EnCurso1 = \"En Curso: \" + arregloEnCurso[1];\nvar Completado1 = \"Completado: \" + arregloCompletado[1];\nvar Prefacturado1 = \"Prefacturado: \" + arregloPrefacturado[1];\nvar Terminado1 = \"Terminado: \" + arregloTerminado[1];\n\nvar NoComenzado2 = \"No Comenzado: \" + arregloNoComenzado[2];\nvar EnCurso2 = \"En Curso: \" + arregloEnCurso[2];\nvar Completado2 = \"Completado: \" + arregloCompletado[2];\nvar Prefacturado2 = \"Prefacturado: \" + arregloPrefacturado[2];\nvar Terminado2 = \"Terminado: \" + arregloTerminado[2];\n\nvar NoComenzado3 = \"No Comenzado: \" + arregloNoComenzado[3];\nvar EnCurso3 = \"En Curso: \" + arregloEnCurso[3];\nvar Completado3 = \"Completado: \" + arregloCompletado[3];\nvar Prefacturado3 = \"Prefacturado: \" + arregloPrefacturado[3];\nvar Terminado3 = \"Terminado: \" + arregloTerminado[3];\n\nreturn [[NoComenzado], [EnCurso], [Completado], [Terminado], [Prefacturado], \n[NoComenzado1], [EnCurso1], [Completado1], [Terminado1], [Prefacturado1],\n[NoComenzado2], [EnCurso2], [Completado2], [Terminado2], [Prefacturado2],\n[NoComenzado3], [EnCurso3], [Completado3], [Terminado3], [Prefacturado3]];\n}\n\nfunction additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses(){\n\t//var rowNum = {grid.object}._selectedRow;\n\tvar tipoMedio = {dialog.object}.getValue('dropdownbox1'); //{grid.Object}.getValue('G','ID_ENTIDAD', rowNum);\n\tvar data = A5.ajax.buildURLParam('__additionalData', tipoMedio);\n\treturn data;\n}\n\nfunction aaa(prefacturado_3, terminado_3, completado_3, enCurso_3, noComenzado_3, \nprefacturado_2, terminado_2, completado_2, enCurso_2, noComenzado_2,\nprefacturado_1, terminado_1, completado_1, enCurso_1, noComenzado_1,\nprefacturado, terminado, completado, enCurso, noComenzado){\n\n{dialog.object}.setValue('prefacturado_3', prefacturado_3);\n{dialog.object}.setValue('terminado_3', terminado_3);\n{dialog.object}.setValue('completado_3', completado_3);\n{dialog.object}.setValue('enCurso_3', enCurso_3);\n{dialog.object}.setValue('noComenzado_3', noComenzado_3);\n\n{dialog.object}.setValue('prefacturado_2', prefacturado_2);\n{dialog.object}.setValue('terminado_2', terminado_2);\n{dialog.object}.setValue('completado_2', completado_2);\n{dialog.object}.setValue('enCurso_2', enCurso_2);\n{dialog.object}.setValue('noComenzado_2', noComenzado_2);\n\n\n{dialog.object}.setValue('prefacturado_1', prefacturado_1);\n{dialog.object}.setValue('terminado_1', terminado_1);\n{dialog.object}.setValue('completado_1', completado_1);\n{dialog.object}.setValue('enCurso_1', enCurso_1);\n{dialog.object}.setValue('noComenzado_1', noComenzado_1);\n\n{dialog.object}.setValue('prefacturadoMesActual', prefacturado);\n{dialog.object}.setValue('terminadoMesActual', terminado);\n{dialog.object}.setValue('completadoMesActual', completado);\n{dialog.object}.setValue('enCursoMesActual', enCurso);\n{dialog.object}.setValue('noComenzadoMesActual', noComenzado);\n}\n\n\n\n",
        "layoutType": "ContainerWidth",
        "previewMode": "Default",
        "useDragScrolling": "Auto",
        "pageTitle": "UX",
        "waitMsg": {
            "message": {
                "text": "Wait...",
                "waitIcon": "css/A5System/Images/wait.gif"
            },
            "cssAnimation": {
                "size": "32"
            }
        },
        "globalSettings": {
            "labelWidth": "1in"
        },
        "serverSideEvents": {
            "onDialogInitialize": "function onDialogInitialize as v (e as p)\n\t\n'Request - The Request object. Includes Request.Variables, which should be used instead of the older e.rv construct\n'Session - The Session object. Should be used instead of the older e.session construct\n'Inside e:\n'e.tmpl = Component definition\n'e.rtc = Runtime calculations - you can use this to store data to be passed to other server side events (Note: the 'rtc' object cannot be used to persist state information - i.e. you can't set a value in rtc and then read that value in a subsequent callback. To persist state info see e._state).\n'e.arguments = SQL::Arguments object with values for each of the arguments defined in this component.  To read a value from arguments: e.arguments.find(\"argumentName\").data\n'TIP: You can also set the value of an argument. For example: e.arguments[e.arguments.ArgumentNumber(\"country\")].data = \"portugal\"\n\n'You can set the initial value of any field by setting the property (see comment at end for Javascript technique to use when setting values for a large number of controls)\n'e.control.<fieldname>\n'For example:\n'e.control.firstname = \"Fred\"\n'e.control.lastname = \"Jones\"\n'DIM a SQL arguments object\ndim args as sql::arguments\n\n\n'DIM an Xbasic AlphaDAO connection object\ndim cn as sql::connection\ndim flag as l\n''open the connection object to connect to the Database\nflag = cn.open(\"::Name::Nibble\")\n\n\ndim sql as c\nsql = \"SELECT N_Recorrido.Id_Recorrido, RecMedTransp.Id_TipoTransporte, N_Recorrido.FechaSalida, RecMedTransp.Id_MedioTransportacion, N_Recorrido.Id_EstadoRecorrido FROM N_Recorrido N_Recorrido\t LEFT OUTER JOIN RecMedTransp RecMedTransp\t\t ON  N_Recorrido.Id_Recorrido = RecMedTransp.Id_Recorrido  WHERE FechaSalida > DATEADD(d,  -124,  GETDATE() )\"\n'turn portable SQL on. (for more information on portable sql search in help (https://www.alphasoftware.com/documentation)\n'execute the SQL - pass in the sql::arguments object\nflag = cn.execute(sql,args)\nif flag = .f. then \n\t'an error occurred - get the error message from cn.callresult.text \n\t'report the error, close the database and then end the script\n\tdim errortext as c \n\terrortext = cn.callresult.text\n\tcn.close()\nend if\n'DIM a SQL::Resultset object\ndim rs as sql::resultset\nrs = cn.resultset\n\ndim count as n\ndim id_tipoTransporte as  n\ndim cantMesActual as n\ndim cantMes_1 as n\ndim cantMes_2 as n\ndim cantMes_3 as n\ndim Result as N \ndim fecha as t\n\ndim Id_EstadoRecorrido as n \ndim noComenzadoMesActual as n\ndim noComenzado_1 as n\ndim noComenzado_2 as n\ndim noComenzado_3 as n\n\ndim enCursoMesActual as n\ndim enCurso_1 as n\ndim enCurso_2 as n\ndim enCurso_3 as n\n\ndim completadoMesActual as n\ndim completado_1 as n\ndim completado_2 as n\ndim completado_3 as n\n\ndim terminadoMesActual as n\ndim terminado_1 as n\ndim terminado_2 as n\ndim terminado_3 as n\n\ndim prefacturadoMesActual as n\ndim prefacturado_1 as n\ndim prefacturado_2 as n\ndim prefacturado_3 as n\n\nwhile rs.NextRow()\t\n\tcount = count + 1\n\tfecha = convert_type(rs.Data(\"FechaSalida\"), \"T\")\n\tId_EstadoRecorrido = rs.Data(\"Id_EstadoRecorrido\")\n\tResult = *MONTHS_BETWEEN(fecha, now())\n\t'aqui estoy calculando el mes actual\n\t\n\tSELECT\n        CASE Result = 0 \n        \tcantMesActual = cantMesActual + 1\n        \tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzadoMesActual = noComenzadoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCursoMesActual = enCursoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletadoMesActual = completadoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminadoMesActual = terminadoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturadoMesActual = prefacturadoMesActual + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT        \n\n        CASE Result = -1\n        \tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzado_1 = noComenzado_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCurso_1 = enCurso_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletado_1 = completado_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminado_1 = terminado_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturado_1 = prefacturado_1 + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT \n    \t\t    \n\t\tCASE Result = -2\n\t\t\tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzado_2 = noComenzado_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCurso_2 = enCurso_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletado_2 = completado_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminado_2 = terminado_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturado_2 = prefacturado_2 + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT \n\n\t\tCASE Result = -3\n\t\t\tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzado_3 = noComenzado_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCurso_3 = enCurso_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletado_3 = completado_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminado_3 = terminado_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturado_3 = prefacturado_3 + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT \n\n        CASE else\n            grade = \"F\"\n    end SELECT\n\nend while\n\nsession.cantidadRecorridosUltimos4Meses = count\nsession.cantMesActual = cantMesActual\nsession.cantMes_1 = cantMes_1\nsession.cantMes_2 = cantMes_2\nsession.cantMes_3 = cantMes_3\n\nsession.noComenzadoMesActual = noComenzadoMesActual\nsession.noComenzado_1 = noComenzado_1\nsession.noComenzado_2 = noComenzado_2\nsession.noComenzado_3 = noComenzado_3\n\nsession.enCursoMesActual = enCursoMesActual\nsession.enCurso_1 = enCurso_1\nsession.enCurso_2 = enCurso_2\nsession.enCurso_3 = enCurso_3\n\nsession.completado_3 = completado_3\nsession.completado_2 = completado_2\nsession.completado_1 = completado_1\nsession.completadoMesActual = completadoMesActual\n\nsession.terminadoMesActual = terminadoMesActual\nsession.terminado_3 = terminado_3\nsession.terminado_2 = terminado_2\nsession.terminado_1 = terminado_1\n\nsession.prefacturadoMesActual = prefacturadoMesActual\nsession.prefacturado_3 = prefacturado_3\nsession.prefacturado_2 = prefacturado_2\nsession.prefacturado_1 = prefacturado_1\n'get the JSON from the query\n\ndim json as c \n\n'Clean up by freeing the resultset and then closing the database\ncn.freeresult()\ncn.close()\n\n\n\n'For multi-valued controls (such as checkbox, List control configured as multi-select, etc.) you can set the value to a cr-lf list of values or use the special array() syntax.\n'Either of the following two methods will work\n'e.control.colors = \"array(red,green)\"\n'e.control.colors = comma_to_crlf(\"red,green\")\n\n'To set the value of a field in a repeating section, you must use \"_A5INSTANCE\" and the instance number as a suffix on the fieldname.\n'For example:\n'e.control.firstname_A5INSTANCE2 = \"Bob\"  'sets the value in the 2nd row of the repeating section.\n\n'To specify any javascript that you want to execute set the  e.javascript property. For example:\n\n\n'You can set 'state' variables in this event. The value of any state variables will be available in all subsequent ajax callbacks.\n'To set a state variable:\n'e._state.myvar1 = \"value1\"\n'e._state.myvar2 = \"value2\"\n\n\n'Using Javascript to Set Control Values and the Row Count in a Repeating Section -- Recommended For Maximum Efficiency (Advanced users)\n'---------------------------------------------------------------------------------------------------------------------------\n'When setting the value of a large number of controls, you will improve performance if you generate the Javascript directly,\n'rather than setting properties in the e.control object (as described above) and then having Alpha Five generate the Javascript from this object.\n'The following example shows Javascript code that sets the number of rows in a Repeating Section and sets the value of various control\n'in the top section and Repeating Section of the Dialog:\n\n'Generate the Javascript to emit\n'dim js as c\n'js = <<%txt%\n'var rows = 7;\n'var setFocusToFirst = true;\n'var nullOutExistingData = true;\n'var repeatingSectionId = 'CONTAINER_1';\n'{dialog.object}._setRepeatingSectionRowCount(repeatingSectionId,rows,setFocusToFirst,nullOutExistingData);\n'var _d = {};\n\n'//Next command is optional. It is ONLY needed if the ._setRepeatingSectionRowCount() method has been called.\n'//The command copies default values into the _d object. Without this command, default values defined in the component will not be set.\n'//$u.o.assign(_d,DLG1_DlgObj.originalValues[0]);\n\n'_d['B'] = 'alpha'; //set the value of a control called 'B'\n'_d['E:2'] = 'beta'; //set the value of a control called 'E' in the 2nd Repeating Section row\n'_d['G:6'] = ['Red','Green']; //set the value of a checkbox called 'G' in the 6th Repeating Section row to 'Red' and 'Green'\n'{dialog.object}.prepare();\n'{dialog.object}.populate(_d);\n'{dialog.object}.refreshClientSideComputations();\n\n'%txt%\n\n'Now, emit the Javascript...\n'e.javascript = js\n\n'NOTE: In the above example, if the ._setRepeating() method is called in the 'onDialogInitialize' event, you are responsible for setting\n'values in ALL of the controls in the component. For example, if you have defined default values for some controls, and then set the values\n'of other controls using the .populate() method, only the values set in the _d object will be set. (The default values will NOT be set).\n'You can, however, put the default values into the _d object using this code:\n'$u.o.assign(_d,{dialog.object}.originalValues[0]);\n\n\n'Tip: You can use the xbasic varToJSON() function to help generate the Javascript object passed to the .populate() method.\n'For example:\n'dim j as p\n'j.firstname = \"John\"\n'j.lastname = \"Smith\"\n'j.quantity_a5instance1 = \"2\"\n'dim j.colorchoices_a5instance2[3] as c\n'j.colorchoices_a5instance2[1] = \"Red\"\n'j.colorchoices_a5instance2[2] = \"Blue\"\n'dim jsTxt as c\n'jsTxt = varToJSON(j)\n'js = \"{dialog.object}.populate(\" + jsTxt + \"); {dialog.object}.prepare();\"\n\n\n'TIP: To simulate session variables when running in Working Preview you can use this code:\n'if eval_valid(\"request.SERVER_PROTOCOL\") then \n'\tif request.SERVER_PROTOCOL = \"A5RES\" then \n'\t\t'running in working preview\n'\t\tsession.var1 = \"simulated value for var1\"\n'\tend if \n'end if \n\nend function\n",
            "canAjaxCallback": "",
            "afterAjaxCallback": ""
        },
        "XbasicFunctionDeclarations": "function xb as c (e as p) \n\t\ndim id_tipoMedio\nid_tipoMedio = e.__additionalData\n\n'DIM a SQL arguments object\ndim args as sql::arguments\nargs.Add(\"tipoMedio\", id_tipoMedio)\n'DIM an Xbasic AlphaDAO connection object\ndim cn as sql::connection\ndim flag as l\n''open the connection object to connect to the Database\nflag = cn.open(\"::Name::Nibble\")\n\ndim sql as c\nsql = \"SELECT N_Recorrido.Id_Recorrido, RecMedTransp.Id_TipoTransporte, N_Recorrido.FechaSalida, RecMedTransp.Id_MedioTransportacion, N_Recorrido.Id_EstadoRecorrido FROM N_Recorrido N_Recorrido\t LEFT OUTER JOIN RecMedTransp RecMedTransp\t\t ON  N_Recorrido.Id_Recorrido = RecMedTransp.Id_Recorrido  WHERE FechaSalida > DATEADD(d,  -124,  GETDATE() ) AND RecMedTransp.Id_TipoTransporte = :tipoMedio\"\n'turn portable SQL on. (for more information on portable sql search in help (https://www.alphasoftware.com/documentation)\n'execute the SQL - pass in the sql::arguments object\nflag = cn.execute(sql,args)\nif flag = .f. then \n\t'an error occurred - get the error message from cn.callresult.text \n\t'report the error, close the database and then end the script\n\tdim errortext as c \n\terrortext = cn.callresult.text\n\tcn.close()\nend if\n'DIM a SQL::Resultset object\ndim rs as sql::resultset\nrs = cn.resultset\n\ndim count as n\ndim id_tipoTransporte as  n\ndim cantMesActual as n\ndim cantMes_1 as n\ndim cantMes_2 as n\ndim cantMes_3 as n\ndim Result as N \ndim fecha as t\n\ndim Id_EstadoRecorrido as n \ndim noComenzadoMesActual as n\ndim noComenzado_1 as n\ndim noComenzado_2 as n\ndim noComenzado_3 as n\n\ndim enCursoMesActual as n\ndim enCurso_1 as n\ndim enCurso_2 as n\ndim enCurso_3 as n\n\ndim completadoMesActual as n\ndim completado_1 as n\ndim completado_2 as n\ndim completado_3 as n\n\ndim terminadoMesActual as n\ndim terminado_1 as n\ndim terminado_2 as n\ndim terminado_3 as n\n\ndim prefacturadoMesActual as n\ndim prefacturado_1 as n\ndim prefacturado_2 as n\ndim prefacturado_3 as n\n\nwhile rs.NextRow()\t\n\tcount = count + 1\n\tfecha = convert_type(rs.Data(\"FechaSalida\"), \"T\")\n\tId_EstadoRecorrido = rs.Data(\"Id_EstadoRecorrido\")\n\tResult = *MONTHS_BETWEEN(fecha, now())\n\t'aqui estoy calculando el mes actual\n\t\n\tSELECT\n        CASE Result = 0 \n        \tcantMesActual = cantMesActual + 1\n        \tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzadoMesActual = noComenzadoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCursoMesActual = enCursoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletadoMesActual = completadoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminadoMesActual = terminadoMesActual + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturadoMesActual = prefacturadoMesActual + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT        \n\n        CASE Result = -1\n        \tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzado_1 = noComenzado_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCurso_1 = enCurso_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletado_1 = completado_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminado_1 = terminado_1 + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturado_1 = prefacturado_1 + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT \n    \t\t    \n\t\tCASE Result = -2\n\t\t\tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzado_2 = noComenzado_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCurso_2 = enCurso_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletado_2 = completado_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminado_2 = terminado_2 + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturado_2 = prefacturado_2 + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT \n\n\t\tCASE Result = -3\n\t\t\tSELECT\n        \t\tCASE Id_EstadoRecorrido = 1\n        \t\t\tnoComenzado_3 = noComenzado_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 2\n        \t\t\tenCurso_3 = enCurso_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 3\n        \t\t\tcompletado_3 = completado_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 5\n        \t\t\tterminado_3 = terminado_3 + 1\n        \t\tCASE Id_EstadoRecorrido = 4\n        \t\t\tprefacturado_3 = prefacturado_3 + 1\n        \t\tCASE else\n            \tgrade = \"F\"\n    \t\tend SELECT \n\n        CASE else\n            grade = \"F\"\n    end SELECT\n\nend while\n\nxb = \"aaa(\" + prefacturado_3 + \", \" +  terminado_3+\", \" + completado_3 + \",\" +  enCurso_3 + \", \" + noComenzado_3 + \",\" + prefacturado_2+ \",\" + terminado_2 +\",\" + completado_2 + \",\" + enCurso_2 + \",\" + noComenzado_2 + \",\" + prefacturado_1+ \",\" + terminado_1 + \",\" + completado_1 + \",\" + enCurso_1 + \",\" + noComenzado_1 + \",\" + prefacturadoMesActual + \",\" + terminadoMesActual + \",\" + completadoMesActual + \",\" + enCursoMesActual + \",\" + noComenzadoMesActual + \")\"\n\n'Clean up by freeing the resultset and then closing the database\ncn.freeresult()\ncn.close()\n\n\nend function",
        "onTimerEventInterval": 60,
        "securityDeniedAction": "Redirect to login page",
        "clientSideEvents": {
            "_canAjaxCallback": "",
            "__afterAjaxCallbackComplete": "",
            "onAjaxCallbackFailed": "",
            "onAjaxCallbackNotAvailable": "",
            "onAjaxCallbackNotAllowed": "",
            "onBeforeCreate": "",
            "onServerSideEventHandlerError": "",
            "onFieldValidationError": "",
            "beforePrepare": "",
            "afterPrepare": "",
            "afterValidate": "",
            "onTabPaneChanged": "",
            "beforeRptSectionRowPrepare": "",
            "afterRptSectionRowPrepare": "",
            "canRptSectionRowAdd": "",
            "afterRptSectionRowAdd": "",
            "canRptSectionRowDelete": "",
            "afterRptSectionRowDelete": "",
            "onStateChange": "",
            "onDataStateChange": "",
            "afterControlBasedOnClientSideDataCacheRefreshed": "",
            "onControlFocus": "",
            "onRptSectionFocus": "",
            "onRptSectionRowChange": "",
            "canResetForm": "",
            "afterResetForm": "",
            "canRecordNavigate": "",
            "afterRecordNavigate": "",
            "onSynchronizeDialog": "",
            "afterPopulateFromTable": "",
            "onRenderComplete": "",
            "onAndroidBackButton": "",
            "onPanelActivate": "",
            "afterSaveToRepository": "",
            "afterLoadFromRepository": "",
            "afterGoogleVisualization": "",
            "canDeleteParentRecord": "",
            "afterDeleteParentRecord": "",
            "onOrientationChange": "",
            "onKeyboard": "",
            "onCordovaReady": "",
            "onPhoneGapReady": "",
            "onImageError": "",
            "onSignatureCaptureToggle": "",
            "onSignatureCaptureAccept": "",
            "onTimer": "",
            "beforeOnTimer": "",
            "canLogin": "",
            "afterLogin": "",
            "afterFailedLogin": "",
            "canLogout": "",
            "afterLogout": "",
            "onSessionTimeoutWarning": "",
            "onServerSideListSummaryCompute": "",
            "beforeHTMLReportExport": "",
            "onConnectionChange": "",
            "appCache_cached": "",
            "appCache_checking": "",
            "appCache_downloading": "",
            "appCache_error": "",
            "appCache_noupdate": "",
            "appCache_obsolete": "",
            "appCache_progress": "",
            "appCache_updateready": "",
            "onOAuthCompleted": "",
            "onControlBlur": "",
            "onControlChange": "",
            "onBeforePersistControlValuesToLocalStorage": "",
            "onPersistControlValuesToLocalStorage": "",
            "onRestoreVariablesFromLocalStorage": "",
            "onRestoreComponentStateFromLocalStorage": "",
            "localStorageEncryption": "",
            "localStorageDecryption": "",
            "securityNotAuthenticated": "",
            "securityPermissionDenied": "",
            "webSocketOnMessage": "",
            "webSocketServerClose": "",
            "webSocketSendMessageFail": "",
            "afterGoogleAddressSelect": "",
            "onBeforeClientSideDataCacheRead": "",
            "afterClientSideDataCacheAjaxCallback": "",
            "onWatchEvent": ""
        },
        "onlyValidateChangedFields": true,
        "edit": {
            "field_error_style": {
                "type": "Block",
                "showWarning": true,
                "icon": "<Specified by Style>",
                "controlContainer_classname": ""
            },
            "row_errors_window_title": "Error",
            "row_errors_window_style": "color: red; width: 6in; height: 2in;",
            "fieldValidationErrorMessage": "Form has errors."
        },
        "submitDialogIfHasClientSideValidationErrors": true,
        "activeLanguage": "<Default>",
        "datePicker": {
            "dayNames": "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            "monthNames": "January,February,March,April,May,June,July,August,September,October,November,December",
            "firstDayOfWeek": 1,
            "todayButtonText": "Today",
            "closeButtonText": "Close"
        },
        "clientSideDateFormat": "dd/MM/yyyy",
        "fontScalingOption": "All",
        "helpTableType": "DBF",
        "fieldHelpWindowStyle": "modal-resizeable",
        "customization": {
            "resetFormMessage": "Are you sure you want to reset the form?",
            "resetFormTitle": "Warning",
            "resetFormIcon": "<Specified by Style>",
            "resetFormYesButton": "Yes",
            "resetFormNoButton": "No",
            "windowTitleDirection": "ltr",
            "dirtyWarning": "You must first save your changes or cancel changes by clicking the Reset button.",
            "dirtyWarningTitle": "Notice",
            "dirtyWarningIcon": "<Specified by Style>",
            "deleteRecordWarningTitle": "Delete Record",
            "deleteRecordWarningMessage": "Are you sure you want to delete this record?"
        },
        "dataBinding": {
            "computeDataBindingCodeAtDesignTime": true,
            "computeDataBindingCodeAtDesignTimePrompt": "Prompt",
            "autoRefreshSchemaOnLoad": true,
            "autoRefreshPromptFirst": "Prompt",
            "precalc": {
                "flagCodeComputed": false
            }
        },
        "publishedServerVariables": "SESSION.CANTRECORRIDOSMEDIOTRANSPORTE = \"a\",SESSION.TOTALNOCOMENZADO = \"b\",SESSION.TOTALENCURSO = \"c\",SESSION.TOTALCOMENZADO = \"d\"",
        "info": {
            "createdBy": "ASUS",
            "dateCreated": "2018-8-7",
            "dateLastEdited": "2018-10-22"
        },
        "flagShowCommentsInTree": true,
        "treeCommentOffset": "6",
        "renderUXLocation": {
            "type": "window",
            "sizeToElement": true
        },
        "checkSessionEvery": 1,
        "warningIntervalBeforeExpiration": 1,
        "sessionTimeOutWarningMessage": "Your session will expire in {secondsToSessionEnd} seconds. Click the button to extend your session.",
        "sessionExtendSessionButtonLabel": "Extend Session",
        "sessionTimeoutWarningDialogTitle": "Warning",
        "sessionHasExpiredMessage": "Your session has expired.",
        "sessionHasExpiredButtonLabel": "OK",
        "sessionHasExpiredAction": "Nothing",
        "sessionHasExpiredRedirectPage": "<self>",
        "sessionHasExpiredDialogTitle": "Notice",
        "sessionHasExpiredOKButtonJavascript": "<ReloadThisPage>",
        "login": {
            "errorMessageStyle": "color: red;",
            "logoutDoesFullPageReload": true
        },
        "applyResponsiveDesignSettings": true,
        "responseDesignRulesMode": "FirstTrue",
        "localStorage": {
            "namespace": "<Default>",
            "__version": 1,
            "workingPreviewTestingMode": "Browser",
            "variablesToNotPersist": ""
        },
        "securityAppliedClientSide": true,
        "preRenderUXatDesignTime": true,
        "preRenderComputeWhen": "Every time component is saved",
        "page_fields": [
            {
                "controlType": "layout_directive_FrameBegin",
                "display": "{C=#0+0+127,White}{B=White,Light Blue}{F=+B}{Data=8f2600ad-e38d-4ce0-afe3-36812f7caf43}{I:'$$control.group'} [Frame: <Buscar> - FRAME_1]",
                "displayODFlat": "{Data=8f2600ad-e38d-4ce0-afe3-36812f7caf43}{I:'$$control.group'} [Frame: Buscar]",
                "idInternal": "8f2600ad-e38d-4ce0-afe3-36812f7caf43",
                "lastIndex": 4,
                "parentContainer": -1,
                "displayOD": "{C=#0+0+127,White}{B=White,Light Blue}{F=+B}{Data=8f2600ad-e38d-4ce0-afe3-36812f7caf43}{I:'$$control.group'} [Frame: Buscar]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=#0+0+127,White}{B=White,Light Blue}{F=+B}{Data=8f2600ad-e38d-4ce0-afe3-36812f7caf43}{I:'$$control.group'} [Frame: <Buscar> - FRAME_1]",
                "crc": "4294945776",
                "v": {
                    "FrameTitle": "Buscar",
                    "Frame": {
                        "ID": "FRAME_1",
                        "width": "100%",
                        "type": "Simple",
                        "initialState": "Shown",
                        "nonFloating": false,
                        "oneFrameOpenOnly": false
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<div class=\"A5CWLayout\"     style=\"width: 100%; width: 100%; \"  ><!-- DIV Container for fieldset '{grid.componentname}.FRAME_1'-->\n\t<div>\n\t<fieldset id=\"{dialog.componentName}.V.R{dialog.rowNumber}.FRAME_1\" class=\"\" style=\"-moz-border-radius: 8px;display:inline; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" >\n\t<legend class=\"\" style=\"\"  >Buscar</legend>",
                    "DesignViewHTML": ""
                }
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{B=White,Light Blue}{I:'vertLine'}{Data=3725d9f0-a931-4c7e-89d5-20e98c16051e}{I:'$$control.editCombo'} [dropdownbox1] ",
                "displayODFlat": "{Data=3725d9f0-a931-4c7e-89d5-20e98c16051e}{I:'$$control.editCombo'} [dropdownbox1]",
                "idInternal": "3725d9f0-a931-4c7e-89d5-20e98c16051e",
                "parentContainer": 1,
                "displayOD": "{B=White,Light Blue}{I:'vertLine'}{Data=3725d9f0-a931-4c7e-89d5-20e98c16051e}{I:'$$control.editCombo'} [dropdownbox1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{B=White,Light Blue}{I:'vertLine'}{Data=3725d9f0-a931-4c7e-89d5-20e98c16051e}{I:'$$control.editCombo'} [dropdownbox1] ",
                "crc": "4294954493",
                "v": {
                    "controlType": "DropdownBox",
                    "variableName": "dropdownbox1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "Tipo Medio",
                    "class": "<Default>",
                    "width": "100%",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Left",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    },
                    "dropdownbox": {
                        "size": 1,
                        "type": "Dynamic",
                        "selectStyle": "Single",
                        "choices": "",
                        "errorinlinestyle": "",
                        "datasource": "AlphaDAO",
                        "additionalChoicesPre": "",
                        "additionalChoicesPost": "",
                        "choicesVariableName": "",
                        "dbf": {
                            "table": "",
                            "displayValueField": "",
                            "storedValueField": "",
                            "filter": "",
                            "parameter_string": ""
                        },
                        "cs": {
                            "connectionString": "::name::Nibble",
                            "sql": "SELECT DISTINCT Descripcion, Id_TipoEmbarcacion FROM N_TipoEmbarcacion ORDER BY Descripcion, Id_TipoEmbarcacion",
                            "parameter_string": ""
                        },
                        "maxchoices": 0,
                        "stylefieldiferror": true,
                        "notInListRule": "Add to List",
                        "hasCascadingChoices": false,
                        "methodForComputingCascadingFilter": "<Auto>",
                        "explicitCasacadingFilter": "",
                        "parentControl": "",
                        "noSelectionDisplayValue": "",
                        "fieldNameOfFieldLinkedToParentControl": "<Auto>",
                        "fieldTypeOfFieldLinkedToParentControl": "",
                        "noChoicesDisplayValue": "",
                        "noChoicesFound": "",
                        "autoSubmitSearch": false,
                        "flagIsDefined": true
                    }
                },
                "indentTree": 1,
                "precalc": {
                    "ControlHTML": "<div class=\"A5CWLayout\" style=\"width: 100%\" >\n\t<!--LblS--><label id=\"{grid.componentname}.LBL.R{grid.rownumber}.DROPDOWNBOX1\" for=\"{grid.componentname}.V.R{grid.rownumber}.DROPDOWNBOX1\" title=\"\" class=\"[class.dialogFieldLabel]\" style=\"float: left; width: __global.labelWidth__; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\">Tipo Medio</label>\n<!--LblE--><!--FldS--><div style=\"margin-left: __global.labelWidth__ ;\"><select \t\n\t\tsize=\"1\" \n\t\tclass=\"[class.dialogSelect]\"  \n\t\tname=\"V.R{grid.rownumber}.DROPDOWNBOX1\" \n\t\ttitle=\"\"\n\t\tstyle=\"width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\"\n\t\tid=\"{grid.componentname}.V.R{grid.rownumber}.DROPDOWNBOX1\"  \n\t\t   >\n{dialog.dropdownboxchoices.DROPDOWNBOX1}\n</select>\n</div><!--FldE-->\n</div><!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->",
                    "DesignViewHTML": "",
                    "columnInfo": "'DROPDOWNBOX1': {info: {controlType: 'DropdownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "layout_directive_button",
                "display": "{B=White,Light Blue}{I:'vertLine'}{Data=7956ef46-7e7f-481f-b9b5-00e3cb7994ad}{I:'$$control.button'} [Button: Buscar] ",
                "displayODFlat": "{Data=7956ef46-7e7f-481f-b9b5-00e3cb7994ad}{I:'$$control.button'} [Button]",
                "idInternal": "7956ef46-7e7f-481f-b9b5-00e3cb7994ad",
                "parentContainer": 1,
                "displayOD": "{B=White,Light Blue}{I:'vertLine'}{Data=7956ef46-7e7f-481f-b9b5-00e3cb7994ad}{I:'$$control.button'} [Button]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{B=White,Light Blue}{I:'vertLine'}{Data=7956ef46-7e7f-481f-b9b5-00e3cb7994ad}{I:'$$control.button'} [Button: Buscar] ",
                "crc": "4294916621",
                "v": {
                    "buttonText": "Buscar",
                    "Class": "<Default>",
                    "BreakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "id": "BUTTON_1",
                    "advancedButtonStyling": true,
                    "labelClass": "<Default>",
                    "labelPosition": "None",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "advancedButton": {
                        "subTheme": "",
                        "buttonClass": "",
                        "buttonClassDisabled": "",
                        "buttonClassHover": "",
                        "buttonClassPressed": "",
                        "buttonInlineStyle": "",
                        "buttonstyle": "Text only",
                        "disabledImageName": "",
                        "hoverImageName": "",
                        "displayDropdownIconOnButton": false,
                        "displayAsSplitButton": false,
                        "hyperlinkClass": "[class.gridHyperlinkButton]",
                        "hyperlinkImagePosition": "None",
                        "hyperlinkInlineStyle": "",
                        "imageClass": "",
                        "imageInlineStyle": "",
                        "imageName": "",
                        "pressedImageName": "",
                        "textClass": "",
                        "textInlineStyle": "",
                        "type": "Button"
                    },
                    "securityGroups": "",
                    "showHideExpn": "",
                    "clientSideconditionalStyle": "",
                    "CalcExpression": "",
                    "EnableExpression": "",
                    "ShowExpression": "",
                    "abstractJavascript": {
                        "click": "/* actionJavascript:96882ffb-23bf-4ae6-9c51-2128e7ca756e     */\nfunction tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed() {\n{dialog.object}.ajaxCallback('','','xb','',additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses(),{deviceOfflineFunction: function() {   }});\n}\n\nfunction tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818() {\n{dialog.object}.refreshClientSideComputations();\n}\n\nfunction tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29() {\n{dialog.object}.jsChartRefreshData('JSCHART_1');\n}\n\n\nA5.executeThisThenThat(tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed,tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818,tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29);"
                    },
                    "precalc": {
                        "javascriptClientSideWatches": "",
                        "javascriptAbstractSetupCode": "$e.add('{dialog.componentName}.V.R{dialog.rownumber}.BUTTON_1',A5.d.evnts.click,function(e) {\nfunction tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed() {\n{dialog.object}.ajaxCallback('','','xb','',additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses(),{deviceOfflineFunction: function() {   }});\n}\n\nfunction tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818() {\n{dialog.object}.refreshClientSideComputations();\n}\n\nfunction tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29() {\n{dialog.object}.jsChartRefreshData('JSCHART_1');\n}\n\n\nA5.executeThisThenThat(tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed,tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818,tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29);\n},this,false,'{dialog.componentName}.V.R{dialog.rownumber}.BUTTON_1');\n",
                        "javascriptAdvancedButton": "",
                        "javascriptAdvancedButton_control": "{dialog.object}._buttons['BUTTON_1'] = new A5.Button({\n\tlayout: 'text',\n\tstyle: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',\n\thtml: 'Buscar',\n\tonClick: function() { \n\n},\n\ttheme: '{grid.style}'\n});",
                        "javascriptAdvancedButton_bind": "{dialog.object}._buttons['BUTTON_1'].bind('{DIALOG.COMPONENTNAME}.V.R{DIALOG.ROWNUMBER}.BUTTON_1');"
                    },
                    "javascript": {
                        "onclick": ""
                    }
                },
                "indentTree": 1,
                "precalc": {
                    "ControlHTML": "<div class=\"A5CWLayout\" style=\"width: \" >\n\t<button type=\"button\" id=\"{dialog.componentName}.V.R{dialog.rownumber}.BUTTON_1\"    ></button>\n</div><!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->",
                    "DesignViewHTML": ""
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "layout_directive_FrameEnd",
                "display": "{C=#0+0+127,White}{B=White,Light Blue}{F=+B}{Data=d253466c-bfaa-4ff0-b17e-798c94d2d43d}{I:'vertLineCap'} [Frame End - FRAME_1] ",
                "displayODFlat": "{Data=d253466c-bfaa-4ff0-b17e-798c94d2d43d}{I:'$$control.group'} [Frame End]",
                "idInternal": "d253466c-bfaa-4ff0-b17e-798c94d2d43d",
                "parentContainer": -1,
                "displayOD": "{C=#0+0+127,White}{B=White,Light Blue}{F=+B}{Data=d253466c-bfaa-4ff0-b17e-798c94d2d43d}{I:'vertLineCap'} [Frame End]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=#0+0+127,White}{B=White,Light Blue}{F=+B}{Data=d253466c-bfaa-4ff0-b17e-798c94d2d43d}{I:'vertLineCap'} [Frame End - FRAME_1] ",
                "v": {
                    "Frame": {
                        "BreakType": "After",
                        "BreakHeight": ".1in",
                        "breakHorizontalSpace": ".1in"
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "</fieldset>\n</div><!--End DIV Container for fieldset -->\n</div>\n<!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->",
                    "DesignViewHTML": ""
                },
                "containerStartIndex": 1
            },
            {
                "controlType": "layout_directive_JSChart",
                "display": "{B=White,Light Blue}{Data=2d56761b-9be1-4628-80c0-da28d7fd82b1}{I:'$$chart.line'} [Javascript Chart] ",
                "displayODFlat": "{Data=2d56761b-9be1-4628-80c0-da28d7fd82b1}{I:'$$chart.line'} [Javascript Chart]",
                "idInternal": "2d56761b-9be1-4628-80c0-da28d7fd82b1",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=2d56761b-9be1-4628-80c0-da28d7fd82b1}{I:'$$chart.line'} [Javascript Chart]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{B=White,Light Blue}{Data=2d56761b-9be1-4628-80c0-da28d7fd82b1}{I:'$$chart.line'} [Javascript Chart] ",
                "crc": "4294963390",
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<div class=\"A5CWLayout\"   id=\"{dialog.componentName}.V.R{dialog.rownumber}.JSCHART_1\" >\n\n<div id=\"{dialog.componentName}.V.R{dialog.rownumber}.JSCHART_1.JSCHART\" class=\"\" style=\"width: 5in; height: 4.5in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;;\"></div>\n</div><!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->\n",
                    "DesignViewHTML": ""
                },
                "inPanelCard": false,
                "inTreeControl": false,
                "v": {
                    "comment": "",
                    "_dirty": false,
                    "id": "JSCHART_1",
                    "jschart": {
                        "definitionJSON": "{\n\t\"html\": \"\",\n\t\"javascriptAfterRender\": \"var _settings = function() { \\n\\n\\n\\t//Define the data\\n     var s1 = ultimoMesNoComenzado();\\n     var s2 = ultimoMesEnCurso();\\n     var s3 = ultimoMesCompletado();\\n     var s4 = ultimoMesTerminado();\\n     var s5 = ultimoMesPrefacturado();\\n     var data = A5.makeArrayOfArrays(s1,s2,s3, s4, s5);\\n     var tooltips = paraTooltipsPorMedioTransporte();\\n\\n\\n\\t//data will now be an array of arrays. for example\\n    //data  = [[4,7,9],[8,6,4],......];\\n\\n    //Convert data into percentages\\n    data.forEach(function (v, k, arr)\\n    {\\n        var total = RGraph.SVG.arraySum(v);\\n\\n        for (var i=0; i<v.length; ++i) {\\n            v[i] = (v[i] / total) * 100;\\n        }\\n    });\\n    \\n    var settings = {\\n        id: '{chartDiv}',\\n        data: data,\\n        options: {\\n            gutterLeft: 50,\\n            textSize: 8,\\n            tooltips : tooltips,\\n            colors: ['red','orange','green', 'blue', '#1cc1f7'],\\n            yaxisUnitsPost: '%',\\n            xaxisLabels: ['+3 Meses','+2 Meses','+1 Mes','Mes Actual'],\\n            grouping: 'stacked',\\n            hmargin: 20,\\n            linewidth:3,\\n            yaxisMax: 100,\\n            title: '',\\n\\t\\t\\tattribution: false\\n        }\\n    };\\nreturn settings;\\n};\\n\\n\\n    var _chart = new RGraph.SVG.Bar(_settings()).draw();\\n    \\n    \\n\\t{dialog.object}._jsCharts['{chartName}'] = {};    \\n\\t{dialog.object}._jsCharts['{chartName}'].countCharts = 1;\\n\\t{dialog.object}._jsCharts['{chartName}'].settings = [_settings];\\n\\t{dialog.object}._jsCharts['{chartName}'].object = [_chart];\\n\\t{dialog.object}._jsCharts['{chartName}'].dataSeries = [];\\n{dialog.object}._jsCharts['{chartName}'].drawMethod = ['draw']\\n{dialog.object}._jsCharts['{chartName}'].drawMethodArgument = ['']\\n\\n\",\n\t\"javascriptBeforePrepare\": \"\",\n\t\"method\": \"Specify Now\",\n\t\"xbasicfunction\": \"\",\n\t\"chartCSS\": \"\"\n}"
                    },
                    "controltype": "jschart",
                    "fillPanelContainer": false,
                    "BreakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "breakHeight2": "",
                    "breakHorizontalSpace2": "",
                    "width": "5in",
                    "height": "4.5in",
                    "style": "",
                    "className": "",
                    "controlContainerClass": "",
                    "controlContainerPreventFloat": false
                }
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=f3fbaafb-da3e-471f-833c-ccbdb09b2ce6}{I:'$$control.text'} [cantMesActual] ",
                "displayODFlat": "{Data=f3fbaafb-da3e-471f-833c-ccbdb09b2ce6}{I:'$$control.text'} [cantMesActual]",
                "idInternal": "f3fbaafb-da3e-471f-833c-ccbdb09b2ce6",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=f3fbaafb-da3e-471f-833c-ccbdb09b2ce6}{I:'$$control.text'} [cantMesActual]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=f3fbaafb-da3e-471f-833c-ccbdb09b2ce6}{I:'$$control.text'} [cantMesActual] ",
                "crc": "4294948955",
                "v": {
                    "controlType": "Label",
                    "variableName": "cantMesActual",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "cantMesActual",
                    "defaultValue": "session.cantMesActual",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMESACTUAL\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'CANTMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=755f88e0-7f0a-4593-bcd9-53a885480c55}{I:'$$control.text'} [cantMes_1] ",
                "displayODFlat": "{Data=755f88e0-7f0a-4593-bcd9-53a885480c55}{I:'$$control.text'} [cantMes_1]",
                "idInternal": "755f88e0-7f0a-4593-bcd9-53a885480c55",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=755f88e0-7f0a-4593-bcd9-53a885480c55}{I:'$$control.text'} [cantMes_1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=755f88e0-7f0a-4593-bcd9-53a885480c55}{I:'$$control.text'} [cantMes_1] ",
                "crc": "4294902714",
                "v": {
                    "controlType": "Label",
                    "variableName": "cantMes_1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "cantMes_1",
                    "defaultValue": "session.cantMes_1",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMES_1\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'CANTMES_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=98d01d35-337a-4372-b22c-a007416282cd}{I:'$$control.text'} [cantMes_2] ",
                "displayODFlat": "{Data=98d01d35-337a-4372-b22c-a007416282cd}{I:'$$control.text'} [cantMes_2]",
                "idInternal": "98d01d35-337a-4372-b22c-a007416282cd",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=98d01d35-337a-4372-b22c-a007416282cd}{I:'$$control.text'} [cantMes_2]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=98d01d35-337a-4372-b22c-a007416282cd}{I:'$$control.text'} [cantMes_2] ",
                "crc": "4294938043",
                "v": {
                    "controlType": "Label",
                    "variableName": "cantMes_2",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "cantMes_2",
                    "defaultValue": "session.cantMes_2",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMES_2\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'CANTMES_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=3e2759ce-548b-4206-980a-02978a1a3889}{I:'$$control.text'} [cantMes_3] ",
                "displayODFlat": "{Data=3e2759ce-548b-4206-980a-02978a1a3889}{I:'$$control.text'} [cantMes_3]",
                "idInternal": "3e2759ce-548b-4206-980a-02978a1a3889",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=3e2759ce-548b-4206-980a-02978a1a3889}{I:'$$control.text'} [cantMes_3]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=3e2759ce-548b-4206-980a-02978a1a3889}{I:'$$control.text'} [cantMes_3] ",
                "crc": "4294918988",
                "v": {
                    "controlType": "Label",
                    "variableName": "cantMes_3",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "cantMes_3",
                    "defaultValue": "session.cantMes_3",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMES_3\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'CANTMES_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=c56c0920-59ba-434c-a590-1c7152b40afb}{I:'$$control.text'} [noComenzadoMesActual] ",
                "displayODFlat": "{Data=c56c0920-59ba-434c-a590-1c7152b40afb}{I:'$$control.text'} [noComenzadoMesActual]",
                "idInternal": "c56c0920-59ba-434c-a590-1c7152b40afb",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=c56c0920-59ba-434c-a590-1c7152b40afb}{I:'$$control.text'} [noComenzadoMesActual]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=c56c0920-59ba-434c-a590-1c7152b40afb}{I:'$$control.text'} [noComenzadoMesActual] ",
                "crc": "4294940796",
                "v": {
                    "controlType": "Label",
                    "variableName": "noComenzadoMesActual",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "noComenzadoMesActual",
                    "defaultValue": "session.noComenzadoMesActual",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADOMESACTUAL\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'NOCOMENZADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=b4d444b7-cfa3-44f2-9483-082421711427}{I:'$$control.text'} [noComenzado_1] ",
                "displayODFlat": "{Data=b4d444b7-cfa3-44f2-9483-082421711427}{I:'$$control.text'} [noComenzado_1]",
                "idInternal": "b4d444b7-cfa3-44f2-9483-082421711427",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=b4d444b7-cfa3-44f2-9483-082421711427}{I:'$$control.text'} [noComenzado_1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=b4d444b7-cfa3-44f2-9483-082421711427}{I:'$$control.text'} [noComenzado_1] ",
                "crc": "4294965305",
                "v": {
                    "controlType": "Label",
                    "variableName": "noComenzado_1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "noComenzado_1",
                    "defaultValue": "session.noComenzado_1",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADO_1\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'NOCOMENZADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=b5a8653e-6676-4b03-9700-3df237a2b6c2}{I:'$$control.text'} [noComenzado_2] ",
                "displayODFlat": "{Data=b5a8653e-6676-4b03-9700-3df237a2b6c2}{I:'$$control.text'} [noComenzado_2]",
                "idInternal": "b5a8653e-6676-4b03-9700-3df237a2b6c2",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=b5a8653e-6676-4b03-9700-3df237a2b6c2}{I:'$$control.text'} [noComenzado_2]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=b5a8653e-6676-4b03-9700-3df237a2b6c2}{I:'$$control.text'} [noComenzado_2] ",
                "crc": "4294951210",
                "v": {
                    "controlType": "Label",
                    "variableName": "noComenzado_2",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "noComenzado_2",
                    "defaultValue": "session.noComenzado_2",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADO_2\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'NOCOMENZADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=75740f26-e9a5-4cb1-a628-9a275ee167f5}{I:'$$control.text'} [noComenzado_3] ",
                "displayODFlat": "{Data=75740f26-e9a5-4cb1-a628-9a275ee167f5}{I:'$$control.text'} [noComenzado_3]",
                "idInternal": "75740f26-e9a5-4cb1-a628-9a275ee167f5",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=75740f26-e9a5-4cb1-a628-9a275ee167f5}{I:'$$control.text'} [noComenzado_3]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=75740f26-e9a5-4cb1-a628-9a275ee167f5}{I:'$$control.text'} [noComenzado_3] ",
                "crc": "4294906651",
                "v": {
                    "controlType": "Label",
                    "variableName": "noComenzado_3",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "noComenzado_3",
                    "defaultValue": "session.noComenzado_3",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADO_3\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'NOCOMENZADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=cbbb2931-9a20-4d4d-9426-2d3bd07aca92}{I:'$$control.text'} [enCursoMesActual] ",
                "displayODFlat": "{Data=cbbb2931-9a20-4d4d-9426-2d3bd07aca92}{I:'$$control.text'} [enCursoMesActual]",
                "idInternal": "cbbb2931-9a20-4d4d-9426-2d3bd07aca92",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=cbbb2931-9a20-4d4d-9426-2d3bd07aca92}{I:'$$control.text'} [enCursoMesActual]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=cbbb2931-9a20-4d4d-9426-2d3bd07aca92}{I:'$$control.text'} [enCursoMesActual] ",
                "crc": "4294956756",
                "v": {
                    "controlType": "Label",
                    "variableName": "enCursoMesActual",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "enCursoMesActual",
                    "defaultValue": "session.enCursoMesActual",
                    "hide": true,
                    "class": "<Default>",
                    "height": "4in",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSOMESACTUAL\" class=\"[class.dialogLabel]\" style=\"height: 4in; ; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'ENCURSOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=1aee911b-4821-4f63-8500-81f5ff575208}{I:'$$control.text'} [enCurso_1] ",
                "displayODFlat": "{Data=1aee911b-4821-4f63-8500-81f5ff575208}{I:'$$control.text'} [enCurso_1]",
                "idInternal": "1aee911b-4821-4f63-8500-81f5ff575208",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=1aee911b-4821-4f63-8500-81f5ff575208}{I:'$$control.text'} [enCurso_1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=1aee911b-4821-4f63-8500-81f5ff575208}{I:'$$control.text'} [enCurso_1] ",
                "crc": "4294919205",
                "v": {
                    "controlType": "Label",
                    "variableName": "enCurso_1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "enCurso_1",
                    "defaultValue": "session.enCurso_1",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSO_1\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'ENCURSO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=e87f0c90-c339-4e31-a050-61575cfb6997}{I:'$$control.text'} [enCurso_2] ",
                "displayODFlat": "{Data=e87f0c90-c339-4e31-a050-61575cfb6997}{I:'$$control.text'} [enCurso_2]",
                "idInternal": "e87f0c90-c339-4e31-a050-61575cfb6997",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=e87f0c90-c339-4e31-a050-61575cfb6997}{I:'$$control.text'} [enCurso_2]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=e87f0c90-c339-4e31-a050-61575cfb6997}{I:'$$control.text'} [enCurso_2] ",
                "crc": "4294902233",
                "v": {
                    "controlType": "Label",
                    "variableName": "enCurso_2",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "enCurso_2",
                    "defaultValue": "session.enCurso_2",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSO_2\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'ENCURSO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=2c087874-3c5e-4574-bf9c-67a70aa1c199}{I:'$$control.text'} [enCurso_3] ",
                "displayODFlat": "{Data=2c087874-3c5e-4574-bf9c-67a70aa1c199}{I:'$$control.text'} [enCurso_3]",
                "idInternal": "2c087874-3c5e-4574-bf9c-67a70aa1c199",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=2c087874-3c5e-4574-bf9c-67a70aa1c199}{I:'$$control.text'} [enCurso_3]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=2c087874-3c5e-4574-bf9c-67a70aa1c199}{I:'$$control.text'} [enCurso_3] ",
                "crc": "4294958404",
                "v": {
                    "controlType": "Label",
                    "variableName": "enCurso_3",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "enCurso_3",
                    "defaultValue": "session.enCurso_3",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSO_3\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'ENCURSO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=fedd3d76-d7c2-45e2-a476-b03b56eceaa6}{I:'$$control.text'} [completadoMesActual] ",
                "displayODFlat": "{Data=fedd3d76-d7c2-45e2-a476-b03b56eceaa6}{I:'$$control.text'} [completadoMesActual]",
                "idInternal": "fedd3d76-d7c2-45e2-a476-b03b56eceaa6",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=fedd3d76-d7c2-45e2-a476-b03b56eceaa6}{I:'$$control.text'} [completadoMesActual]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=fedd3d76-d7c2-45e2-a476-b03b56eceaa6}{I:'$$control.text'} [completadoMesActual] ",
                "crc": "4294942428",
                "v": {
                    "controlType": "Label",
                    "variableName": "completadoMesActual",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "completadoMesActual",
                    "defaultValue": "session.completadoMesActual",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADOMESACTUAL\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'COMPLETADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=4aab88dd-6359-4fdb-8699-22b675a9c64b}{I:'$$control.text'} [completado_1] ",
                "displayODFlat": "{Data=4aab88dd-6359-4fdb-8699-22b675a9c64b}{I:'$$control.text'} [completado_1]",
                "idInternal": "4aab88dd-6359-4fdb-8699-22b675a9c64b",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=4aab88dd-6359-4fdb-8699-22b675a9c64b}{I:'$$control.text'} [completado_1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=4aab88dd-6359-4fdb-8699-22b675a9c64b}{I:'$$control.text'} [completado_1] ",
                "crc": "4294944744",
                "v": {
                    "controlType": "Label",
                    "variableName": "completado_1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "completado_1",
                    "defaultValue": "session.completado_1",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADO_1\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'COMPLETADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=e78ae3de-a7ef-460a-89a6-79c3224e55d1}{I:'$$control.text'} [completado_2] ",
                "displayODFlat": "{Data=e78ae3de-a7ef-460a-89a6-79c3224e55d1}{I:'$$control.text'} [completado_2]",
                "idInternal": "e78ae3de-a7ef-460a-89a6-79c3224e55d1",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=e78ae3de-a7ef-460a-89a6-79c3224e55d1}{I:'$$control.text'} [completado_2]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=e78ae3de-a7ef-460a-89a6-79c3224e55d1}{I:'$$control.text'} [completado_2] ",
                "crc": "4294955559",
                "v": {
                    "controlType": "Label",
                    "variableName": "completado_2",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "completado_2",
                    "defaultValue": "session.completado_2",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADO_2\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'COMPLETADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=02cbddd8-cfcf-4243-93cb-5e6092a090c2}{I:'$$control.text'} [completado_3] ",
                "displayODFlat": "{Data=02cbddd8-cfcf-4243-93cb-5e6092a090c2}{I:'$$control.text'} [completado_3]",
                "idInternal": "02cbddd8-cfcf-4243-93cb-5e6092a090c2",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=02cbddd8-cfcf-4243-93cb-5e6092a090c2}{I:'$$control.text'} [completado_3]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=02cbddd8-cfcf-4243-93cb-5e6092a090c2}{I:'$$control.text'} [completado_3] ",
                "crc": "4294938105",
                "v": {
                    "controlType": "Label",
                    "variableName": "completado_3",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "completado_3",
                    "defaultValue": "session.completado_3",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADO_3\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'COMPLETADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=a1326d08-b5a8-4978-abea-c881fa588656}{I:'$$control.text'} [terminadoMesActual] ",
                "displayODFlat": "{Data=a1326d08-b5a8-4978-abea-c881fa588656}{I:'$$control.text'} [terminadoMesActual]",
                "idInternal": "a1326d08-b5a8-4978-abea-c881fa588656",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=a1326d08-b5a8-4978-abea-c881fa588656}{I:'$$control.text'} [terminadoMesActual]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=a1326d08-b5a8-4978-abea-c881fa588656}{I:'$$control.text'} [terminadoMesActual] ",
                "crc": "4294909055",
                "v": {
                    "controlType": "Label",
                    "variableName": "terminadoMesActual",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "terminadoMesActual",
                    "defaultValue": "session.terminadoMesActual",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADOMESACTUAL\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'TERMINADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=783fa0c9-59fa-488e-834b-6614e0f0ada8}{I:'$$control.text'} [terminado_3] ",
                "displayODFlat": "{Data=783fa0c9-59fa-488e-834b-6614e0f0ada8}{I:'$$control.text'} [terminado_3]",
                "idInternal": "783fa0c9-59fa-488e-834b-6614e0f0ada8",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=783fa0c9-59fa-488e-834b-6614e0f0ada8}{I:'$$control.text'} [terminado_3]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=783fa0c9-59fa-488e-834b-6614e0f0ada8}{I:'$$control.text'} [terminado_3] ",
                "crc": "4294924750",
                "v": {
                    "controlType": "Label",
                    "variableName": "terminado_3",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "terminado_3",
                    "defaultValue": "session.terminado_3",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADO_3\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'TERMINADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=c69a2f11-db09-421b-a1ac-b181176af37e}{I:'$$control.text'} [terminado_2] ",
                "displayODFlat": "{Data=c69a2f11-db09-421b-a1ac-b181176af37e}{I:'$$control.text'} [terminado_2]",
                "idInternal": "c69a2f11-db09-421b-a1ac-b181176af37e",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=c69a2f11-db09-421b-a1ac-b181176af37e}{I:'$$control.text'} [terminado_2]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=c69a2f11-db09-421b-a1ac-b181176af37e}{I:'$$control.text'} [terminado_2] ",
                "crc": "4294937444",
                "v": {
                    "controlType": "Label",
                    "variableName": "terminado_2",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "terminado_2",
                    "defaultValue": "session.terminado_2",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADO_2\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'TERMINADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=5f839474-b818-40fc-9e16-d471b16647a9}{I:'$$control.text'} [terminado_1] ",
                "displayODFlat": "{Data=5f839474-b818-40fc-9e16-d471b16647a9}{I:'$$control.text'} [terminado_1]",
                "idInternal": "5f839474-b818-40fc-9e16-d471b16647a9",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=5f839474-b818-40fc-9e16-d471b16647a9}{I:'$$control.text'} [terminado_1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=5f839474-b818-40fc-9e16-d471b16647a9}{I:'$$control.text'} [terminado_1] ",
                "crc": "4294953917",
                "v": {
                    "controlType": "Label",
                    "variableName": "terminado_1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "terminado_1",
                    "defaultValue": "session.terminado_1",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADO_1\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'TERMINADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=6cbb21b9-aa46-4034-a0f4-c5502105959d}{I:'$$control.text'} [prefacturadoMesActual] ",
                "displayODFlat": "{Data=6cbb21b9-aa46-4034-a0f4-c5502105959d}{I:'$$control.text'} [prefacturadoMesActual]",
                "idInternal": "6cbb21b9-aa46-4034-a0f4-c5502105959d",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=6cbb21b9-aa46-4034-a0f4-c5502105959d}{I:'$$control.text'} [prefacturadoMesActual]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=6cbb21b9-aa46-4034-a0f4-c5502105959d}{I:'$$control.text'} [prefacturadoMesActual] ",
                "crc": "4294955588",
                "v": {
                    "controlType": "Label",
                    "variableName": "prefacturadoMesActual",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "prefacturadoMesActual",
                    "defaultValue": "session.prefacturadoMesActual",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADOMESACTUAL\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'PREFACTURADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=6ea4177f-8d98-46e2-b3ba-f2c87b9cce3b}{I:'$$control.text'} [prefacturado_3] ",
                "displayODFlat": "{Data=6ea4177f-8d98-46e2-b3ba-f2c87b9cce3b}{I:'$$control.text'} [prefacturado_3]",
                "idInternal": "6ea4177f-8d98-46e2-b3ba-f2c87b9cce3b",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=6ea4177f-8d98-46e2-b3ba-f2c87b9cce3b}{I:'$$control.text'} [prefacturado_3]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=6ea4177f-8d98-46e2-b3ba-f2c87b9cce3b}{I:'$$control.text'} [prefacturado_3] ",
                "crc": "4294961458",
                "v": {
                    "controlType": "Label",
                    "variableName": "prefacturado_3",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "prefacturado_3",
                    "defaultValue": "session.prefacturado_3",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADO_3\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'PREFACTURADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=fd904f36-5a24-4d85-9cb6-3e50bf62a6ad}{I:'$$control.text'} [prefacturado_2] ",
                "displayODFlat": "{Data=fd904f36-5a24-4d85-9cb6-3e50bf62a6ad}{I:'$$control.text'} [prefacturado_2]",
                "idInternal": "fd904f36-5a24-4d85-9cb6-3e50bf62a6ad",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=fd904f36-5a24-4d85-9cb6-3e50bf62a6ad}{I:'$$control.text'} [prefacturado_2]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=fd904f36-5a24-4d85-9cb6-3e50bf62a6ad}{I:'$$control.text'} [prefacturado_2] ",
                "crc": "4294931123",
                "v": {
                    "controlType": "Label",
                    "variableName": "prefacturado_2",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "prefacturado_2",
                    "defaultValue": "session.prefacturado_2",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADO_2\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'PREFACTURADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            },
            {
                "controlType": "dialog_formcontrol",
                "display": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=3df84356-796b-42a3-bc59-dc20101b6b37}{I:'$$control.text'} [prefacturado_1] ",
                "displayODFlat": "{Data=3df84356-796b-42a3-bc59-dc20101b6b37}{I:'$$control.text'} [prefacturado_1]",
                "idInternal": "3df84356-796b-42a3-bc59-dc20101b6b37",
                "parentContainer": -1,
                "displayOD": "{B=White,Light Blue}{Data=3df84356-796b-42a3-bc59-dc20101b6b37}{I:'$$control.text'} [prefacturado_1]",
                "repeatingSectionParentId": -1,
                "displayODtree": "{C=System-ButtonShadow,White}{B=White,Light Blue}{Data=3df84356-796b-42a3-bc59-dc20101b6b37}{I:'$$control.text'} [prefacturado_1] ",
                "crc": "4294958315",
                "v": {
                    "controlType": "Label",
                    "variableName": "prefacturado_1",
                    "type": "Character",
                    "maxLength": -1,
                    "watermark": {
                        "text": "<FieldLabel>"
                    },
                    "precalc": {
                        "javascriptAbstractSetupCode": ""
                    },
                    "textboxAutocorrect": true,
                    "textboxAutoCapitalize": true,
                    "label": "prefacturado_1",
                    "defaultValue": "session.prefacturado_1",
                    "hide": true,
                    "class": "<Default>",
                    "breakType": "After",
                    "breakHeight": ".1in",
                    "breakHorizontalSpace": ".1in",
                    "labelClass": "<Default>",
                    "labelPosition": "Above",
                    "labelWidth": "{Global.LabelWidth}",
                    "labelAlignment": "Left",
                    "repeatingSectionColumnHeading": "<FieldLabel>",
                    "helpIcon": "images/$$generic.help.png.a5image",
                    "showHelpIcon": "None",
                    "helpIconBehavior": "ShowHelpOnClick",
                    "clientSideFormat": {
                        "type": "Mask"
                    },
                    "onChange_ValidationOption": "Client-side only",
                    "dataBinding": {
                        "updateable": true,
                        "image": {
                            "type": "JPG",
                            "noImageFoundImage": "<None>",
                            "newRecordImage": "<None>"
                        },
                        "ink": {
                            "hasbackgroundimage": false,
                            "backgroundimage": "",
                            "inkunits": 1
                        }
                    },
                    "textboxSubTheme": "",
                    "getFunction": "",
                    "setFunction": "",
                    "datePicker": {
                        "displayTimePicker": false,
                        "openMethod": "ClickIcon",
                        "dateFormat": "<Default>",
                        "iconNumber": 2,
                        "OKButtonLabel": "OK",
                        "CancelButtonLabel": "Cancel",
                        "userMustSelectFromDatePicker": false,
                        "multiple": {
                            "allow": false,
                            "separators": ".."
                        },
                        "hasMask": false,
                        "format": {
                            "mask": ""
                        },
                        "timePickerOptionsDefined": false,
                        "display": false
                    },
                    "displayAsSlider": false,
                    "flags": {
                        "clientSideDefinition": false
                    }
                },
                "indentTree": 0,
                "precalc": {
                    "ControlHTML": "<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADO_1\" class=\"[class.dialogLabel]\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>",
                    "DesignViewHTML": "",
                    "columnInfo": "'PREFACTURADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }\n"
                },
                "inPanelCard": false,
                "inTreeControl": false
            }
        ],
        "builderType": "Dialog2",
        "guid": "efbf6da1-ab3a-40d2-b3fc-e0826f3f0662",
        "componentName": "DASHBOARD_GRAFICO_RECORRIDOS_ULTIMOS4MESES",
        "componentFilename": "C:\\Users\\ASUS\\Desktop\\Nibble-TM\\Nibble-TM.WebProjects\\Default.WebProject\\DashBoard_Grafico_Recorridos_Ultimos4Meses.a5wcmp",
        "_style_versionNumber": -1,
        "_style_hasSassOverrides": false,
        "_style_hasCSSTweaks": false,
        "_style_hasCSS_or_subtheme_tweaks": false,
        "useCompactTheme": false,
        "styleTweaksCSS": "",
        "styleTweaksSubthemes": "",
        "controlflowdirection": "ltr",
        "SVGLinkedFiles": "",
        "localsvg": "",
        "createAppCacheVersion": false,
        "createAppCacheVersionC": "No",
        "appcache": {
            "pageName": "<Default>",
            "pageTitle": "",
            "hasHomeScreenIcons": false,
            "homeScreenIconName": "",
            "icons": {
                "precomposed": false
            },
            "pageHeadSection": ""
        },
        "clientsideNumberFormatDecimal": "period",
        "clientsideNumberFormatThousands": "comma",
        "dataSeriesPublishToClientSide": false,
        "showLineNumbersInControlsList": false,
        "saveFileType": "Formatted JSON",
        "keyboardShortcutsJSON": "",
        "preRenderWarningMessageShow": true,
        "autoSetPreRenderOnForAllUX": true,
        "selected": "2d56761b-9be1-4628-80c0-da28d7fd82b1\n",
        "designPaneIndex": 1,
        "masterPaneC": "controls",
        "serverSideEventIndex": 1,
        "clientSideEventIndex": 1,
        "clientSideEventIndexC": "1",
        "lastControlSelected": "Insert_layout_directive_FrameBegin",
        "__WPhostName": "Chrome",
        "embeddedMode": false,
        "_style_hassubthemeTweaks": false,
        "repeatingSectionsAreDirty": true,
        "containerSubTypeNew": "",
        "containerSubTypeOld": "",
        "flagDropdownCascadingChanged": false,
        "toolBox_value": "",
        "addinBuildNumber": "5152",
        "addinBuildNumberHighestUsed": "5152",
        "alphaFiveBuildNumber": "12",
        "openedFromTemplate": false,
        "builtWithVersionNumer": 1,
        "_buildCount": "266",
        "securityEnabled": false,
        "showHideIsUsed": false,
        "precalc": {
            "js_editorSetInitialization": ";\n",
            "customControl": {
                "js_beforePrepare": "\n__replaceAtRuntime_CustomControlsSystemBeforePrepare",
                "js_afterRender": "\n__replaceAtRuntime_CustomControlsSystemAfterRender",
                "customControl_xbasicFunctions": ""
            },
            "jschart": {
                "js_beforePrepare": "\n",
                "js_afterRender": "var _settings = function() { \n\n\n\t//Define the data\n     var s1 = ultimoMesNoComenzado();\n     var s2 = ultimoMesEnCurso();\n     var s3 = ultimoMesCompletado();\n     var s4 = ultimoMesTerminado();\n     var s5 = ultimoMesPrefacturado();\n     var data = A5.makeArrayOfArrays(s1,s2,s3, s4, s5);\n     var tooltips = paraTooltipsPorMedioTransporte();\n\n\n\t//data will now be an array of arrays. for example\n    //data  = [[4,7,9],[8,6,4],......];\n\n    //Convert data into percentages\n    data.forEach(function (v, k, arr)\n    {\n        var total = RGraph.SVG.arraySum(v);\n\n        for (var i=0; i<v.length; ++i) {\n            v[i] = (v[i] / total) * 100;\n        }\n    });\n    \n    var settings = {\n        id: '{dialog.componentName}.V.R{dialog.rownumber}.JSCHART_1.JSCHART',\n        data: data,\n        options: {\n            gutterLeft: 50,\n            textSize: 8,\n            tooltips : tooltips,\n            colors: ['red','orange','green', 'blue', '#1cc1f7'],\n            yaxisUnitsPost: '%',\n            xaxisLabels: ['+3 Meses','+2 Meses','+1 Mes','Mes Actual'],\n            grouping: 'stacked',\n            hmargin: 20,\n            linewidth:3,\n            yaxisMax: 100,\n            title: '',\n\t\t\tattribution: false\n        }\n    };\nreturn settings;\n};\n\n\n    var _chart = new RGraph.SVG.Bar(_settings()).draw();\n    \n    \n\t{dialog.object}._jsCharts['JSCHART_1'] = {};    \n\t{dialog.object}._jsCharts['JSCHART_1'].countCharts = 1;\n\t{dialog.object}._jsCharts['JSCHART_1'].settings = [_settings];\n\t{dialog.object}._jsCharts['JSCHART_1'].object = [_chart];\n\t{dialog.object}._jsCharts['JSCHART_1'].dataSeries = [];\n{dialog.object}._jsCharts['JSCHART_1'].drawMethod = ['draw']\n{dialog.object}._jsCharts['JSCHART_1'].drawMethodArgument = ['']\n\n",
                "jschart_xbasicFunctions": ""
            },
            "rgraph": {
                "libraries": "RGraph.utilities.js\nRGraph.svg.common.core.js\nRGraph.svg.common.tooltips.js\nRGraph.svg.bar.js\n"
            },
            "getSetFunctions": {
                "js_beforePrepare": ""
            },
            "injectibleHTML": "",
            "containerWindowHTML": "",
            "repeatingsectionInfoJs": "",
            "framesInfoJS": "{dialog.object}.framesInfo = {\n\n};\n",
            "jsActionJavascriptGlobalFunctions": "",
            "xbActionJavascriptGlobalFunctions": "",
            "javascriptSetupForGridLookups": "{\n}",
            "javascript": {
                "showWaitMessage": "",
                "hideWaitMessage": "",
                "embeddedUXComponents": ""
            },
            "fileUpload_controlInfo": "",
            "javascript_cascadingDropdowns": "{dialog.object}._cascadingControls = [];\n{dialog.object}._cascadingControlsChildren = [];",
            "template_html": "<!--div GLOBALERRORS-->\n<div class=\"errorTip\" style=\"margin-bottom: 2px; display: none; width: 8in; \" id=\"{dialog.componentname}.GLOBALERRORS\"></div>\n<!--End div GLOBALERRORS-->\n\n<div id=\"{dialog.componentname}.R1\">\n<div class=\"A5CWLayout\"     style=\"width: 100%; width: 100%; \"  ><!-- DIV Container for fieldset '{grid.componentname}.FRAME_1'-->\n\t<div>\n\t<fieldset id=\"{dialog.componentName}.V.R{dialog.rowNumber}.FRAME_1\" class=\"\" style=\"-moz-border-radius: 8px;display:inline; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" >\n\t<legend class=\"\" style=\"\"  >Buscar</legend>\n<div class=\"A5CWLayout\" style=\"width: 100%\" >\n\t<!--LblS--><label id=\"{grid.componentname}.LBL.R{grid.rownumber}.DROPDOWNBOX1\" for=\"{grid.componentname}.V.R{grid.rownumber}.DROPDOWNBOX1\" title=\"\" class=\"GrBlueDialogLabel\" style=\"float: left; width: __global.labelWidth__; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\">Tipo Medio</label>\n<!--LblE--><!--FldS--><div style=\"margin-left: __global.labelWidth__ ;\"><select \t\n\t\tsize=\"1\" \n\t\tclass=\"GrBlueEdit\"  \n\t\tname=\"V.R{grid.rownumber}.DROPDOWNBOX1\" \n\t\ttitle=\"\"\n\t\tstyle=\"width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\"\n\t\tid=\"{grid.componentname}.V.R{grid.rownumber}.DROPDOWNBOX1\"  \n\t\t   >\n{dialog.dropdownboxchoices.DROPDOWNBOX1}\n</select>\n</div><!--FldE-->\n</div><!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->\n<div class=\"A5CWLayout\" style=\"width: \" >\n\t<button type=\"button\" id=\"{dialog.componentName}.V.R{dialog.rownumber}.BUTTON_1\"    ></button>\n</div>\n</fieldset>\n</div><!--End DIV Container for fieldset -->\n</div>\n<!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->\n<div class=\"A5CWLayout\"   id=\"{dialog.componentName}.V.R{dialog.rownumber}.JSCHART_1\" >\n\n<div id=\"{dialog.componentName}.V.R{dialog.rownumber}.JSCHART_1.JSCHART\" class=\"\" style=\"width: 5in; height: 4.5in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;;\"></div>\n</div><!--breakbegin--><br  style=\"clear:both; \" /><!--breakend-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div style=\"display:none;\">\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMES_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMES_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.CANTMES_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.NOCOMENZADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSOMESACTUAL\" class=\"GrBlueGridData\" style=\"height: 4in; ; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.ENCURSO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.COMPLETADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.TERMINADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{grid.componentname}.V.R{grid.rownumber}.PREFACTURADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n</div>\n</div>\n<!--div DEBUGUPDATECOMMANDS-->\n<div class=\"\" style=\"display: none; \" id=\"{dialog.componentname}.DEBUGUPDATECOMMANDS\"></div>\n<!--End div DEBUGUPDATECOMMANDS-->\n",
            "panelDisplayNames": "",
            "controlJavascript": "",
            "controlJavascriptRepeatingSections": "",
            "template_js": "",
            "sessionVarsInShowHideExpns": "",
            "flagHasShowTimer": false,
            "themeSearchReplaceString": "[theme:tab.base.className|{grid.style}TabT]=*if_error(p.tab.base.className,\"{grid.style}TabT\")\n[theme:tab.base.tabsClassName|{grid.style}TabTBand]=*if_error(p.tab.base.tabsClassName,\"{grid.style}TabTBand\")\n[theme:tab.base.panesClassName|{grid.style}TabTPanes]=*if_error(p.tab.base.panesClassName,\"{grid.style}TabTPanes\")\n[theme:editButtonGroup.base.container.className|{grid.style}EditBG]=*if_error(p.editButtonGroup.base.container.className,\"{grid.style}EditBG\")\n[theme:editButtonGroup.base.container.editClassName|class.editButtonGroupEdit]=*if_error(p.editButtonGroup.base.container.editClassName,\"[class.editButtonGroupEdit]\")\n[theme:editButtonGroup.base.container.separatorClassName|{grid.style}EditBGSeparator]=*if_error(p.editButtonGroup.base.container.separatorClassName,\"{grid.style}EditBGSeparator\")\n[theme:editButtonGroup.base.container.button.className|{grid.style}EditBGButton]=*if_error(p.editButtonGroup.base.container.button.className,\"{grid.style}EditBGButton\")\n[theme:button.base.className]=*if_error(p.button.base.className,\"[class.gridButton]\")\n[theme:listBox.base.className|{dialog.style}List]=*if_error(p.listBox.base.className,\"{dialog.style}List\")\n",
            "flagHasHTML5ImageCapture": false,
            "flagUsesCordova": false,
            "flagUseAmazonS3FileUpload": false,
            "flagUseStripe": false,
            "usesSystemSVG": false,
            "flagUseAudioPlayer": false,
            "flagUseInk": false,
            "flagUsesAudioLibrary": false,
            "flagUsesPhoneGapFileSystemFunctions": false,
            "flagUsesGetAccurateLocation": false,
            "editorSet_for_editor": "{dialog.object}._EDITOR_EDITORSET = {};",
            "otherJS": "",
            "javascript_layoutRules": "",
            "javascript_controlNesting": "{\nFRAME_1: ['dropdownbox1']\n}",
            "appcacheEvents": "",
            "IconMap": "{images.RowExpander.Open}=\"<Specified by Style>\"\n{images.RowExpander.Close}=\"<Specified by Style>\"\n{images.EmbeddedSearch.Search}=\"<Specified by Style>\"\n{images.EmbeddedSearch.ClearSearch}=\"<Specified by Style>\"\n{images.EmbeddedSearch.ShowHideEmbeddedSearch}=\"<Specified by Style>\"\n{images.GridRow.NewRecordRow.NoFocus}=\"<Specified by Style>\"\n{images.GridRow.NewRecordRow.HasFocus}=\"<Specified by Style>\"\n{images.GridRow.SaveRecord}=\"<Specified by Style>\"\n{images.GridRow.SaveRecord.Disabled}=\"<Specified by Style>\"\n{images.GridRow.UndoChanges}=\"<Specified by Style>\"\n{images.GridRow.UndoChanges.Disabled}=\"<Specified by Style>\"\n{images.GridRow.EditRecord}=\"<Specified by Style>\"\n{images.GridRow.EditRecord.Disabled}=\"<Specified by Style>\"\n{images.GridRow.DeleteRecord}=\"<Specified by Style>\"\n{images.GridRow.DeleteRecord.Disabled}=\"<Specified by Style>\"\n{images.GridRow.CancelEditRecord}=\"<Specified by Style>\"\n{images.GridRow.CancelEditRecord.Disabled}=\"<Specified by Style>\"\n{images.GridRow.HasError}=\"<Specified by Style>\"\n{images.QBE.OperatorIsSelected}=\"<Specified by Style>\"\n{images.QBE.OpenQBEMenu}=\"<Specified by Style>\"\n{images.QBE.ShowHideQBERow}=\"<Specified by Style>\"\n{images.PopUpWindow.Lookup.Close}=\"<Specified by Style>\"\n{images.PopUpWindow.DetailView.Close}=\"<Specified by Style>\"\n{images.CollapseContainer.Open}=\"<Specified by Style>\"\n{images.CollapseContainer.Close}=\"<Specified by Style>\"\n{images.FieldHelpIcon}=\"<Specified by Style>\"\n{images.SearchPart.SaveSearchCriteria}=\"<Specified by Style>\"\n{images.SearchPart.LoadSearchCriteria}=\"<Specified by Style>\"\n{images.SearchPart.RunSearch}=\"<Specified by Style>\"\n{images.SearchPart.ClearSearch}=\"<Specified by Style>\"\n{images.GridRow.SelectionPointer}=\"<Specified by Style>\"\n{images.Grid.SortAsc}=\"<Specified by Style>\"\n{images.Grid.SortAscDisabled}=\"<Specified by Style>\"\n{images.Grid.sortDesc}=\"<Specified by Style>\"\n{images.grid.sortDescDisabled}=\"<Specified by Style>\"\n{images.grid.firstPage}=\"<Specified by Style>\"\n{images.grid.firstPageDisabled}=\"<Specified by Style>\"\n{images.grid.prevPage}=\"<Specified by Style>\"\n{images.grid.prevPageDisabled}=\"<Specified by Style>\"\n{images.grid.nextPage}=\"<Specified by Style>\"\n{images.grid.nextPageDisabled}=\"<Specified by Style>\"\n{images.grid.lastPage}=\"<Specified by Style>\"\n{images.grid.lastPageDisabled}=\"<Specified by Style>\"\n{images.edit.dropdownArrow}=\"<Specified by Style>\"\n{images.edit.datePicker}=\"<Specified by Style>\"\n{images.edit.dateTimePicker}=\"<Specified by Style>\"\n{images.edit.timePicker}=\"<Specified by Style>\"\n{images.edit.calculator}=\"<Specified by Style>\"\n{images.edit.lookup}=\"<Specified by Style>\"\n{images.javascript.deleteRowConfirmation}=\"<Specified by Style>\"\n{images.javascript.cancelEditRowConfirmation}=\"<Specified by Style>\"\n{images.javascript.UndoEditsConfirmation}=\"<Specified by Style>\"\n{images.javascript.UndoAllEditsConfirmation}=\"<Specified by Style>\"\n{images.javascript.dirtyRecordWarning}=\"<Specified by Style>\"\n{images.dv.close}=\"<Specified by Style>\"\n{images.dv.firstRecord}=\"<Specified by Style>\"\n{images.dv.prevRecord}=\"<Specified by Style>\"\n{images.dv.nextRecord}=\"<Specified by Style>\"\n{images.dv.lastRecord}=\"<Specified by Style>\"\n{images.dv.newRecord}=\"<Specified by Style>\"\n{images.dv.cancelEdits}=\"<Specified by Style>\"\n{images.dv.deleteRecord}=\"<Specified by Style>\"\n{images.dv.saveRecord}=\"<Specified by Style>\"\n{images.dv.saveAndEnter}=\"<Specified by Style>\"\n{images.dv.switchToEdit}=\"<Specified by Style>\"\n{images.dv.switchToView}=\"<Specified by Style>\"\n{images.disabled.dv.newRecord}=\"<Specified by Style>\"\n{images.disabled.dv.cancelEdits}=\"<Specified by Style>\"\n{images.disabled.dv.deleteRecord}=\"<Specified by Style>\"\n{images.disabled.dv.saveRecord}=\"<Specified by Style>\"\n{images.disabled.dv.saveAndEnter}=\"<Specified by Style>\"\n{images.dv.cancelNewRecord}=\"<Specified by Style>\"\n{images.grid.editError}=\"<Specified by Style>\"\n{images.dialog.editError}=\"<Specified by Style>\"\n{images.tabbedUI.menuExpandLeft}=\"<Specified by Style>\"\n{images.tabbedUI.menuCollapseLeft}=\"<Specified by Style>\"\n{images.tabbedUI.menuExpandRight}=\"<Specified by Style>\"\n{images.tabbedUI.menuCollapseRight}=\"<Specified by Style>\"",
            "absoluteLayoutSetButtonSizes": "",
            "viewBoxesToRefresh": "",
            "AdditionalGridStyles": "",
            "vb_based_on_lists": "",
            "vb_based_on_javascritFunctions": "",
            "constrainContainerJS": "",
            "requiredPlugins": ""
        },
        "FieldsInRepeatingSectionsDeletedBySecurity": "",
        "repeatingSectionsToRecalc": "",
        "dialogObject": "if(typeof {dialog.componentName}_DlgObj == 'object') {dialog.componentName}_DlgObj._destroy();\nvar {dialog.componentName}_DlgObj = new A5.DialogComponentHelper('{dialog.componentName}',{\n\tajaxURL: '{dialog.ajaxUrl}',\n\t_embeddedMode: {dialog.embeddedMode},\n\t_livePreviewInBuilder: {livePreviewInBuilder},\n\tcomponentGUID: 'efbf6da1-ab3a-40d2-b3fc-e0826f3f0662',\n\tcolumnInfo: {columninfo},\n\toriginalValues: {dialog.jsOriginalValues},\n\tdefaultValues: {dialog.jsDefaultValues},\n\tdatePickerMonthNames: [{datePickerMonthNames}],\n\tdatePickerDayNames: [{datePickerDayNames}],\n\tdatePickerTodayButton: '{datePickerTodayButton}',\n\tdatePickerCloseButton: '{datePickerCloseButton}',\n\tdatePickerFirstDayOfWeek: {datePickerFirstDayOfWeek},\n\tresetFormMessage: '{resetFormMessage}',\n\tresetFormTitle: '{resetFormTitle}',\n\tresetFormIcon: '{resetFormIcon}',\n\tdirtyFormMessage: '{dirtyFormMessage}',\n\tdirtyFormTitle: '{dirtyFormTitle}',\n\tdirtyFormIcon: '{dirtyFormIcon}',\n\tdeleteRecordDialogTitle: '{deleteRecordTitle}',\n\tdeleteRecordDialogMessage: '{deleteRecordMessage}',\t\n\tssDateFormat: '{serverSideDateFormat}',\n\tstyleName: '{dialog.style}',\n\t_fieldHelpers_DIALOG2: [],\n\tparentComponentAlias: '{parentComponentAlias}',\n\tsubmitIfHasClientSideErrors: true, \n\trowErrors: {\n\t\t\t\tshowMessageBox: false,\n\t\t\t\tmessageBoxTitle: 'Error',\n\t\t\t\tstyle: 'color: red; width: 6in; height: 2in;'\n\t\t},\n\tfieldErrors: {\n\t\ttype: 'block', \n\t\tclassName: 'errorText',\n\t\tinputClassName: '[class.gridInputError]',\n\t\tedit: { \n\t\t\tcontainer: { className: '[class.gridInputContainerError]'}\n\t\t},\n\t\ticon: '{images.dialog.editError}',\n\t\tglobal: {\n\t\t\tcontId: '{dialog.componentname}.GLOBALERRORS',\n\t\t\thoverClassName: 'errorTextHighlight',\n\t\t\thoverInputClassName: 'errorInputHighlight'\n\t\t}\n\t}\n\n\t});\n\n",
        "xbasiccode": {
            "blankInitialValueIfVarNotFound": "",
            "setValueProperties": "value.DROPDOWNBOX1=\"\"\nvalue.CANTMESACTUAL=\"session.cantMesActual\"\nvalue.CANTMES_1=\"session.cantMes_1\"\nvalue.CANTMES_2=\"session.cantMes_2\"\nvalue.CANTMES_3=\"session.cantMes_3\"\nvalue.NOCOMENZADOMESACTUAL=\"session.noComenzadoMesActual\"\nvalue.NOCOMENZADO_1=\"session.noComenzado_1\"\nvalue.NOCOMENZADO_2=\"session.noComenzado_2\"\nvalue.NOCOMENZADO_3=\"session.noComenzado_3\"\nvalue.ENCURSOMESACTUAL=\"session.enCursoMesActual\"\nvalue.ENCURSO_1=\"session.enCurso_1\"\nvalue.ENCURSO_2=\"session.enCurso_2\"\nvalue.ENCURSO_3=\"session.enCurso_3\"\nvalue.COMPLETADOMESACTUAL=\"session.completadoMesActual\"\nvalue.COMPLETADO_1=\"session.completado_1\"\nvalue.COMPLETADO_2=\"session.completado_2\"\nvalue.COMPLETADO_3=\"session.completado_3\"\nvalue.TERMINADOMESACTUAL=\"session.terminadoMesActual\"\nvalue.TERMINADO_3=\"session.terminado_3\"\nvalue.TERMINADO_2=\"session.terminado_2\"\nvalue.TERMINADO_1=\"session.terminado_1\"\nvalue.PREFACTURADOMESACTUAL=\"session.prefacturadoMesActual\"\nvalue.PREFACTURADO_3=\"session.prefacturado_3\"\nvalue.PREFACTURADO_2=\"session.prefacturado_2\"\nvalue.PREFACTURADO_1=\"session.prefacturado_1\"",
            "setValueProperties2": "value.DROPDOWNBOX1=\"\"\nvalue.CANTMESACTUAL=\"session.cantMesActual\"\nvalue.CANTMES_1=\"session.cantMes_1\"\nvalue.CANTMES_2=\"session.cantMes_2\"\nvalue.CANTMES_3=\"session.cantMes_3\"\nvalue.NOCOMENZADOMESACTUAL=\"session.noComenzadoMesActual\"\nvalue.NOCOMENZADO_1=\"session.noComenzado_1\"\nvalue.NOCOMENZADO_2=\"session.noComenzado_2\"\nvalue.NOCOMENZADO_3=\"session.noComenzado_3\"\nvalue.ENCURSOMESACTUAL=\"session.enCursoMesActual\"\nvalue.ENCURSO_1=\"session.enCurso_1\"\nvalue.ENCURSO_2=\"session.enCurso_2\"\nvalue.ENCURSO_3=\"session.enCurso_3\"\nvalue.COMPLETADOMESACTUAL=\"session.completadoMesActual\"\nvalue.COMPLETADO_1=\"session.completado_1\"\nvalue.COMPLETADO_2=\"session.completado_2\"\nvalue.COMPLETADO_3=\"session.completado_3\"\nvalue.TERMINADOMESACTUAL=\"session.terminadoMesActual\"\nvalue.TERMINADO_3=\"session.terminado_3\"\nvalue.TERMINADO_2=\"session.terminado_2\"\nvalue.TERMINADO_1=\"session.terminado_1\"\nvalue.PREFACTURADOMESACTUAL=\"session.prefacturadoMesActual\"\nvalue.PREFACTURADO_3=\"session.prefacturado_3\"\nvalue.PREFACTURADO_2=\"session.prefacturado_2\"\nvalue.PREFACTURADO_1=\"session.prefacturado_1\"",
            "setValueUnformattedProperties": "value.DROPDOWNBOX1=convert_type(\"\",\"C\")\nvalue.CANTMESACTUAL=convert_type(\"session.cantMesActual\",\"C\")\nvalue.CANTMES_1=convert_type(\"session.cantMes_1\",\"C\")\nvalue.CANTMES_2=convert_type(\"session.cantMes_2\",\"C\")\nvalue.CANTMES_3=convert_type(\"session.cantMes_3\",\"C\")\nvalue.NOCOMENZADOMESACTUAL=convert_type(\"session.noComenzadoMesActual\",\"C\")\nvalue.NOCOMENZADO_1=convert_type(\"session.noComenzado_1\",\"C\")\nvalue.NOCOMENZADO_2=convert_type(\"session.noComenzado_2\",\"C\")\nvalue.NOCOMENZADO_3=convert_type(\"session.noComenzado_3\",\"C\")\nvalue.ENCURSOMESACTUAL=convert_type(\"session.enCursoMesActual\",\"C\")\nvalue.ENCURSO_1=convert_type(\"session.enCurso_1\",\"C\")\nvalue.ENCURSO_2=convert_type(\"session.enCurso_2\",\"C\")\nvalue.ENCURSO_3=convert_type(\"session.enCurso_3\",\"C\")\nvalue.COMPLETADOMESACTUAL=convert_type(\"session.completadoMesActual\",\"C\")\nvalue.COMPLETADO_1=convert_type(\"session.completado_1\",\"C\")\nvalue.COMPLETADO_2=convert_type(\"session.completado_2\",\"C\")\nvalue.COMPLETADO_3=convert_type(\"session.completado_3\",\"C\")\nvalue.TERMINADOMESACTUAL=convert_type(\"session.terminadoMesActual\",\"C\")\nvalue.TERMINADO_3=convert_type(\"session.terminado_3\",\"C\")\nvalue.TERMINADO_2=convert_type(\"session.terminado_2\",\"C\")\nvalue.TERMINADO_1=convert_type(\"session.terminado_1\",\"C\")\nvalue.PREFACTURADOMESACTUAL=convert_type(\"session.prefacturadoMesActual\",\"C\")\nvalue.PREFACTURADO_3=convert_type(\"session.prefacturado_3\",\"C\")\nvalue.PREFACTURADO_2=convert_type(\"session.prefacturado_2\",\"C\")\nvalue.PREFACTURADO_1=convert_type(\"session.prefacturado_1\",\"C\")\n"
        },
        "componentType": "Dialog2",
        "version": 1,
        "recNav": {
            "slider": {
                "showSlider": false
            }
        },
        "_flagStaticHTMLMode": false,
        "__flagUseFakeRequestVariables": false,
        "__specialMode": false,
        "alias": "{UXPRERENDEREDALIAS}",
        "systemXbasicFunctionDeclarations": "",
        "localPreviewFlag": false,
        "flagStaticHTMLMode": false,
        "flagInitialLoadIsAjax": false,
        "_forceInitialLoadIsAjax": false,
        "override_settings": "",
        "flagForcerecalc": false,
        "flagSaveDialogCache": true,
        "__argumentValues": "",
        "__argumentsFromGrid": "",
        "flagExecuteOnDialogInitializeEvent": true,
        "flagExecuteOnDialogExecuteEvent": true,
        "__livePreviewMode": false,
        "iconMapOverrides": "",
        "resolveAbstractIconNamesAtDesignTime": true,
        "customizationString": {
            "javascriptDialogs": "",
            "DetailView": {
                "toolbar": ""
            }
        },
        "linkedResources": "",
        "flagReloadComponent": false,
        "__flagstatichtmlorphonegap": false,
        "temp": {
            "_onRenderComplete": ""
        },
        "disableAbstractEvents": false,
        "jsRunAtBeginning": "",
        "flagLoadDetailViewImageCaptureJS": false,
        "forceLoadPhoneGapFileSystemFunctions": false,
        "_flagUsesAudioLibrary": false,
        "_flagUsesInk": false,
        "_flagUsesControlBar": true,
        "__staticHTML_setStaticHTMLFlag": false,
        "sassProcessor": true,
        "debugMode": false,
        "__jsLibraries": "<script type=\"text/javascript\" src=\"javascript/a5.js\"></script>\n<script type=\"text/javascript\" src=\"javascript/a5_url.js\"></script>\n",
        "A5SaveTimeStamp": "20181022114300373",
        "a_actionJavascript": [
            {
                "actionGuid": "96882ffb-23bf-4ae6-9c51-2128e7ca756e    ",
                "scriptMetaData": "<a_ajs<[1]<display=\"{I:'$$edit.redo'}{F=Tahoma,10}{C=Dark Blue,White}{B=Blue White,Dark Blue}Ajax Callback {T=4}{I:'a5_vertical_line'}\">\n<action=\"Ajax Callback \">\n<icon=\"$$edit.redo\">\n<isCommentedOut=.F.>\n<comment=\"\">\n<builder=\"a5ajs_AjaxCallBack(v, dlg_mode, wf)\">\n<metaData=<<%str%\n<flagSubmitData=.T.>\n<part=\"Grid\">\n<GridRowNumber=\"{Grid.RowNumber}\">\n<ajaxCallbackType=\"InternalXbasicFunction\">\n<functionName=\"xb\">\n<callbackURL=\"\">\n<callbackActionName=\"\">\n<otherData=\"additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses()\">\n<computeCurrentRowdata=.F.>\n<submitLocationInfo=.F.>\n<ajaxFailedJavascript=\"\">\n<offlineJavascript=\"\">\n<afterCallbackCompleteJavascript=\"\">\n<locationHighAccuracy=.T.>\n<locationTimeout=15000>\n<locationMaxAge=30000>\n<ajaxcallbacktimeout=\"<Default>\">\n%str%>\n<javascriptAttribute=\"{dialog.object}.ajaxCallback('','','xb','',additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses(),{deviceOfflineFunction: function() {   }});\">\n<Javascriptdeclarations_row=\"\">\n<Javascriptdeclarations_global=\"\">\n<xbasicFunctions=\"\">\n>\n<[2]<action=\"Inline-Javascript \">\n<icon=\"a5_new_xbasic_script\">\n<isCommentedOut=.F.>\n<comment=\"\">\n<builder=\"a5ajs_Inline(v,dlg_mode,wf)\">\n<metaData=<<%str%\n<inlineJavascript=\"{dialog.object}.refreshClientSideComputations();\">\n%str%>\n<javascriptAttribute=\"{dialog.object}.refreshClientSideComputations();\">\n<Javascriptdeclarations_row=\"\">\n<Javascriptdeclarations_global=\"\">\n<xbasicFunctions=\"\">\n<display=\"{I:'a5_new_xbasic_script'}{F=Tahoma,10}{C=Dark Blue,White}{B=Blue White,Dark Blue}Inline-Javascript {T=4}{I:'a5_vertical_line'}\">\n>\n<[3]<action=\"Javascript Chart Actions... (action: Refresh Data in Chart(s))\">\n<icon=\"$$chart.column\">\n<isCommentedOut=.F.>\n<comment=\"\">\n<builder=\"a5ajs_Dialog_ListControlActions(v,wf,pv,dlg_mode,\\\"jschart\\\")\">\n<metaData=<<%str%\n<listAction=\"Refresh Data in Chart(s)\">\n<chartId=\"\">\n<chartIds=\"JSCHART_1\">\n<width=\"\">\n<height=\"\">\n<drawMethod=\"\">\n<drawMethodArgument=\"\">\n<chartProperties=\"\">\n%str%>\n<javascriptAttribute=\"{dialog.object}.jsChartRefreshData('JSCHART_1');\">\n<Javascriptdeclarations_row=\"\">\n<Javascriptdeclarations_global=\"\">\n<xbasicFunctions=\"\">\n<display=\"{I:'$$chart.column'}{F=Tahoma,10}{C=Dark Blue,White}{B=Blue White,Dark Blue}Javascript Chart Actions... (action: Refresh Data in Chart(s)){T=4}{I:'a5_vertical_line'}\">\n>\n>\n<flagRunSynchronously=.T.>\n"
            }
        ],
        "minimumBuildNumber": "",
        "Livepreview_permissions": "",
        "customTabOrder": "",
        "captureJSErrorStackTrace": false,
        "__flagHasMacro": false,
        "__flagCreateAppCache": false,
        "livePreview_permissions_friendly": "",
        "__idinternalCurrentControl": "3725d9f0-a931-4c7e-89d5-20e98c16051e",
        "__nameCurrentControl": "dropdownbox1",
        "_flagDoTreeview": true,
        "__allowCascadingRecalc": true,
        "informixFix": false,
        "showJavascriptActions": false,
        "showResponsiveLayoutHelp": false,
        "style_color_palette": "",
        "friendlydatesCustomizationJSON": "",
        "optionalSystemLibraries": "",
        "__LPhostName": "Internet Explorer",
        "__componentnotfound": false,
        "__changeAJAXURL": "",
        "__phoneGapInstantUpdate": false,
        "_isPartial": false,
        "prerendered": {
            "_styledataVersion": 2,
            "output": {
                "Head": {
                    "JavaScript": "<script type=\"text/javascript\" src=\"javascript/a5.js\"></script>\n<script type=\"text/javascript\" src=\"javascript/a5_url.js\"></script>\n<!-LoadExternalLibraries->\n__replaceatRuntime__cssstyletweaks__",
                    "CSS_Link": "<style type=\"text/css\">\nhtml { -webkit-tap-highlight-color: rgba(0,0,0,0); -webkit-user-select: none; -ms-touch-action: none;}\niframe {-webkit-user-select: text;}\n.A5container {float:left;padding:0px;}\n.A5CWLayout {padding: 4px; float: left; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;}\n.A5GridHideErrorCol .A5GridErrorCol {display:none; }\n.A5GridRowErrorIcon {display:none;}\n.A5GridHasRowError .A5GridRowErrorIcon {display:inline-block;}\n.A5GridRowViewMode {display:block;}\n.A5GridRowEditMode {display:none;}\n.A5GridRowInEditMode .A5GridRowViewMode {display:none;}\n.A5GridRowInEditMode .A5GridRowEditMode {display:block;}\n.A5GridRowDirty {display:none;}\n.A5GridRowClean {display:inline;}\n.A5GridRowIsDirty .A5GridRowDirty {display:inline;}\n.A5GridRowIsDirty .A5GridRowClean {display:none;}\n.errorText {color:red;font-size:8pt;}\n.errorTextHighlight {font-weight:bold;font-size:8pt;}\n.errorTip {color:red;background:#fffafa url('images/$box/$size/8x8/$fill/Up%5FDiagonal:White%3A%23255%2C239%2C239.png.a5image');border:1px solid #f88;margin-top:2px;padding:2px;font-size:8pt;}\n.errorInput {color:red;border:1px solid red;margin:1px;}\n.errorInputHighlight {color:red;border:2px solid red;margin:0px;}\n.A5SelectedButton {opacity:.5;filter:alpha(opacity=50);}\n.A5InvisibleLock {background: rgba(0,0,0,0); }\n.A5floatClear { clear: both; font-size: 0px; width: 0px; height: 0px; overflow: hidden; padding: 0px; margin: 0px; border:none; visibility:hidden; }\n\n\n\n.A5ContainerAlignCenter {padding: 4px; margin-left:auto;margin-right:auto;text-align: center;}\n.A5ContainerAlignLeft {padding: 4px; margin-right:auto;text-align: left;} \n.A5ContainerAlignRight {padding: 4px; margin-left:auto;text-align: right;}\n\n.A5ContainerAlignCenter > .A5CWLayout, .A5ContainerAlignLeft > .A5CWLayout, .A5ContainerAlignRight > .A5CWLayout, .A5ContainerAlignCenter > .A5container, .A5ContainerAlignLeft > .A5container, .A5ContainerAlignRight > .A5container  {display: inline-block; float: none;}\n\n\n\n\n.A5AccordionTitleOn, .A5AccordionTitleOff, .A5AccordionTitleDisabled {display: block;border: 1px solid #999;padding: 2px;text-decoration: none;cursor: pointer;margin-bottom: 2px; padding: 2px}\n.A5AccordionPane {border: 1px solid #999;border-top: none;margin-bottom: 2px;margin-top: -2px;}\n.A5TabTopOn, .A5TabTopOff, .A5TabTopDisabled {display: block;float: left;border: 1px solid #999;border-bottom: none;margin-right: 2px;padding: 2px;text-decoration: none;cursor: pointer;}\n.A5TabTopOn {margin-bottom: -1px;padding-bottom: 3px;}\n.A5TabBottomOn, .A5TabBottomOff, .A5TabBottomDisabled {display: block;float: left;border: 1px solid #999;margin-right: 2px;padding: 2px;text-decoration: none;cursor: pointer;}\n.A5TabBottomOn {border-top: none;padding-top: 3px;}\n.A5TabLeftOn, .A5TabLeftOff, .A5TabLeftDisabled {display: block;border: 1px solid #999;margin-bottom: 2px;padding: 2px;text-decoration: none;cursor: pointer;}\n.A5TabLeftOn {margin-right: -1px;padding-right: 3px;border-right: none;}\n.A5TabRightOn, .A5TabRightOff, .A5TabRightDisabled {display: block;border: 1px solid #999;border-left: none;margin-bottom: 2px;padding: 2px;text-decoration: none;cursor: pointer;}\n.A5TabRightOn {margin-left: -1px;padding-left: 3px;}\n.A5TabTopPane, .A5TabBottomPane, .A5TabLeftPane, .A5TabRightPane {border: 1px solid #999; padding: 2px;}\n\n\n.A5TabBand {border: 1px solid #999; padding: 0px;}\n.A5TabBandTabOn, .A5TabBandTabOff, .A5TabBandTabDisabled {position: relative;display: block;border: 1px solid #999;border-bottom: none;margin-right: 2px;margin-top: 2px;padding: 2px;text-decoration: none;cursor: pointer;white-space: nowrap;}\n.A5TabBandTabOn {margin-bottom: -1px;padding-bottom: 3px;}\n.A5TabBandSeparator {border: none;border-top: 1px solid #999;height: 3px;padding: 0px;font: 0pt arial;}\n.A5TabBandLeftScroll {position: relative;display: block;padding: 2px;margin-bottom: -1px;padding-bottom: 3px;text-decoration: none;border: 1px solid #999;border-left: none;border-bottom: none;}\n.A5TabBandRightScroll {position: relative;display: block;padding: 2px;margin-bottom: -1px;padding-bottom: 3px;text-decoration: none;border: 1px solid #999;border-right: none;border-bottom: none;}\n.A5TabBandTabDisabled, .A5TabTopDisabled, .A5TabLeftDisabled, .A5TabRightDisabled, .A5TabBottomDisabled, .A5AccordionTitleDisabled {opacity: .5; filter: alpha(opacity: 50)}\n.A5Window {-moz-border-radius: 3px; -webkit-border-radius: 3px;}\n.A5WindowLock{border: 1px solid #000;background: #222;opacity: .25;filter: alpha(opacity: 25);}\n\n.A5AccordionTitleOn:hover, .A5AccordionTitleOff:hover, .A5TabBandTabOff:hover, .A5TabTopOff:hover, .A5TabLeftOff:hover, .A5TabRightOff:hover, .A5TabBottomOff:hover{text-decoration: underline;}\n\n.A5MenuItem {text-decoration:none;}\n.A5DialogRSSeparator {border-top: 1px dotted #ccc; line-height:5px; margin-top: 5px;}\n.A5DialogRSFooter {margin-top: 10px;}\n\n\n\n\n\n</style>\n\n<link palette=\"\" rel=\"stylesheet\" type=\"text/css\" href=\"css/GrBlue/style.css?266\">\n<script type=\"text/javascript\" src=\"css/GrBlue/style.js?266\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"css/_sharedStyles/style.css?xxx266\">\n\n<style>\n</style>\n",
                    "title": "<title>UX</title>"
                },
                "body": {
                    "body_tag": "<body class=\"GrBluePage\">",
                    "dialog2_html": "<style>\n</style><iframe style=\"display:none;\" id=\"{UXPRERENDEREDALIAS}.__IFRAME1\"></iframe>\n<input type=\"hidden\" value=\"\" id=\"{UXPRERENDEREDALIAS}.PARAMETERBUCKET\"/>\n<input type=\"file\" style=\"position:absolute; top:-1000px;visibility:hidden;\" accept=\"image/*\" id=\"{UXPRERENDEREDALIAS}._GETPHOTO\"/><input type=\"file\" style=\"position:absolute; top:-1000px;visibility:hidden;\" name=\"files[]\" multiple = \"\" id=\"{UXPRERENDEREDALIAS}._GETFILEMULTI\"/><input type=\"file\" style=\"position:absolute; top:-1000px;visibility:hidden;\" name=\"files[]\" id=\"{UXPRERENDEREDALIAS}._GETFILE\"/>\n\n<div class=\"errorTip\" style=\"margin-bottom: 2px; display: none; width: 8in; \" id=\"{UXPRERENDEREDALIAS}.GLOBALERRORS\"></div>\n\n\n<div id=\"{UXPRERENDEREDALIAS}.R1\">\n<div class=\"A5CWLayout\"     style=\"width: 100%; width: 100%; \"  >\n\t<div>\n\t<fieldset id=\"{UXPRERENDEREDALIAS}.V.R1.FRAME_1\" class=\"\" style=\"-moz-border-radius: 8px;display:inline; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" >\n\t<legend class=\"\" style=\"\"  >Buscar</legend>\n<div class=\"A5CWLayout\" style=\"width: 100%\" >\n\t<label id=\"{UXPRERENDEREDALIAS}.LBL.R1.DROPDOWNBOX1\" for=\"{UXPRERENDEREDALIAS}.V.R1.DROPDOWNBOX1\" title=\"\" class=\"GrBlueDialogLabel\" style=\"float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\">Tipo Medio</label>\n<div style=\"margin-left: 1in ;\"><select \t\n\t\tsize=\"1\" \n\t\tclass=\"GrBlueEdit\"  \n\t\tname=\"V.R1.DROPDOWNBOX1\" \n\t\ttitle=\"\"\n\t\tstyle=\"width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\"\n\t\tid=\"{UXPRERENDEREDALIAS}.V.R1.DROPDOWNBOX1\"  \n\t\t   >\n{dialog.dropdownboxchoices.DROPDOWNBOX1}\n</select>\n</div>\n</div><br  style=\"clear:both; \" />\n<div class=\"A5CWLayout\" style=\"width: \" >\n\t<button type=\"button\" id=\"{UXPRERENDEREDALIAS}.V.R1.BUTTON_1\"    ></button>\n</div>\n</fieldset>\n</div>\n</div>\n<br  style=\"clear:both; \" />\n<div class=\"A5CWLayout\"   id=\"{UXPRERENDEREDALIAS}.V.R1.JSCHART_1\" >\n\n<div id=\"{UXPRERENDEREDALIAS}.V.R1.JSCHART_1.JSCHART\" class=\"\" style=\"width: 5in; height: 4.5in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;;\"></div>\n</div><br  style=\"clear:both; \" />\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div style=\"display:none;\">\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMES_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMES_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMES_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSOMESACTUAL\" class=\"GrBlueGridData\" style=\"height: 4in; ; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n<span><span\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\n</span>\n</div>\n</div>\n\n<div class=\"\" style=\"display: none; \" id=\"{UXPRERENDEREDALIAS}.DEBUGUPDATECOMMANDS\"></div>\n\n\n<script type=\"text/javascript\" language=\"javascript\">\n\n\nif(!A5.controlBar) { \t\n/*\nCopyright (c) 2001, 2018 Alpha Software Corporation\nAll Rights Reserved.\nThis JavaScript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,\nAlpha Five Application Server, Alpha Anywhere Application Server,\nAlpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically\nnot licensed for use on a server that does not have installed on it a\nlicensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.\n*/\nA5.controlBar={disclosure:{defaultContainer:''},items:{'html':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',html:'',bind:{show:''}},true);var html=s.html;html='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;}},'button':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,style:''},actions:{},bind:{show:'',disabled:''},autoHideDisclosure:'auto'},true);s.settings.style='width: 100%;'+s.settings.style;if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;var html=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','',true);if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','disabled',true);html='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+html+'{*endif}';}\nhtml='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'button-toggle':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,style:'',type:'two-state',keepPressed:true},actions:{},bind:{value:'',data:'',show:'',disabled:''},autoHideDisclosure:'auto'},true);s.settings.style='width: 100%;'+s.settings.style;if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;if(s.settings.type=='multi-state'){var sStr=JSON.stringify(s.settings);sStr=sStr.replace(/\\{/g,'\\\\{');sStr=sStr.replace(/\\}/g,'\\\\}');sStr=sStr.replace(/:/g,'\\\\:');html='{A5.buttons.html(\\''+id+'\\',function(od)\\\\{var o = '+sStr+'; $u.o.assign(o,od); return o;\\\\}('+s.bind.data+'['+s.bind.value+']),\\'a5-item=\"'+name+'\"\\')}';}else{var html=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','',true);if(s.settings.keepPressed){html='{*if '+s.bind.value+'}'+A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','pressed',true)+'{*else}'+html+'{*endif}';}\nif(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','disabled',true);html='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+html+'{*endif}';}}\nhtml='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}\nif(type=='click'){var curV=A5.u.object.get(this.data,item.bind.value);if(item.settings.type=='multi-state'){curV++;var d=A5.u.object.get(this.data,item.bind.data);if(curV>=d.length)curV=0;this.update(item.bind.value,curV);}else{this.update(item.bind.value,!curV);}}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'button-list':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,allowNullSelection:false,multiple:false,className:'',nullSelectionClassName:'',button:{keepPressed:true}},actions:{},bind:{data:'',value:'',show:''},autoHideDisclosure:'auto'},true);var ts={};A5.themes.assign(ts,s.settings.theme,'buttonList');$u.o.assign(s.settings,ts,true);var sStr=JSON.stringify(s.settings);sStr=sStr.replace(/\\{/g,'\\\\{');sStr=sStr.replace(/\\}/g,'\\\\}');sStr=sStr.replace(/:/g,'\\\\:');html='{A5.buttonLists.html(\\''+id+'\\','+sStr+','+s.bind.data+','+$if(s.settings.button.keepPressed,s.bind.value,'\\'\\'')+',\\'a5-item=\"'+name+'\" a5-value=\"\\\\{index\\\\}\"\\')}';var cStyle='';if(s.size=='')cStyle=' style=\"display: inline-block;\"';if(s.settings.nullSelectionClassName!=''){html='<div class=\"'+s.settings.className+'{*if ('+s.bind.value+').toString() == \\'\\'}'+s.settings.nullSelectionClassName+'{*endif}\"'+cStyle+'>'+html+'</div>';}else{html='<div class=\"'+s.settings.className+'\"'+cStyle+'>'+html+'</div>';}\nhtml='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.button.pressedClassName;if(pcn!=''){$acn(ele,pcn);A5.buttons._p[id]=pcn;}}\nif(type=='click'){var d=A5.u.object.get(this.data,item.bind.data);var v=d[Number(value)];if(v){if(typeof v=='object'){v=v.value;}\nvar curV=A5.u.object.get(this.data,item.bind.value);if(item.settings.multiple){if(curV.constructor==Array){var cIndx=curV.indexOf(v);if(cIndx==-1){curV.push(v);v=curV;}else curV.splice(cIndx,1);if(item.settings.allowNullSelection===false&&curV.length==0)v=[v];else v=curV;}else console.log('ERROR - button-list value must be array if multiple select is set to true.');}else{if(item.settings.allowNullSelection===true&&v.toString()==curV.toString()){if(curV.constructor==Array)v=[];else v='';}else if(curV.constructor==Array)v=[v];}\nthis.update(item.bind.value,v);}}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'disclosure-button':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',autoHideDisclosure:'always',disclosure:{name:'',type:''},actions:{},settings:{show:{theme:theme,style:''},hide:{theme:theme,style:''}},bind:{show:'',disabled:''}},true);s.settings.show.style='width: 100%;'+s.settings.show.style;s.settings.hide.style='width: 100%;'+s.settings.hide.style;if(s.size!=''){s.settings.show.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.show.style;s.settings.hide.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.hide.style;}\nvar showHTML=A5.buttons.html(id,s.settings.show,'a5-item=\"'+name+'\"','',true);var hideHTML=A5.buttons.html(id,s.settings.hide,'a5-item=\"'+name+'\"','',true);if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings.show,'a5-item=\"'+name+'\"','disabled',true);showHTML='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+showHTML+'{*endif}';dHTML=A5.buttons.html(id,s.settings.hide,'a5-item=\"'+name+'\"','disabled',true);hideHTML='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+hideHTML+'{*endif}';}\nvar html='{*if [temp].state.disclosure.shown && [temp].state.disclosure.name == \\''+s.disclosure.name+'\\'}'+hideHTML+'{*else}'+showHTML+'{*endif}';html='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}\nif(type=='click'){if(this._d.shown)var html=A5.buttons.html(ele.id,item.settings.hide,'a5-item=\"'+name+'\"','',true);else var html=A5.buttons.html(ele.id,item.settings.show,'a5-item=\"'+name+'\"','',true);var pEle=ele.parentNode;pEle.innerHTML=A5.u.template.expand(this.data,html);}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'edit':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',update:'default',actions:{},settings:{theme:theme,style:'',watermark:{text:'',className:''}},bind:{value:'',show:''}},true);var ts={};A5.themes.assign(ts,s.settings.theme,'edit');$u.o.assign(s.settings,ts,true);if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;s.settings.style='display: inline-block; overflow: hidden;'+s.settings.style;var wm=s.settings.watermark.text;if(wm=='')wm='&nbsp;';var html='{*if '+s.bind.value+' != \\'\\'}<div id=\"'+id+'\" a5-item=\"'+name+'\" class=\"'+s.settings.className+'\" style=\"box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; '+s.settings.style+'{*if [temp].state.edit.shown && [temp].state.edit.item == \\''+name+'\\'}visibility: hidden;{*endif}\">{'+s.bind.value+'}</div>{*else}<div id=\"'+id+'\" a5-item=\"'+name+'\" class=\"'+s.settings.className+' '+s.settings.watermark.className+'\" style=\"box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; '+s.settings.style+'{*if [temp].state.edit.shown && [temp].state.edit.item == \\''+name+'\\'}visibility: hidden;{*endif}\"><escape<'+wm+'>></div>{*endif}';html='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'; text-align: left;\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}}},_:{lDefs:{type:'default',className:'',style:'',bind:{show:''},before:{items:[]},middle:{items:[]},after:{items:[]}},initDone:false,init:function(){if(!A5.controlBar._.initDone){A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLine','position: relative; text-align: center;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineCust','position: relative;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineBefore','text-align: left;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineAfter','text-align: right;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarItem','display: inline-block;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineContentBefore','position: absolute; top: 0px; left: 0px;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineContentAfter','position: absolute; top: 0px; right: 0px;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineBefore .A5ControlBarLineContentBefore, .A5ControlBarHorz .A5ControlBarLineAfter .A5ControlBarLineContentAfter','position: static;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarHorz .A5ControlBarLine > div','position: static; display: inline;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarHorz .A5ControlBarLine','text-align: inherit;');A5.u.css.setSelector('.A5ControlBarVert','display: table; height: 100%;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLine','display: table-cell; vertical-align: middle;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineCust','display: table-cell;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineBefore','display: table-cell; vertical-align: top;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineAfter','display: table-cell; vertical-align: bottom;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineContentBefore','position: absolute; top: 0px;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineContentAfter','position: absolute; bottom: 0px;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineBefore .A5ControlBarLineContentBefore, .A5ControlBarVert .A5ControlBarLineAfter .A5ControlBarLineContentAfter','position: static;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarVert .A5ControlBarLine > div','position: static; display: block;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarVert .A5ControlBarLine','vertical-align: top;');A5.controlBar._.initDone=true;}}}}\nA5.ControlBar=Class.create({initialize:function(contId,data,settings){if(typeof settings=='undefined'){settings=data;data=null;}\nthis.contId=contId;A5.controlBar._.init();$u.o.assign(this,{theme:'',override:'base',edge:'top',className:'',disclosuresClassName:'',topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:'',separator:{horizontalClassName:'',verticalClassName:''},items:{},actions:{},layout:'',layouts:{},disclosure:{container:A5.controlBar.disclosure.defaultContainer,animation:{duration:300,tween:'ease-in-out'},coverClassName:'',cover:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},extend:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},expand:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},defaults:{type:'static',html:'',className:'',onInitialize:false,onBeforeDraw:false,onDraw:false,onSize:false,onShow:false,onShowComplete:false,onHide:false}},disclosures:{},data:{},state:{layout:'',edit:{shown:false,item:'',part:'',path:''},disclosure:{shown:false,name:'',type:'',edge:''}},onDraw:false,onBeforeDraw:false,onPopulate:false,onBeforePopulate:false,onChange:false});if(typeof settings.theme!='undefined')A5.themes.assign(this,settings.theme,'controlBar');$u.o.assign(this,settings);A5.overrides.assign(this,'controlBar',this.override);this.initializeItems();var cEle=$(contId);cEle.innerHTML='<div></div><input id=\"'+this.contId+'.EDIT\" style=\"position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" />';if(cEle.style.position!='absolute')cEle.style.position='relative';cEle.style.padding='0px';cEle.style.overflow='hidden';$acn(cEle,this.className);this._bindEvents(cEle);this._m={anim:false,next:{has:false,args:[]},async:{}};var egName='CONTROLBAR.'+this.contId;var dEle=document.createElement('div');dEle.id=this.contId+'.DISCLOSURES';$ss(dEle,'z-index: 100000; position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; display: none;');dEle.innerHTML='<div style=\"position: absolute; overflow: hidden;\"><div class=\"'+this.disclosure.defaults.className+'\" id=\"'+this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC\" style=\"z-index: 100002; position: absolute; display: none;\"><div></div><input id=\"'+this.contId+'.EDITDIS\" style=\"position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" /></div></div><div id=\"'+this.contId+'.DISCLOSURE.CLOSE\" style=\"z-index: 100001; position: absolute; display: none;\">&nbsp;</div>';$acn(dEle,this.disclosuresClassName);if(this.disclosure.container!='')$(this.disclosure.container).appendChild(dEle);else document.body.insertBefore(dEle,document.body.firstChild);this._bindEvents(dEle.children[0].children[0]);$e.add(dEle,A5.d.evnts.click,this._disClick,this,false,egName);$e.add(this.contId+'.DISCLOSURE.CLOSE',A5.d.evnts.click,this._disCloseClick,this,false,egName);if(A5.flags.supportsTouch){$e.add(dEle,'touchmove',function(e){var tempT=$e.getTouches(e);var pDef=true;if(tempT){if(tempT.length){if(tempT.length>1)pDef=false;}}\nif(pDef)$e.preventDefault(e);});}\nthis._d={ele:dEle,shown:false,current:false,next:false};var cdEle=dEle.children[0];var tdEle=null;var dd=null;for(var d in this.disclosures){dd=this.disclosures[d];$u.o.assign(dd,this.disclosure.defaults,true);tdEle=document.createElement('div');tdEle.id=this.contId+'.DISCLOSURE.'+d;tdEle.className=dd.className;tdEle.style.position='absolute';tdEle.style.display='none';tdEle.style.zIndex='100002';cdEle.appendChild(tdEle);if(dd.type=='template')this._bindEvents(tdEle);else tdEle.innerHTML=dd.html;if(dd.onInitialize.constructor==Function)dd.onInitialize.call(this,tdEle);}\nvar eEle=$(this.contId+'.EDIT');var edEle=$(this.contId+'.EDITDIS');$e.add(eEle,'keyup',this._editKeyup,this,false,egName);$e.add(edEle,'keyup',this._editKeyup,this,false,egName);$e.add(eEle,'blur',this._editBlur,this,false,egName);$e.add(edEle,'blur',this._editBlur,this,false,egName);this._e={ele:eEle,dEle:edEle,shown:0,current:false};if(data!=null)this.populate(data);else this.refresh();if(!A5.flags.isMobile)$e.add(window,'resize',this._relayout,this,true,egName);else{$e.add(window,'orientationchange',this._relayout,this,true,egName);if(A5.flags.iOSVersion==-1)$e.add(window,'resize',this._relayout,this,true,egName);}\n$e.add(document,'webkitfullscreenchange',this._relayout,this,true,egName);$e.add(document,'mozfullscreenchange',this._relayout,this,true,egName);$e.add(document,'fullscreenchange',this._relayout,this,true,egName);$e.add(document,'fullscreenchange',this._relayout,this,true,egName);},initializeItems:function(){var iObj=null;var iTObj=null;var theme=this.theme;theme=theme.split(':').shift();for(var item in this.items){iObj=this.items[item];iTObj=A5.controlBar.items[iObj.type];if(iTObj)iTObj.initialize(item,this.contId+'.'+item,iObj,theme);else iObj.template='ERROR '+item+' - Item type \"'+iObj.type+'\" not found!';}\nfor(var layout in this.layouts){if(typeof this.layouts[layout]._t!='undefined'){delete this.layouts[layout]._t.top;delete this.layouts[layout]._t.bottom;delete this.layouts[layout]._t.left;delete this.layouts[layout]._t.right;}}},destroy:function(){$e.removeGroup('CONTROLBAR.'+this.contId);var dEle=this._d.ele;if(dEle){var pEle=dEle.parentNode;if(pEle)pEle.removeChild(dEle);}},populate:function(data){var anim=typeof arguments[1]!='undefined'?arguments[1]:false;var fEvnts=typeof arguments[2]!='undefined'?arguments[2]:true;var async=typeof arguments[3]!='undefined'?arguments[3]:false;if(this.onBeforePopulate.constructor==Function&&fEvnts){var res=this.onBeforePopulate.call(this,data);if(typeof res=='boolean'){if(!res)return false;}}\nthis.data={};$u.o.assign(this.data,data);this.refresh(anim,async);if(this.onPopulate.constructor==Function&&fEvnts)this.onPopulate.call(this,data);},update:function(p,v){var anim=typeof arguments[2]!='undefined'?arguments[2]:false;var fEvnts=typeof arguments[3]!='undefined'?arguments[3]:true;var async=typeof arguments[4]!='undefined'?arguments[4]:false;if(typeof p=='string'){p=[p];v=[v];}\nfor(var i=0;i<p.length;i++)A5.u.object.set(this.data,p[i],v[i]);if(fEvnts){if(this.onChange.constructor==Function)this.onChange.call(this,p,v);}\nthis.refresh(anim,async);},setLayout:function(l){if(this.layouts[l]){var anim=typeof arguments[1]!='undefined'?arguments[1]:false;var async=typeof arguments[2]!='undefined'?arguments[2]:false;this.layout=l;this.refresh(anim,async);}else console.log('ERROR - control bar layout \"'+l+'\" not found');},refresh:function(){var anim=typeof arguments[0]!='undefined'?arguments[0]:false;var async=typeof arguments[1]!='undefined'?arguments[1]:false;if(this._m.anim){this._m.next.has=true;this._m.next.args=[anim,async];return false;}\nif(async){clearTimeout(this._m.async.to);var ci=this;this._m.async.to=setTimeout(function(){ci.refresh.apply(ci,ci._m.async.args);delete ci;},0);this._m.async.args=[anim];return false;}\nif(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'main');var l='';if(this.layout.constructor==Function)l=this.layout.call(this);else l=this.layout;this._cl=this.layouts[l];this.state.layout=l;this._compileTemplate(this._cl,this.edge);var cEle=$(this.contId);var html=A5.u.template.expand(this.data,{template:this._cl._t[this.edge]},{state:this.state},this);var animDo=false;var cn='class=\"'+this[this.edge+'ClassName']+'\" ';var hCSS='';if(this.edge=='left'||this.edge=='right')hCSS=' height: 100%;';if(anim){if(typeof anim!='object')anim={type:anim,duration:500};if(!anim.tween)anim.tween='ease-in-out';if(anim.type.indexOf('-in')!=-1||anim.type.indexOf('-out')!=-1||anim.type.indexOf('-before')!=-1||anim.type.indexOf('-after')!=-1){if(this.edge=='top'){anim.type=anim.type.replace('-in','-top').replace('-out','-bottom').replace('-before','-left').replace('-after','-right');}else if(this.edge=='bottom'){anim.type=anim.type.replace('-in','-bottom').replace('-out','-top').replace('-before','-left').replace('-after','-right');}else if(this.edge=='left'){anim.type=anim.type.replace('-in','-left').replace('-out','-right').replace('-before','-top').replace('-after','-bottom');}else if(this.edge=='right'){anim.type=anim.type.replace('-in','-right').replace('-out','-left').replace('-before','-top').replace('-after','-bottom');}}\nvar oldHTML='';var ccEle=$(this.contId+'.CONTENT');if(ccEle){oldHTML=ccEle.innerHTML;oldHTML=oldHTML.replace(/id=\"[^\"]+\"/g,'').replace(/a5-item=\"[^\"]+\"/g,'');}\nvar tProp=A5.u.css.properties.transform;var tPropDOM=A5.u.css.properties.transformDOM;var taProp=tProp.replace('transform','transition');if(anim.type.indexOf('slide-')==0){var vals=['0px','100%','0px','-100%'];if(anim.type=='slide-left')vals=['100%','0px','-100%','0px'];else if(anim.type=='slide-right')vals=['-100%','0px','100%','0px'];else if(anim.type=='slide-bottom')vals=['0px','-100%','0px','100%'];var taVal=taProp+': '+tProp+' '+anim.duration+'ms '+anim.tween+';';html='<div '+cn+'id=\"'+this.contId+'.CONTENTOLD\" style=\"position: absolute; width: 100%;'+hCSS+' '+tProp+': '+A5.u.css.transform2D('0px','0px')+'; '+taVal+'\">'+oldHTML+'</div><div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+''+tProp+': '+A5.u.css.transform2D(vals[0],vals[1])+'; '+taVal+'\">'+html+'</div>';animDo=[{p:tPropDOM,v:A5.u.css.transform2D('0px','0px')},{p:tPropDOM,v:A5.u.css.transform2D(vals[2],vals[3])}];}else if(anim.type.indexOf('swap-')==0){var vals=['0px','-100%'];if(anim.type=='swap-left')vals=['-100%','0px'];else if(anim.type=='swap-right')vals=['100%','0px'];else if(anim.type=='swap-bottom')vals=['0px','100%'];var hDur=(anim.duration/2);var taVal=taProp+': '+tProp+' '+hDur+'ms '+anim.tween+';';html='<div '+cn+'id=\"'+this.contId+'.CONTENTOLD\" style=\"position: absolute; width: 100%;'+hCSS+' '+tProp+': '+A5.u.css.transform2D('0px','0px')+'; '+taVal+'\">'+oldHTML+'</div><div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+''+tProp+': '+A5.u.css.transform2D(vals[0],vals[1])+'; '+taVal+' transition-delay: '+hDur+'ms;\">'+html+'</div>';animDo=[{p:tPropDOM,v:A5.u.css.transform2D('0px','0px')},{p:tPropDOM,v:A5.u.css.transform2D(vals[0],vals[1])}];}else if(anim.type=='fade'){var taVal=taProp+': opacity '+anim.duration+'ms '+anim.tween+';';html='<div '+cn+'id=\"'+this.contId+'.CONTENTOLD\" style=\"position: absolute; width: 100%;'+hCSS+' opacity: 1; '+taVal+'\">'+oldHTML+'</div><div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+'opacity: 0; '+taVal+'\">'+html+'</div>';animDo=[{p:'opacity',v:'1'},{p:'opacity',v:'0'}];}else html='<div id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+'\">'+html+'</div>';}else html='<div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+'\">'+html+'</div>';if(hCSS=='')cEle.children[0].style.height='';else cEle.children[0].style.height='100%';cEle.children[0].innerHTML=html;this._m.anim=false;if(animDo){var lcEle=$(this.contId+'.CONTENT');var lcoEle=$(this.contId+'.CONTENTOLD');lcEle.offsetWidth;lcEle.style[animDo[0].p]=animDo[0].v;lcoEle.style[animDo[1].p]=animDo[1].v;var ci=this;setTimeout(function(){var ele=$(ci.contId+'.CONTENTOLD');pEle=ele.parentNode;pEle.removeChild(ele);ci._refreshAnimComplete();delete ci;delete ele;delete pEle;},anim.duration);this._m.anim=true;}\nif(this.onDraw.constructor==Function)this.onDraw.call(this,'main',cEle);if(this._d.shown){if(this._d.current.s.isTemplate){if(this._d.current.s.name.substr(0,7)=='layout:'){var dEle=$(this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC');if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'disclosure');var layoutEdge=this._d.current.layoutEdge;var cn='class=\"'+this[layoutEdge+'ClassName']+'\" ';var hCSS='';if(layoutEdge=='left'||layoutEdge=='right')hCSS='height: 100%;';if(hCSS=='')dEle.children[0].style.height='';else dEle.children[0].style.height='100%';dEle.children[0].innerHTML='<div '+cn+' style=\"'+hCSS+'\">'+A5.u.template.expand(this.data,{template:this._cdl._t[layoutEdge]},{state:this.state},this)+'</div>';if(this.onDraw.constructor==Function)this.onDraw.call(this,'disclosure',dEle);}else{var dd=this.disclosures[this._d.current.s.name];var dEle=$(this.contId+'.DISCLOSURE.'+this._d.current.s.name);if(dd.onBeforeDraw.constructor==Function)dd.onBeforeDraw.call(this,dEle);A5.u.element.setContent(dEle,A5.u.template.expand(this.data,{template:dd._t},{state:this.state},this));if(dd.onDraw.constructor==Function)dd.onDraw.call(this,dEle);}}}},action:function(action){if(this.actions[action]){var data=typeof arguments[1]!='undefined'?arguments[1]:false;this.actions[action].call(this,data);}else console.log('ERROR - control bar action \"'+action+'\" not found');},focus:function(name){var iObj=this.items[name];if(iObj){var id=this.contId+'.'+name;var ele=$(id);if(iObj.type=='edit'){if(ele){var part='disclosure';while(ele!=document.body){if(ele.id==this.contId){part='main';break;}\nele=ele.parentNode;}\nif(this.state.edit.shown){var tEle=$(this._e.current.id);tEle.innerHTML=this._e.ele.value;tEle.style.visibility='';}\nthis._e.current={item:iObj,id:id,p:part};if(part=='main')var eEle=this._e.ele;else var eEle=this._e.dEle;eEle.className=iObj.settings.className;$ss(eEle,iObj.settings.style+'; position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');var ev=A5.u.object.get(this.data,iObj.bind.value);eEle.value=ev;this._editPos();eEle.focus();eEle.select();this.state.edit.shown=true;this.state.edit.item=name;this.state.edit.part=part;this.state.edit.path=iObj.bind.value;}}else ele.focus();}},showDisclosure:function(s){if(this._d.shown){this._d.next=s;this.hideDisclosure();}else{var ele=typeof arguments[1]!='undefined'?arguments[1]:false;ele=$(ele);$u.o.assign(s,{name:'',type:'extend',size:false,margin:{top:0,left:0,right:0,bottom:0},animation:true,autoHide:true,className:'',coverClassName:this.disclosure.coverClassName},true);if(typeof s.margin.top!='number')s.margin.top=A5.u.convertUnits(s.margin.top.toString(),'px');if(typeof s.margin.left!='number')s.margin.left=A5.u.convertUnits(s.margin.left.toString(),'px');if(typeof s.margin.right!='number')s.margin.right=A5.u.convertUnits(s.margin.right.toString(),'px');if(typeof s.margin.bottom!='number')s.margin.bottom=A5.u.convertUnits(s.margin.bottom.toString(),'px');var type=s.type;if(type.indexOf('element')!=-1&&!ele){type=type.split('-').shift();if(type=='expand')type='expand-after';}\nthis._cdl=false;var dd=false;if(s.name.substr(0,7)=='layout:'){var dEle=$(this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC');this._cdl=this.layouts[s.name.substr(7)];if(!this._cdl)return false;if(s.className=='')s.className=this.disclosure.defaults.className;s.isTemplate=true;}else{dd=this.disclosures[s.name];if(!dd)return false;var dEle=$(this.contId+'.DISCLOSURE.'+s.name);if(s.className=='')s.className=dd.className;if(dd.type=='template'){s.isTemplate=true;if(typeof dd._t=='undefined'){var tPH='';var tHTML=dd.html;for(var item in this.items){tPH='['+item+']';if(tHTML.indexOf(tPH)!=-1)tHTML=tHTML.split(tPH).join(this.items[item].template);}\ntHTML=tHTML.replace(/A5CONTROLBARITEMSIZE/gi,'width');tHTML=tHTML.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.horizontalClassName);dd._t=A5.u.template.parse(tHTML);}\nif(dd.onBeforeDraw.constructor==Function)dd.onBeforeDraw.call(this,dEle);A5.u.element.setContent(dEle,A5.u.template.expand(this.data,{template:dd._t},{state:this.state},this));if(dd.onDraw.constructor==Function)dd.onDraw.call(this,dEle);}else s.isTemplate=false;}\ndEle.className=s.className;dEle.style.top='';dEle.style.bottom='';dEle.style.left='';dEle.style.right='';dEle.style.width='';dEle.style.height='';if(type=='explicit'){if(s.rectangle.constructor==Function)var rect=s.rectangle.call(this,s,ele);else var rect=s.rectangle;}else var rect=this._getDisclosureRect(type,ele);var layoutEdge=this.edge;if(s.name.substr(0,7)=='layout:'){if(type=='outside-before'||type=='outside-after'||type.split('-').shift()=='screen')layoutEdge=rect.edge;this._compileTemplate(this._cdl,layoutEdge);if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'disclosure');var cn='class=\"'+this[layoutEdge+'ClassName']+'\" ';var hCSS='';if(layoutEdge=='left'||layoutEdge=='right')hCSS='height: 100%;';if(hCSS=='')dEle.children[0].style.height='';else dEle.children[0].style.height='100%';dEle.children[0].innerHTML='<div '+cn+' style=\"'+hCSS+'\">'+A5.u.template.expand(this.data,{template:this._cdl._t[layoutEdge]},{state:this.state},this)+'</div>';if(this.onDraw.constructor==Function)this.onDraw.call(this,'disclosure',dEle);}\nvar dcEle=this._d.ele.children[0];if(typeof rect.className!='undefined')dcEle.className=rect.className;else dcEle.className='';dcEle.style.top=(rect.top+s.margin.top)+'px';dcEle.style.bottom=(rect.bottom+s.margin.bottom)+'px';dcEle.style.left=(rect.left+s.margin.left)+'px';dcEle.style.right=(rect.right+s.margin.right)+'px';var setMargin=false;dEle.style[rect.edge]='0px';dEle.style.marginLeft='';dEle.style.marginTop='';if(rect.fill=='both'||s.size=='fill'){dEle.style.top='0px';dEle.style.bottom='0px';dEle.style.left='0px';dEle.style.right='0px';}else if(rect.fill=='width'){dEle.style.left='0px';dEle.style.right='0px';}else if(rect.fill=='height'){dEle.style.top='0px';dEle.style.bottom='0px';}else{if(!rect.align)rect.align='middle';if(rect.align=='before'){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.left='0px';else dEle.style.top='0px';}else if(rect.align=='after'){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.right='0px';else dEle.style.bottom='0px';}else{if(rect.edge=='top'||rect.edge=='bottom')dEle.style.left='50%';else dEle.style.top='50%';setMargin=true;}}\nvar startTrans='';if(rect.edge=='top'){startTrans=A5.u.css.transform2D('0px','-100%');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.height=s.size;}}else if(rect.edge=='bottom'){startTrans=A5.u.css.transform2D('0px','100%');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.height=s.size;}}else if(rect.edge=='left'){startTrans=A5.u.css.transform2D('-100%','0px');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.width=s.size;}}else if(rect.edge=='right'){startTrans=A5.u.css.transform2D('100%','0px');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.width=s.size;}}\ndEle.style.display='';if(type.split('-').shift()=='expand'&&!s.size)this._d.ele.className=this.disclosuresClassName+' '+s.coverClassName+' A5ControlBarCollapse';else this._d.ele.className=this.disclosuresClassName+' '+s.coverClassName;var dur=this.disclosure.animation.duration;var tween=this.disclosure.animation.tween;var completeDelay=false;if(s.animation){if(typeof s.animation=='object'){if(s.animation.duration)dur=s.animation.duration;if(s.animation.tween)tween=s.animation.tween;}\nvar cssDOMProp=A5.u.css.properties.transformDOM;var cssAnimProp=A5.u.css.properties.transitionDOM;dEle.style[cssDOMProp]=startTrans;dEle.style[cssAnimProp]='';this._d.ele.style.display='';dEle.offsetHeight;dEle.style[cssAnimProp]=A5.u.css.properties.transform+' '+dur+'ms '+tween;dEle.style[cssDOMProp]=A5.u.css.transform2D('0px','0px');completeDelay=true;}else{var cssDOMProp=A5.u.css.properties.transformDOM;var cssAnimProp=A5.u.css.properties.transitionDOM;dEle.style[cssDOMProp]=A5.u.css.transform2D('0px','0px');dEle.style[cssAnimProp]='';this._d.ele.style.display='';dEle.offsetHeight;dEle.style[cssAnimProp]=A5.u.css.properties.transform+' '+dur+'ms '+tween;}\nif(setMargin){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.marginLeft='-'+(dEle.offsetWidth/2)+'px';else dEle.style.marginTop='-'+(dEle.offsetHeight/2)+'px';}\nvar eleId=false\nif(ele)eleId=ele.id;this._d.current={s:s,eleId:eleId,dEle:dEle,trans:startTrans,dur:dur,layoutEdge:layoutEdge,internalShow:false};this._d.next=false;this._d.shown=true;var dbcEle=$(this.contId+'.DISCLOSURE.CLOSE');dbcEle.style.display='none';if(this._d.internalShow&&ele){this._d.current.internalShow=true;var eBRect=ele.getBoundingClientRect();var tOff=0;var lOff=0;if(this.disclosure.container!=''){var cEle=$(this.disclosure.container);if(cEle){var ceBRect=cEle.getBoundingClientRect();tOff=ceBRect.top;lOff=ceBRect.left;}}\ndbcEle.style.top=(eBRect.top-tOff)+'px';dbcEle.style.left=(eBRect.left-lOff)+'px';dbcEle.style.width=eBRect.width+'px';dbcEle.style.height=eBRect.height+'px';dbcEle.style.display='block';}\nthis.state.disclosure.shown=true;this.state.disclosure.name=s.name;this.state.disclosure.type=type;this.state.disclosure.edge=layoutEdge;if(dd){$e.execute(dEle,'a5resize');if(dd.onShow.constructor==Function)dd.onShow.call(this,dEle);if(dd.onSize.constructor==Function)dd.onSize.call(this,dEle);if(completeDelay){var ci=this;setTimeout(function(){ci._showDisclosureComplete();delete ci;},dur+10);}else this._showDisclosureComplete();}}},hideDisclosure:function(){if(this._d.shown){if(this.state.edit.shown&&this.state.edit.part!='main'){this._e.dEle.blur();this._editBlur.call(this._e.dEle,false,this);}\nvar anim=typeof arguments[0]!='undefined'?arguments[0]:true;var dur=0;if(anim){this._d.current.dEle.style[A5.u.css.properties.transformDOM]=this._d.current.trans;dur=this._d.current.dur;}\nclearTimeout(this._hdcTO);var ci=this;this._hdcTO=setTimeout(function(){ci._hideDisclosureComplete();delete ci;},dur);}},resizeDisclosure:function(){if(this._d.shown){var s=this._d.current.s;var type=s.type\nif(type=='explicit'){if(s.rectangle.constructor==Function)var rect=s.rectangle.call(this,s,$(this._d.current.eleId));else var rect=s.rectangle;}else var rect=this._getDisclosureRect(type,$(this._d.current.eleId));var dcEle=this._d.ele.children[0];dcEle.style.top=(rect.top+s.margin.top)+'px';dcEle.style.bottom=(rect.bottom+s.margin.bottom)+'px';dcEle.style.left=(rect.left+s.margin.left)+'px';dcEle.style.right=(rect.right+s.margin.right)+'px';var dd=this.disclosures[s.name];if(dd){$e.execute(this._d.current.dEle,'a5resize');if(dd.onSize.constructor==Function)dd.onSize.call(this,this._d.current.dEle);}\nif(this._d.current.internalShow){var dbcEle=$(this.contId+'.DISCLOSURE.CLOSE');var eBRect=$(this._d.current.eleId).getBoundingClientRect();var tOff=0;var lOff=0;if(this.disclosure.container!=''){var cEle=$(this.disclosure.container);if(cEle){var ceBRect=cEle.getBoundingClientRect();tOff=ceBRect.top;lOff=ceBRect.left;}}\ndbcEle.style.top=(eBRect.top-tOff)+'px';dbcEle.style.left=(eBRect.left-lOff)+'px';dbcEle.style.width=eBRect.width+'px';dbcEle.style.height=eBRect.height+'px';}}},_getDisclosureRect:function(type,ele){var rect={top:0,left:0,right:0,bottom:0,edge:this.edge,fill:'',className:''};var cBRect=$(this.contId).getBoundingClientRect();var eBRect=false;if(ele)eBRect=ele.getBoundingClientRect();if(this.disclosure.container!=''){var tBRect=$(this.disclosure.container).getBoundingClientRect();var leftOff=tBRect.left;var topOff=tBRect.top;var docWidth=tBRect.width;var docHeight=tBRect.height;}else{var leftOff=0;var topOff=0;var docWidth=document.documentElement.clientWidth;var docHeight=document.documentElement.clientHeight;}\nif(type.split('-').shift()=='expand'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;if(this.edge=='top'||this.edge=='bottom'){rect.fill='height';if(type=='expand-before'){rect.edge='left';}else if(type=='expand-after'){rect.edge='right';}else if(type=='expand-element'||type=='expand-element-cover'){if(eBRect.left>(cBRect.left+(cBRect.width/2))){rect.edge='right';if(type=='expand-element')rect.right=(docWidth-eBRect.left+leftOff);else rect.right=(docWidth-eBRect.right+leftOff);}else{rect.edge='left';if(type=='expand-element')rect.left=eBRect.right-leftOff;else rect.left=eBRect.left-leftOff;}}}else{rect.fill='width';if(type=='expand-before'){rect.edge='top';}else if(type=='expand-after'){rect.edge='bottom';}else if(type=='expand-element'||type=='expand-element-cover'){if(eBRect.top>(cBRect.top+(cBRect.height/2))){rect.edge='bottom';if(type=='expand-element')rect.bottom=(docHeight-eBRect.top+topOff);else rect.bottom=(docHeight-eBRect.bottom+topOff);}else{rect.edge='top';if(type=='expand-element')rect.top=eBRect.bottom-topOff;else rect.top=eBRect.top-topOff;}}}\nrect.className=this.disclosure.expand[rect.edge+'ClassName'];}else if(type.split('-').shift()=='flyout'){if(this.edge=='top'||this.edge=='bottom'){if(this.edge=='top'){if(type=='flyout-element')rect.top=eBRect.bottom-topOff;else if(type=='flyout-element-cover')rect.top=eBRect.top-topOff;else rect.top=cBRect.bottom-topOff;}else{if(type=='flyout-element')rect.bottom=docHeight-eBRect.top+topOff;else if(type=='flyout-element-cover')rect.bottom=docHeight-eBRect.bottom+topOff;else rect.bottom=docHeight-cBRect.top+topOff;}\nif(eBRect.left>(cBRect.left+(cBRect.width/2))){rect.align='after';rect.right=(docWidth-eBRect.right+leftOff);}else{rect.align='before';rect.left=eBRect.left-leftOff;}}else{if(this.edge=='left'){if(type=='flyout-element')rect.left=eBRect.right-leftOff;else if(type=='flyout-element-cover')rect.left=eBRect.left-leftOff;else rect.left=cBRect.right-leftOff;}else{if(type=='flyout-element')rect.right=docWidth-eBRect.left+leftOff;else if(type=='flyout-element-cover')rect.right=docWidth-eBRect.right+leftOff;else rect.right=docWidth-cBRect.left+leftOff;}\nif(eBRect.top>(cBRect.top+(cBRect.height/2))){rect.align='after';rect.bottom=(docHeight-eBRect.bottom+topOff);}else{rect.align='before';rect.top=eBRect.top-topOff;}}}else if(type=='cover'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='both';rect.className=this.disclosure.cover[rect.edge+'ClassName'];}else if(type.split('-').shift()=='screen'){rect.edge=type.split('-').pop();if(rect.edge=='left'||rect.edge=='right')rect.fill='height';else rect.fill='width';}else{if(this.edge=='top'){rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='width';if(type=='extend-element'){rect.top=eBRect.bottom-topOff;}else if(type=='extend-element-cover'){rect.top=eBRect.top-topOff;}else{rect.top=cBRect.bottom-topOff;if(type=='outside-before'){rect.fill='height';rect.edge='left';}else if(type=='outside-after'){rect.fill='height';rect.edge='right';}}}else if(this.edge=='bottom'){rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='width';if(type=='extend-element'){rect.bottom=docHeight-eBRect.top+topOff;}else if(type=='extend-element-cover'){rect.bottom=docHeight-eBRect.bottom+topOff;}else{rect.bottom=docHeight-cBRect.top+topOff;if(type=='outside-before'){rect.fill='height';rect.edge='left';}else if(type=='outside-after'){rect.fill='height';rect.edge='right';}}}else if(this.edge=='left'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.fill='height';if(type=='extend-element'){rect.left=eBRect.right-leftOff;}else if(type=='extend-element-cover'){rect.left=eBRect.left-leftOff;}else{rect.left=cBRect.right-leftOff;if(type=='outside-before'){rect.fill='width';rect.edge='top';}else if(type=='outside-after'){rect.fill='width';rect.edge='bottom';}}}else if(this.edge=='right'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.fill='height';if(type=='extend-element'){rect.right=docWidth-eBRect.left+leftOff;}else if(type=='extend-element-cover'){rect.right=docWidth-eBRect.right+leftOff;}else{rect.right=docWidth-cBRect.left+leftOff;if(type=='outside-before'){rect.fill='width';rect.edge='top';}else if(type=='outside-after'){rect.fill='width';rect.edge='bottom';}}}\nrect.className=this.disclosure.extend[rect.edge+'ClassName'];}\nreturn rect;},_showDisclosureComplete:function(){if(this._d.shown){var dd=this.disclosures[this._d.current.s.name];if(dd){if(dd.onShowComplete.constructor==Function)dd.onShowComplete.call(this,this._d.current.dEle);}}},_hideDisclosureComplete:function(){if(this._d.shown){this._d.shown=false;this.state.disclosure.shown=false;this._d.current.dEle.style.display='none';var dd=this.disclosures[this._d.current.s.name];if(dd){if(dd.onHide.constructor==Function)dd.onHide.call(this,this._d.current.dEle);}\nif(this._d.next){this.showDisclosure(this._d.next,this._d.current.eleId);}else{this._d.ele.style.display='none';this._d.current=false;}\nthis.refresh();}},_refreshAnimComplete:function(){this._m.anim=false;if(this._m.next.has){this._m.next.has=false;this.refresh.apply(this,this._m.next.args);delete this._m.next.args;}},_relayout:function(){if(this._d.shown){var ci=this\nclearTimeout(this._rdTO);this._rdTO=setTimeout(function(){ci.resizeDisclosure();delete ci},50);}\nif(this._e.shown){var ci=this\nclearTimeout(this._reTO);this._reTO=setTimeout(function(){ci._editPos();delete ci},50);}},_disClick:function(e,ci){if(ci._d.current){var cEle=$(ci.contId);var coor=$e.getCoors(e);var ele=document.elementFromPoint(coor.clientX,coor.clientY);if(!ele)return true;while(ele!=cEle&&ele!=document.body){if(ele.hasAttribute('a5-action'))ci.action(ele.getAttribute('a5-action'),{element:ele,event:e});else if(ele==ci._d.current.dEle)return true;ele=ele.parentNode;}\nif(ci._d.current){if(!ci._d.current.s.autoHide)return true;ci.hideDisclosure();}}},_disCloseClick:function(e,ci){ci.hideDisclosure();},_editKeyup:function(e,ci){if(ci._e.current.item.update!='done')ci.update(ci.state.edit.path,this.value);A5.controlBar.items.edit.event.call(ci,'keyup',ci.state.edit.item,this.value,ci.items[ci.state.edit.item],this,e);var keyCode=e.charCode||e.keyCode;if(keyCode==13)this.blur();},_editBlur:function(e,ci){if(document.activeElement!=ci._e.ele&&document.activeElement!=ci._e.dEle){A5.controlBar.items.edit.event.call(ci,'done',ci.state.edit.item,this.value,ci.items[ci.state.edit.item],this,e);this.style.display='none';ci.state.edit.shown=false;ci.state.edit.item='';ci.state.edit.part='';ci.update(ci.state.edit.path,this.value);}},_editPos:function(){var tEle=$(this._e.current.id);if(tEle){if(this._e.current.p=='main')var ele=this._e.ele;else var ele=this._e.dEle;var eBRect=tEle.getBoundingClientRect();var peBRect=ele.parentNode.getBoundingClientRect();ele.style.top=(eBRect.top-peBRect.top)+'px';ele.style.left=(eBRect.left-peBRect.left)+'px';ele.style.width=eBRect.width+'px';ele.style.height=eBRect.height+'px';ele.style.display='';tEle.style.visibility='hidden';this._e.shown=true;}else{this._e.ele.style.display='none';this._e.dEle.style.display='none';this._e.shown=false;}},_down:function(e,ci){var r=ci._aEle(e);ci._startItem=false;if(r){ci._startItem={i:r.i,v:r.v,id:r.ele.id};if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'down',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_up:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'up',r.i,r.v,iObj,r.ele,e);}\nif(A5.u.drag._sDif<$e.abstractEvents.click.scrollMax){var id='';if(ci._startItem){if(ci._startItem.i==r.i){id=r.ele.id;var dShown=ci._d.shown;if(iObj.disclosure){if(iObj.autoHideDisclosure!='auto')ci._d.internalShow=true;ci.showDisclosure(iObj.disclosure,r.ele);ci._d.internalShow=false;}else if(iObj.type=='edit'){if(ci.state.edit.shown){var tEle=$(ci._e.current.id);tEle.innerHTML=ci._e.ele.value;tEle.style.visibility='';}\nci._e.current={item:iObj,id:id,p:r.p};if(r.p=='main')var eEle=ci._e.ele;else var eEle=ci._e.dEle;eEle.className=iObj.settings.className;$ss(eEle,iObj.settings.style+'; position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');var ev=A5.u.object.get(ci.data,iObj.bind.value);eEle.value=ev;ci._editPos();eEle.focus();eEle.select();ci.state.edit.shown=true;ci.state.edit.item=r.i;ci.state.edit.part=r.p;ci.state.edit.path=iObj.bind.value;}\nif(iTObj){if(iTObj.event)iTObj.event.call(ci,'click',r.i,r.v,iObj,r.ele,e);}\nif(dShown&&!ci._d.next&&ci._d.current){if(iObj.autoHideDisclosure){var hide=false;if(iObj.autoHideDisclosure=='always')hide=true;else if(iObj.autoHideDisclosure!='never'&&ci._d.current.s.autoHide)hide=true;if(hide)ci.hideDisclosure();}}}}\nif(this._oid==id)this._isdc=true;else{this._isdc=false;this._oid=id;}}}}}\ndelete r;},_dblClick:function(e,ci){if(!this._isdc)return false;var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'dblclick',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_rClick:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'contextclick',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_downHold:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'downhold',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_swipe:function(e,ci){if(ci._startItem){var r=ci._startItem;var ele=$(r.id);if($ga(ele,'a5-disabled')!='true'&&!ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'swipe',r.i,r.v,iObj,r.ele,e);}}}}},_aEle:function(e){var cEle=$(this.contId);var coor=$e.getCoors(e);var ele=document.elementFromPoint(coor.clientX,coor.clientY);if(!ele)return false;var result=false;var i='';while(ele!=cEle&&ele!=document.body){if(!result){i=$ga(ele,'a5-item');if(i!=null&&i!=''){var v=this._getValue(ele);result={i:i,v:v,ele:ele,p:'disclosure'};}}\nele=ele.parentNode;}\nif(ele==cEle&&result)result.p='main';return result;},_getValue:function(ele){var v=$ga(ele,'a5-value');if(v==''||v==null)v=ele.id;return v;},_bindEvents:function(ele){var egName='CONTROLBAR.'+this.contId;$e.add(ele,A5.d.evnts.dblClick,this._dblClick,this,false,egName);$e.add(ele,'contextmenu',this._rClick,this,false,egName);$e.add(ele,A5.d.evnts.down,this._down,this,false,egName);$e.add(ele,A5.d.evnts.up,this._up,this,false,egName);$e.add(ele,'abstractdownhold',this._downHold,this,false,egName);$e.add(ele,'abstractswipe',this._swipe,this,false,egName);},_compileTemplate:function(cl,edge){if(typeof cl._t=='undefined')cl._t={};if(typeof cl._t[edge]=='undefined'){var tLines=[];var l=null;var ti=null;var cn='';var temp=[];var name='';var tHTML='';var tPH='';for(var i=0;i<cl.lines.length;i++){l=cl.lines[i];$u.o.assign(l,A5.controlBar._.lDefs,true);cn='A5ControlBarLine';if(l.type!='custom'){if(l.middle.items.length==0){if(l.before.items.length==0)cn='A5ControlBarLine A5ControlBarLineAfter';else cn='A5ControlBarLine A5ControlBarLineBefore';}}else cn='A5ControlBarLineCust';temp=['<div class=\"'+cn+' '+l.className+'\" style=\"'+l.style+'\">'];if(l.type=='custom'){tHTML=l.html;for(var item in this.items){tPH='['+item+']';if(tHTML.indexOf(tPH)!=-1)tHTML=tHTML.split(tPH).join(this.items[item].template);}\ntemp.push(tHTML);}else{if(l.before.items.length!=0){temp.push('<div class=\"A5ControlBarLineContentBefore\">&#65279;');for(var k=0;k<l.before.items.length;k++){name=l.before.items[k];if(name=='-'){temp.push('<div class=\"A5ControlBarItem A5CONTROLBARSEPCLASSNAME\">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class=\"A5ControlBarItem\" style=\"A5CONTROLBARITEMSIZE: '+name+';\"></div>');}else if(this.items[name])temp.push(this.items[name].template);}\ntemp.push('</div>');}\nif(l.middle.items.length!=0){temp.push('<div class=\"A5ControlBarLineContentMiddle\">&#65279;');for(var k=0;k<l.middle.items.length;k++){name=l.middle.items[k];if(name=='-'){temp.push('<div class=\"A5ControlBarItem A5CONTROLBARSEPCLASSNAME\">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class=\"A5ControlBarItem\" style=\"A5CONTROLBARITEMSIZE: '+name+';\"></div>');}else if(this.items[name])temp.push(this.items[name].template);}\ntemp.push('</div>');}\nif(l.after.items.length!=0){temp.push('<div class=\"A5ControlBarLineContentAfter\">&#65279;');for(var k=0;k<l.after.items.length;k++){name=l.after.items[k];if(name=='-'){temp.push('<div class=\"A5ControlBarItem A5CONTROLBARSEPCLASSNAME\">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class=\"A5ControlBarItem\" style=\"A5CONTROLBARITEMSIZE: '+name+';\"></div>');}else if(this.items[name])temp.push(this.items[name].template);}\ntemp.push('</div>');}}\ntemp.push('</div>');if(l.bind.show!=''){temp.unshift('{*if '+l.bind.show+'}')\ntemp.push('{*endif}');}\ntLines.push(temp.join(''));}\nif(edge=='left'){tLines.unshift('<div class=\"A5ControlBarVert\">');tLines.push('</div>');}else if(edge=='bottom'){tLines.reverse();tLines.unshift('<div class=\"A5ControlBarHorz\">');tLines.push('</div>');}else if(edge=='right'){tLines.reverse();tLines.unshift('<div class=\"A5ControlBarVert\">');tLines.push('</div>');}else{tLines.unshift('<div class=\"A5ControlBarHorz\">');tLines.push('</div>');}\ntLines=tLines.join('');if(edge=='left'||edge=='right'){tLines=tLines.replace(/A5CONTROLBARITEMSIZE/gi,'height');tLines=tLines.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.verticalClassName);}else{tLines=tLines.replace(/A5CONTROLBARITEMSIZE/gi,'width');tLines=tLines.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.horizontalClassName);}\ncl._t[edge]=A5.u.template.parse(tLines);}}});};;__replaceatruntime_controlbardefaultcontainer\nA5._windowDefaults={title:{tools:{defaults:{'close':{action:'close',name:'close',image:'images/$$window.button.close.png.a5image'}}}}}\nA5.serverSideDateFormat = 'dd-MM-yyyy';\nif(typeof {UXPRERENDEREDALIAS}_DlgObj == 'object') {UXPRERENDEREDALIAS}_DlgObj._destroy();\nvar {UXPRERENDEREDALIAS}_DlgObj = new A5.DialogComponentHelper('{UXPRERENDEREDALIAS}',{\n\tajaxURL: '{UXPRERENDERAJAXURL}',\n\t_embeddedMode: false,\n\t_livePreviewInBuilder: false,\n\tcomponentGUID: 'efbf6da1-ab3a-40d2-b3fc-e0826f3f0662',\n\tcolumnInfo: {'DROPDOWNBOX1': {info: {controlType: 'DropdownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMES_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMES_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMES_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }},\n\toriginalValues: [{\n\t'CANTMESACTUAL': 'session.cantMesActual',\n\t'CANTMES_1': 'session.cantMes_1',\n\t'CANTMES_2': 'session.cantMes_2',\n\t'CANTMES_3': 'session.cantMes_3',\n\t'NOCOMENZADOMESACTUAL': 'session.noComenzadoMesActual',\n\t'NOCOMENZADO_1': 'session.noComenzado_1',\n\t'NOCOMENZADO_2': 'session.noComenzado_2',\n\t'NOCOMENZADO_3': 'session.noComenzado_3',\n\t'ENCURSOMESACTUAL': 'session.enCursoMesActual',\n\t'ENCURSO_1': 'session.enCurso_1',\n\t'ENCURSO_2': 'session.enCurso_2',\n\t'ENCURSO_3': 'session.enCurso_3',\n\t'COMPLETADOMESACTUAL': 'session.completadoMesActual',\n\t'COMPLETADO_1': 'session.completado_1',\n\t'COMPLETADO_2': 'session.completado_2',\n\t'COMPLETADO_3': 'session.completado_3',\n\t'TERMINADOMESACTUAL': 'session.terminadoMesActual',\n\t'TERMINADO_3': 'session.terminado_3',\n\t'TERMINADO_2': 'session.terminado_2',\n\t'TERMINADO_1': 'session.terminado_1',\n\t'PREFACTURADOMESACTUAL': 'session.prefacturadoMesActual',\n\t'PREFACTURADO_3': 'session.prefacturado_3',\n\t'PREFACTURADO_2': 'session.prefacturado_2',\n\t'PREFACTURADO_1': 'session.prefacturado_1',\n\t'DROPDOWNBOX1': ''\n}],\n\tdefaultValues: {\n\tCANTMESACTUAL: 'session.cantMesActual',\n\tCANTMES_1: 'session.cantMes_1',\n\tCANTMES_2: 'session.cantMes_2',\n\tCANTMES_3: 'session.cantMes_3',\n\tNOCOMENZADOMESACTUAL: 'session.noComenzadoMesActual',\n\tNOCOMENZADO_1: 'session.noComenzado_1',\n\tNOCOMENZADO_2: 'session.noComenzado_2',\n\tNOCOMENZADO_3: 'session.noComenzado_3',\n\tENCURSOMESACTUAL: 'session.enCursoMesActual',\n\tENCURSO_1: 'session.enCurso_1',\n\tENCURSO_2: 'session.enCurso_2',\n\tENCURSO_3: 'session.enCurso_3',\n\tCOMPLETADOMESACTUAL: 'session.completadoMesActual',\n\tCOMPLETADO_1: 'session.completado_1',\n\tCOMPLETADO_2: 'session.completado_2',\n\tCOMPLETADO_3: 'session.completado_3',\n\tTERMINADOMESACTUAL: 'session.terminadoMesActual',\n\tTERMINADO_3: 'session.terminado_3',\n\tTERMINADO_2: 'session.terminado_2',\n\tTERMINADO_1: 'session.terminado_1',\n\tPREFACTURADOMESACTUAL: 'session.prefacturadoMesActual',\n\tPREFACTURADO_3: 'session.prefacturado_3',\n\tPREFACTURADO_2: 'session.prefacturado_2',\n\tPREFACTURADO_1: 'session.prefacturado_1',\n\tDROPDOWNBOX1: ''\n},\n\tdatePickerMonthNames: ['January','February','March','April','May','June','July','August','September','October','November','December'],\n\tdatePickerDayNames: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],\n\tdatePickerTodayButton: 'Today',\n\tdatePickerCloseButton: '',\n\tdatePickerFirstDayOfWeek: 1,\n\tresetFormMessage: 'Are you sure you want to reset the form?',\n\tresetFormTitle: 'Warning',\n\tresetFormIcon: 'css/GrBlue/MessageQuestion.png',\n\tdirtyFormMessage: 'You must first save your changes or cancel changes by clicking the Reset button.',\n\tdirtyFormTitle: 'Notice',\n\tdirtyFormIcon: 'css/GrBlue/MessageInfo.png',\n\tdeleteRecordDialogTitle: 'Delete Record',\n\tdeleteRecordDialogMessage: 'Are you sure you want to delete this record?',\t\n\tssDateFormat: 'dd-MM-yyyy',\n\tstyleName: 'GrBlue',\n\t_fieldHelpers_DIALOG2: [],\n\tparentComponentAlias: '',\n\tsubmitIfHasClientSideErrors: true, \n\trowErrors: {\n\t\t\t\tshowMessageBox: false,\n\t\t\t\tmessageBoxTitle: 'Error',\n\t\t\t\tstyle: 'color: red; width: 6in; height: 2in;'\n\t\t},\n\tfieldErrors: {\n\t\ttype: 'block', \n\t\tclassName: 'errorText',\n\t\tinputClassName: 'GrBlueEditError',\n\t\tedit: { \n\t\t\tcontainer: { className: 'GrBlueEditBGError'}\n\t\t},\n\t\ticon: 'css/GrBlue/EditError.png',\n\t\tglobal: {\n\t\t\tcontId: '{UXPRERENDEREDALIAS}.GLOBALERRORS',\n\t\t\thoverClassName: 'errorTextHighlight',\n\t\t\thoverInputClassName: 'errorInputHighlight'\n\t\t}\n\t}\n\t});\nA5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;\n__replaceAtRuntime_SystemAfterInitialize\n__replaceAtRuntime_SystemBeforePrepare\n__replaceDataForRadioOrCheckBoxRenderedAsButtonListAtRuntime__\n;\n\tif(typeof A5.map.defaults == 'undefined') A5.map.defaults = {};\n\tif(typeof A5.map.defaults.staticMap == 'undefined') A5.map.defaults.staticMap = {};\nA5.map.defaults.staticMap.key='AIzaSyCwJ3t4qfu7_Z0VQdc0XrFDse_3mWRQADk';\n{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [];\n{UXPRERENDEREDALIAS}_DlgObj.lookups = {\n};\n{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) {   };\n{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({\n\t\"__dtfmt\": \"dd/MM/yyyy\",\n\t\"__tfmt\": \"\",\n\t\"__dialogGuid\": \"efbf6da1-ab3a-40d2-b3fc-e0826f3f0662\",\n\t\"argumentsBoundToCotrols\": \"\",\n\t\"__sgr\": \"\"\n});\n{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];\n{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];\n{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });\nA5.msgBox.theme = 'GrBlue';\nA5.msgBox.buttonWidth = '1in';\n{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = 'ltr';\n{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}\n{UXPRERENDEREDALIAS}_DlgObj._buttons = {};\n{UXPRERENDEREDALIAS}_DlgObj._buttons['BUTTON_1'] = new A5.Button({\n\tlayout: 'text',\n\tstyle: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',\n\thtml: 'Buscar',\n\tonClick: function() { \n},\n\ttheme: 'GrBlue'\n});\n{UXPRERENDEREDALIAS}_DlgObj._buttons['BUTTON_1'].bind('{UXPRERENDEREDALIAS}.V.R1.BUTTON_1');\n{UXPRERENDEREDALIAS}_DlgObj.setVariables({ });\n{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];\n{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = '';\n{UXPRERENDEREDALIAS}_DlgObj._hasPanels = false;\n{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;\nA5.__dtfmt = 'dd/MM/yyyy';A5.__tfmt = '';\nA5.__flagWorkingPreview = false;\nA5.__flagIIS = false;\nA5.__flagSimulateIIS = true;\n{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() {\n\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == 'undefined') return '';\n\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();\n\tif( orientation == 'landscape') {\n\t\t\t//landscape\n\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != 'landscape') {\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = 'landscape';\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onOrientationChange',{orientation: 'landscape'});\n\t\t\t}\n\t} else {\n\t\t//portrait\n\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != 'portrait') {\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = 'portrait';\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onOrientationChange',{orientation: 'portrait'});\n\t\t\t}\n\t}\n}\n\tA5.flags.cordovaLoaded = true;\n\ttry {\n\t\tdocument.addEventListener('deviceready', function() {\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;\n\t\t\t//alert('fire on cordova ready 2')\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onCordovaReady',{});\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onPhoneGapReady',{});\n\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {\n\tvar _lastCheckedPosition = null;\n\tvar _locationEventCount = 0;\n\toptions = options || {};\n\toptions.context = this;\n    function _checkLocation(pos) {\n        _lastCheckedPosition = pos;\n        _locationEventCount++;\n        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {\n            clearTimeout(_timerID);\n            navigator.geolocation.clearWatch(_watchID);\n            _foundPosition(pos);\n        } \n    }\n    function _stopLocationCheck() {\n    \t var error = {};\n    \t error.code = 0;\n    \t error.message = 'Timeout: No results';\n        navigator.geolocation.clearWatch(_watchID);\n        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);\n    }\n    function _onError(error) {\n        clearTimeout(_timerID);\n        navigator.geolocation.clearWatch(_watchID);\n        geolocationError.call(options.context,error);\n    }\n    function _foundPosition(pos) {\n        geolocationSuccess.call(options.context,pos);\n    }\n    if (!options.maxWait) {            \n    \toptions.maxWait = 10000; \n    }\t\n    if (!options.desiredAccuracy) {\n    \t  options.desiredAccuracy = 20; \n    }\n    if (!options.timeout) {\n        options.timeout = options.maxWait;\n\t }\n\t if (!options.ignoreResultCount) {\n\t \t\toptions.ignoreResultCount = 1;\n\t }\n    options.maximumAge = 0; \n    options.enableHighAccuracy = true; \n    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);\n    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); \n}\n\t\t} , false);\n\t\t{UXPRERENDEREDALIAS}_DlgObj._onPhoneGapReady = function() { \n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executePhoneGapDelayed(); \n\t\t\tif({UXPRERENDEREDALIAS}_DlgObj) {\n\t\t\t\tvar obj = {UXPRERENDEREDALIAS}_DlgObj.getPanelObject();\n\t\t\t\tobj.resize();\n\t\t\t};\n\t\t}\n\t}\n\tcatch(err) {}\n{UXPRERENDEREDALIAS}_DlgObj._waitGif = 'css/A5System/Images/wait.gif';\n;\nif(typeof A5 == 'undefined') A5 = {};\nA5.makeArrayOfArrays = function() {\n\tvar _t = null;\n\t\tvar _r = [];\n\t\tfor(var i = 0; i < arguments[0].length; i++) {\n\t\t\t_t = [];\n\t\t\tfor(var k = 0; k < arguments.length; k++) {\n\t\t\t\t_t.push(arguments[k][i])\n\t\t\t}\n\t\t\t_r.push(_t);\n\t\t}\n\treturn _r;\n}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartResize =  function(chartId,width,height) {\n\t\tvar method = arguments[3];\n\t\tvar args = arguments[4];\n\t\tvar ele = this.getPointer(chartId);\n\t\tif(!ele) return false;\n\t\tvar ele2 = $(ele.id + '.JSCHART');\n\t\tif(!(width == '' || width == null || typeof width == 'undefined')) ele2.style.width = width;\n\t\tif(!(height == '' || height == null || typeof height == 'undefined')) ele2.style.height = height;\n\t\tif(width == '100%') {\n\t\t\tele.style.width = width;\n\t\t}\n\t\tvar obj = this.jsChartRedraw(chartId,method,args);\n\t}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartSetProperties = function(chartId, properties) {\n\t\tvar _dm = null;\n\t\tvar _dmp = null;\n\t\tif(typeof arguments[2] != 'undefined') _dm = arguments[2];\n\t\tif(typeof arguments[3] != 'undefined') _dmp = arguments[3];\n\t\tif(properties.constructor != Array) {\n\t\t\tproperties = [properties];\n\t\t}\n\t\tvar _o = [];\n\t\tfor(var i = 0; i < properties.length; i++) {\n\t\t\t_o.push({ options: properties[i]});\n\t\t}\n\t\tthis.jsChartRedraw(chartId,_dm,_dmp,_o);\n\t}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartRefreshData = function(chartId) {\n\t\tif(chartId.indexOf(',') > -1) {\n\t\t\tchartId = chartId.split(',');\n\t\t}\n\t\tif(typeof chartId == 'string') {\n\t\t\tchartId = [chartId];\n\t\t}\n\t\tvar _ds = [];\n\t\tfor(var j = 0; j < chartId.length; j++) {\n\t\t\tvar obj = this.getControl(chartId[j]);\n\t\t\tif(obj) {\n\t\t\t\tfor(var i = 0; i < obj.length; i++) {\n\t\t\t\t\t_ds.push(this._jsCharts[chartId[j]].dataSeries);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(_ds.toString() == '') {\n\t\t\tfor(var i = 0; i < chartId.length; i++) {\n\t\t\t\tthis.jsChartRedraw(chartId[i]);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\tvar id = this.dialogId;\n\t\tvar _redraw = function() {\n\t\t\tfor(var i = 0; i < chartId.length; i++) {\n\t\t\t\twindow[id + '_DlgObj'].jsChartRedraw(chartId[i]);\n\t\t\t}\n\t\t}\n\t\tvar _data='_seriesNames=' + _ds.join(',');\n\t\tvar _onAjaxError = function() { }\n\t\tvar _onOffline = function() { }\n\t\tvar _onComplete = function() {\n\t\t\t_redraw();\n\t\t}\n\t\tvar obj = {errorFunction: _onAjaxError, onComplete: _onComplete, deviceOfflineFunction: _onOffline};\n\t\tthis.ajaxCallback('','','system:refreshDataSeriesData','',_data,obj);\n\t}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartRedraw = function(chartId) {\n\t\tvar obj = this.getControl(chartId);\n\t\tvar method = 'draw';\n\t\tvar flagMethodPassedIn = false;\n\t\tif( !(typeof arguments[1] == 'undefined' || arguments[1] == null)  ) {\n\t\t\tmethod = arguments[1];\n\t\t\tflagMethodPassedIn = true;\n\t\t}\n\t\tvar drawSettings = null;\n\t\tif(typeof arguments[2] != 'undefined') drawSettings = arguments[2];\n\t\tvar _overrides = false;\n\t\tif(typeof arguments[3] != 'undefined') _overrides = arguments[3];\n\t\tif(!obj) return false;\n\t\tfor(var i = 0; i < obj.length; i++) {\n\t\t\tvar _s = this._jsCharts[chartId].settings[i];\n\t\t\tvar type = obj[i].type;\n\t\t\tvar id = _s().id;\n\t\t\tvar ele = $(id);\n\t\t\tif(i == 0) {\n\t\t\t\tdelete ele.__svg__;\n\t\t\t\tele.innerHTML = '';\n\t\t\t}\n\t\t\tif(!flagMethodPassedIn) {\n\t\t\t\tvar method_i = this._jsCharts[chartId].drawMethod[i];\n\t\t\t\tvar methodArgs_i = this._jsCharts[chartId].drawMethodArgument[i];\n\t\t\t\tif(typeof method_i != 'undefined') {\n\t\t\t\t\tmethodLocal = method_i;\n\t\t\t\t} else {\n\t\t\t\t\tmethodLocal = method;\n\t\t\t\t}\n\t\t\t\tif(typeof methodArgs_i != 'undefined') {\n\t\t\t\t\tmethodArgsLocal = methodArgs_i;\n\t\t\t\t} else {\n\t\t\t\t\tmethodArgsLocal = drawSettings;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmethodLocal = method;\n\t\t\t\tmethodArgsLocal = drawSettings;\n\t\t\t}\n\t\t\tvar _settings = _s();\n\t\t\tif(!_overrides || typeof _overrides == 'object') {\n\t\t\t\tvar _o = _overrides[i];\n\t\t\t\tif(typeof _o != 'undefined') {\n\t\t\t\t\t$u.o.assign(_settings,_o);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(type == 'bar') {\n\t\t\t\tobj[i] = new RGraph.SVG.Bar(_settings);\n\t\t\t} else if(type == 'hbar') {\n\t\t\t\tobj[i] = new RGraph.SVG.HBar(_settings);\n\t\t\t} else if(type == 'scatter') {\n\t\t\t\tobj[i] = new RGraph.SVG.Scatter(_settings);\n\t\t\t} else if(type == 'pie') {\n\t\t\t\tobj[i] = new RGraph.SVG.Pie(_settings);\n\t\t\t} else if(type == 'line') {\n\t\t\t\tobj[i] = new RGraph.SVG.Line(_settings);\n\t\t\t} else if(type == 'waterfall') {\n\t\t\t\tobj[i] = new RGraph.SVG.Waterfall(_settings);\n\t\t\t} else if(type == 'semicircularprogress') {\n\t\t\t\tobj[i] = new RGraph.SVG.SemiCircularProgress(_settings);\n\t\t\t}\n\t\t\tobj[i][methodLocal](methodArgsLocal);\n\t\t}\n\t}\n;\n    /**\n    * o--------------------------------------------------------------------------------o\n    * | This file is part of the RGraph package - you can learn more at:               |\n    * |                                                                                |\n    * |                          http://www.rgraph.net                                 |\n    * |                                                                                |\n    * | RGraph is licensed under the Open Source MIT license. That means that it's     |\n    * | totally free to use and there are no restrictions on what you can do with it!  |\n    * o--------------------------------------------------------------------------------o\n    */\n    RGraph        = window.RGraph || {isRGraph: true,isRGraphSVG: true};\n    RGraph.SVG    = RGraph.SVG    || {};\n    RGraph.SVG.FX = RGraph.SVG.FX || {};\n// Module pattern\n(function (win, doc, undefined)\n{\n    var RG  = RGraph,\n        ua  = navigator.userAgent,\n        ma  = Math;\n    RG.SVG.REG = {\n        store: []\n    };\n    // ObjectRegistry\n    RG.SVG.OR = {objects: []};\n    // Used to categorise trigonometery functions\n    RG.SVG.TRIG        = {};\n    RG.SVG.TRIG.HALFPI = ma.PI * .4999;\n    RG.SVG.TRIG.PI     = RG.SVG.TRIG.HALFPI * 2;\n    RG.SVG.TRIG.TWOPI  = RG.SVG.TRIG.PI * 2;\n    RG.SVG.ISIE = ua.indexOf('rident') > 0;\n    RG.SVG.ISFF = ua.indexOf('irefox') > 0;\n    RG.SVG.events = [];\n    // This allows you to set globalconfiguration values that are copied to\n    // all objects automatically.\n    RG.SVG.GLOBALS = {};\n    RG.SVG.ISFF     = ua.indexOf('Firefox') != -1;\n    RG.SVG.ISOPERA  = ua.indexOf('Opera') != -1;\n    RG.SVG.ISCHROME = ua.indexOf('Chrome') != -1;\n    RG.SVG.ISSAFARI = ua.indexOf('Safari') != -1 && !RG.ISCHROME;\n    RG.SVG.ISWEBKIT = ua.indexOf('WebKit') != -1;\n    RG.SVG.ISIE     = ua.indexOf('Trident') > 0 || navigator.userAgent.indexOf('MSIE') > 0;\n    RG.SVG.ISIE6    = ua.indexOf('MSIE 6') > 0;\n    RG.SVG.ISIE7    = ua.indexOf('MSIE 7') > 0;\n    RG.SVG.ISIE8    = ua.indexOf('MSIE 8') > 0;\n    RG.SVG.ISIE9    = ua.indexOf('MSIE 9') > 0;\n    RG.SVG.ISIE10   = ua.indexOf('MSIE 10') > 0;\n    RG.SVG.ISIE11UP = ua.indexOf('MSIE') == -1 && ua.indexOf('Trident') > 0;\n    RG.SVG.ISIE10UP = RG.SVG.ISIE10 || RG.SVG.ISIE11UP;\n    RG.SVG.ISIE9UP  = RG.SVG.ISIE9 || RG.SVG.ISIE10UP;\n    //\n    // Create an SVG tag\n    //\n    RG.SVG.createSVG = function (opt)\n    {\n        var container = opt.container,\n            obj       = opt.object;\n        if (container.__svg__) {\n            return container.__svg__;\n        }\n        var svg = doc.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n            svg.setAttribute('style', 'top: 0; left: 0; position: absolute');\n            svg.setAttribute('width', container.offsetWidth);\n            svg.setAttribute('height', container.offsetHeight);\n            svg.setAttribute('version', '1.1');\n            svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", 'xmlns', 'http://www.w3.org/2000/svg');\n            svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n        container.appendChild(svg);\n        container.__svg__ = svg;\n        var style = getComputedStyle(container);\n        if (style.position !== 'absolute' && style.position !== 'fixed' && style.position !== 'sticky') {\n            container.style.position = 'relative';\n        }\n        // Add the groups that facilitate \"background layers\"\n        var numLayers = 10;\n        for (var i=1; i<=numLayers; ++i) {\n            var group = RG.SVG.create({\n                svg: svg,\n                type: 'g',\n                attr: {\n                    className: 'background' + i\n                }\n            });\n            // Store a reference to the group\n            obj.layers['background' + i] = group;\n            svg['background' + i]        = group;\n        }\n        // Add the group tag to the SVG that contains all of the elements\n        var group = RG.SVG.create({\n            svg: svg,\n            type: 'g',\n            attr: {\n                className: 'all-elements'\n            }\n        });\n        container.__svg__.all = group;\n        return svg;\n    };\n    //\n    // Create a defs tag inside the SVG\n    //\n    RG.SVG.createDefs = function (obj)\n    {\n        if (!obj.svg.defs) {\n            var defs = RG.SVG.create({\n                svg: obj.svg,\n                type: 'defs'\n            });\n            obj.svg.defs = defs;\n        }\n        return defs;\n    };\n    //\n    // Creates a tag depending on the args that you give\n    //\n    //@param opt object The options for the function\n    //\n    RG.SVG.create = function (opt)\n    {\n        var ns  = \"http://www.w3.org/2000/svg\",\n            tag = doc.createElementNS(ns, opt.type);\n        // Add the attributes\n        for (var o in opt.attr) {\n            if (typeof o === 'string') {\n                var name = o;\n                if (o === 'className') {\n                    name = 'class';\n                }\n                if ( (opt.type === 'a' || opt.type === 'image') && o === 'xlink:href') {\n                    tag.setAttributeNS('http://www.w3.org/1999/xlink', o, String(opt.attr[o]));\n                } else {\n                    tag.setAttribute(name, String(opt.attr[o]));\n                }\n            }\n        }\n        // Add the style\n        for (var o in opt.style) {\n            if (typeof o === 'string') {\n                tag.style[o] = String(opt.style[o]);\n            }\n        }\n        if (opt.parent) {\n            opt.parent.appendChild(tag);\n        } else {\n            opt.svg.appendChild(tag);\n        }\n        return tag;\n    };\n    //\n    // Function that adds up all of the offsetLeft and offsetTops to get\n    // X/Y coords for the mouse\n    //\n    //@param object e The event object\n    //@return array   The X/Y coordinate pair representing the mouse\n    //                location in relation to the SVG tag.\n    //\n    RG.SVG.getMouseXY = function(e)\n    {\n        // This is necessary for IE9\n        if (!e.target) {\n            return;\n        }\n        var el = e.target, offsetX = 0, offsetY = 0, x, y;\n        if (typeof el.offsetParent !== 'undefined') { \n            do {\n                offsetX += el.offsetLeft;\n                offsetY += el.offsetTop;\n            } while ((el = el.offsetParent));\n        }\n        x = e.pageX;\n        y = e.pageY;\n        x -= (2 * (parseInt(document.body.style.borderLeftWidth) || 0));\n        y -= (2 * (parseInt(document.body.style.borderTopWidth) || 0));\n        // We return a javascript array with x and y defined\n        return [x, y];\n    };\n    //\n    // Draws an X axis\n    //\n    //@param The chart object\n    //\n    RG.SVG.drawXAxis = function (obj)\n    {\n        var prop = obj.properties;\n        // Draw the axis\n        if (prop.xaxis) {\n            var y = obj.type === 'hbar' ? obj.height - prop.gutterBottom : obj.getYCoord(obj.scale.min < 0 && obj.scale.max < 0 ? obj.scale.max : (obj.scale.min > 0 && obj.scale.max > 0 ? obj.scale.min : 0));\n            var axis = RG.SVG.create({\n                svg: obj.svg,\n                parent: obj.svg.all,\n                type: 'path',\n                attr: {\n                    d: 'M{1} {2} L{3} {4}'.format(\n                        prop.gutterLeft,\n                        y,\n                        obj.width - prop.gutterRight,\n                        y\n                    ),\n                    fill: prop.xaxisColor,\n                    stroke: prop.xaxisColor,\n                    'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                    'shape-rendering': 'crispEdges',\n                    'stroke-linecap': 'square'\n                }\n            });\n            // HBar X axis\n            if (obj.type === 'hbar') {\n                var width  = obj.graphWidth / obj.data.length,\n                    x      = prop.gutterLeft,\n                    startY = (obj.height - prop.gutterBottom),\n                    endY   = (obj.height - prop.gutterBottom) + prop.xaxisTickmarksLength;\n            // Line/Bar/Waterfall/Scatter X axis\n            } else {\n                var width  = obj.graphWidth / obj.data.length,\n                    x      = prop.gutterLeft,\n                    startY = obj.getYCoord(0) - (prop.yaxisMin < 0 ? prop.xaxisTickmarksLength : 0),\n                    endY   = obj.getYCoord(0) + prop.xaxisTickmarksLength;\n                if (obj.scale.min < 0 && obj.scale.max <= 0) {\n                    startY = prop.gutterTop;\n                    endY   = prop.gutterTop - prop.xaxisTickmarksLength;\n                }\n                if (obj.scale.min > 0 && obj.scale.max > 0) {\n                    startY = obj.getYCoord(obj.scale.min);\n                    endY   = obj.getYCoord(obj.scale.min) + prop.xaxisTickmarksLength;\n                }\n            }\n            // Draw the tickmarks\n            if (prop.xaxisTickmarks) {\n                // The HBar uses a scale\n                if (prop.xaxisScale) {\n                    for (var i=0; i<(typeof prop.xaxisLabelsPositionEdgeTickmarksCount === 'number' ? prop.xaxisLabelsPositionEdgeTickmarksCount : (obj.scale.numlabels + (prop.yaxis && prop.xaxisMin === 0 ? 0 : 1))); ++i) {\n                        if (obj.type === 'hbar') {\n                            var dataPoints = obj.data.length;\n                        }\n                        x = prop.gutterLeft + ((i+(prop.yaxis && prop.xaxisMin === 0 ? 1 : 0)) * (obj.graphWidth / obj.scale.numlabels));\n                        // Allow Manual specification of number of tickmarks\n                        if (typeof prop.xaxisLabelsPositionEdgeTickmarksCount === 'number') {\n                            dataPoints = prop.xaxisLabelsPositionEdgeTickmarksCount;\n                            var gap    = (obj.graphWidth / prop.xaxisLabelsPositionEdgeTickmarksCount);\n                            x          = (gap * i) + prop.gutterLeft + gap;\n                        }\n                        RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    x,\n                                    startY,\n                                    x,\n                                    endY\n                                ),\n                                stroke: prop.xaxisColor,\n                                'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                    }\n                } else {\n                    // This style is used by Bar and Scatter charts\n                    if (prop.xaxisLabelsPosition === 'section') {\n                        if (obj.type === 'bar' || obj.type === 'waterfall') {\n                            var dataPoints = obj.data.length;\n                        } else if (obj.type === 'line'){\n                            var dataPoints = obj.data[0].length;\n                        } else if (obj.type === 'scatter') {\n                            var dataPoints = prop.xaxisLabels ? prop.xaxisLabels.length : 10;\n                        }\n                        // Allow Manual specification of number of tickmarks\n                        if (typeof prop.xaxisLabelsPositionSectionTickmarksCount === 'number') {\n                            dataPoints = prop.xaxisLabelsPositionSectionTickmarksCount;\n                        }\n                        for (var i=0; i<dataPoints; ++i) {\n                            x = prop.gutterLeft + ((i+1) * (obj.graphWidth / dataPoints));\n                            RG.SVG.create({\n                                svg: obj.svg,\n                                parent: obj.svg.all,\n                                type: 'path',\n                                attr: {\n                                    d: 'M{1} {2} L{3} {4}'.format(\n                                        x + 0.001,\n                                        startY,\n                                        x,\n                                        endY\n                                    ),\n                                    stroke: prop.xaxisColor,\n                                    'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                                    'shape-rendering': \"crispEdges\"\n                                }\n                            });\n                        }\n                    // This style is used by line charts\n                    } else if (prop.xaxisLabelsPosition === 'edge') {\n                        if (typeof prop.xaxisLabelsPositionEdgeTickmarksCount === 'number') {\n                            var len = prop.xaxisLabelsPositionEdgeTickmarksCount;\n                        } else {\n                            var len = obj.data && obj.data[0] && obj.data[0].length ? obj.data[0].length : 0;\n                        }\n                        for (var i=0; i<len; ++i) {\n                            var gap = ( (obj.graphWidth) / (len - 1)),\n                                x   = prop.gutterLeft + ((i+1) * gap);\n                            RG.SVG.create({\n                                svg: obj.svg,\n                                parent: obj.svg.all,\n                                type: 'path',\n                                attr: {\n                                    d: 'M{1} {2} L{3} {4}'.format(\n                                        x + 0.001,\n                                        startY,\n                                        x,\n                                        endY\n                                    ),\n                                    stroke: prop.xaxisColor,\n                                    'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                                    'shape-rendering': \"crispEdges\"\n                                }\n                            });\n                        }\n                    }\n                }\n                // Draw an extra tick if the Y axis is not being shown\n                if (prop.yaxis === false) {\n                    RG.SVG.create({\n                        svg: obj.svg,\n                        parent: obj.svg.all,\n                        type: 'path',\n                        attr: {\n                            d: 'M{1} {2} L{3} {4}'.format(\n                                prop.gutterLeft + 0.001,\n                                startY,\n                                prop.gutterLeft,\n                                endY\n                            ),\n                            stroke: obj.properties.xaxisColor,\n                            'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                            'shape-rendering': \"crispEdges\",\n                            parent: obj.svg.all,\n                        }\n                    });\n                }\n            }\n        }\n        //\n        // Draw an X axis scale\n        //\n        if (prop.xaxisScale) {\n            if (obj.type === 'scatter') {\n                obj.xscale = RG.SVG.getScale({\n                    object:    obj,\n                    numlabels: prop.xaxisLabelsCount,\n                    unitsPre:  prop.xaxisUnitsPre,\n                    unitsPost: prop.xaxisUnitsPost,\n                    max:       prop.xaxisMax,\n                    min:       prop.xaxisMin,\n                    point:     prop.xaxisPoint,\n                    round:     prop.xaxisRound,\n                    thousand:  prop.xaxisThousand,\n                    decimals:  prop.xaxisDecimals,\n                    strict:    typeof prop.xaxisMax === 'number',\n                    formatter: prop.xaxisFormatter\n                });\n                var segment = obj.graphWidth / prop.xaxisLabelsCount\n                for (var i=0; i<obj.xscale.labels.length; ++i) {\n                    var x = prop.gutterLeft + (segment * i) + segment + prop.xaxisLabelsOffsetx;\n                    var y = (obj.height - prop.gutterBottom) + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                    RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text:   obj.xscale.labels[i],\n                        x:      x,\n                        y:      y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n                // Add the minimum label if labels are enabled\n                if (prop.xaxisLabelsCount > 0) {\n                    var y   = obj.height - prop.gutterBottom + prop.xaxisLabelsOffsety + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10),\n                        str = RG.SVG.numberFormat({\n                            object:     obj,\n                            num:        prop.xaxisMin.toFixed(prop.xaxisDecimals),\n                            prepend:    prop.xaxisUnitsPre,\n                            append:     prop.xaxisUnitsPost,\n                            point:      prop.xaxisPoint,\n                            thousand:   prop.xaxisThousand,\n                            formatter:  prop.xaxisFormatter\n                        });\n                    var text = RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text: typeof prop.xaxisFormatter === 'function' ? (prop.xaxisFormatter)(this, prop.xaxisMin) : str,\n                        x: prop.gutterLeft + prop.xaxisLabelsOffsetx,\n                        y: y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n            // =========================================================================\n            } else {\n                var segment = obj.graphWidth / prop.xaxisLabelsCount,\n                    scale   = obj.scale;\n                for (var i=0; i<scale.labels.length; ++i) {\n                    var x = prop.gutterLeft + (segment * i) + segment + prop.xaxisLabelsOffsetx;\n                    var y = (obj.height - prop.gutterBottom) + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                    RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text:   obj.scale.labels[i],\n                        x:      x,\n                        y:      y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n                // Add the minimum label if labels are enabled\n                if (prop.xaxisLabelsCount > 0) {\n                    var y   = obj.height - prop.gutterBottom + prop.xaxisLabelsOffsety + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10),\n                        str = RG.SVG.numberFormat({\n                            object:     obj,\n                            num:        prop.xaxisMin.toFixed(prop.xaxisDecimals),\n                            prepend:    prop.xaxisUnitsPre,\n                            append:     prop.xaxisUnitsPost,\n                            point:      prop.xaxisPoint,\n                            thousand:   prop.xaxisThousand,\n                            formatter:  prop.xaxisFormatter\n                        });\n                    var text = RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text: typeof prop.xaxisFormatter === 'function' ? (prop.xaxisFormatter)(this, prop.xaxisMin) : str,\n                        x: prop.gutterLeft + prop.xaxisLabelsOffsetx,\n                        y: y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n            }\n        //\n        // Draw the X axis labels\n        //\n        } else {\n            if (typeof prop.xaxisLabels === 'object' && !RG.SVG.isNull(prop.xaxisLabels) ) {\n                var angle = prop.xaxisTextAngle;\n                // Loop through the X labels\n                if (prop.xaxisLabelsPosition === 'section') {\n                    var segment = (obj.width - prop.gutterLeft - prop.gutterRight) / prop.xaxisLabels.length;\n                    for (var i=0; i<prop.xaxisLabels.length; ++i) {\n                        var x = prop.gutterLeft + (segment / 2) + (i * segment);\n                        if (obj.scale.max <=0 && obj.scale.min < obj.scale.max) {\n                            var y = prop.gutterTop - (RG.SVG.ISFF ? 5 : 10)  - (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                            var valign = 'bottom';\n                        } else {\n                            var y = obj.height - prop.gutterBottom + (RG.SVG.ISFF ? 5 : 10) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                            var valign = 'top';\n                        }\n                        RG.SVG.text({\n                            object: obj,\n                            parent: obj.svg.all,\n                            text: prop.xaxisLabels[i],\n                            x: x + prop.xaxisLabelsOffsetx,\n                            y: y,\n                            valign: (typeof angle === 'number' && angle) ? 'center' : valign,\n                            halign: (typeof angle === 'number' && angle) ? 'right' : 'center',\n                            angle: angle,\n                            tag:    'labels.xaxis',\n                            size:   prop.xaxisTextSize   || prop.textSize,\n                            italic: prop.xaxisTextItalic || prop.textItalic,\n                            font:   prop.xaxisTextFont   || prop.textFont,\n                            bold:   prop.xaxisTextBold   || prop.textBold,\n                            color:  prop.xaxisTextColor  || prop.textColor\n                        });\n                    }\n                } else if (prop.xaxisLabelsPosition === 'edge') {\n                    if (obj.type === 'line') {\n                        var hmargin = prop.hmargin;\n                    } else {\n                        var hmargin = 0;\n                    }\n                    var segment = (obj.graphWidth - hmargin - hmargin) / (prop.xaxisLabels.length - 1);\n                    for (var i=0; i<prop.xaxisLabels.length; ++i) {\n                        var x = prop.gutterLeft + (i * segment) + hmargin;\n                        if (obj.scale.max <= 0 && obj.scale.min < 0) {\n                            valign = 'bottom';\n                            y = prop.gutterTop - (RG.SVG.ISFF ? 5 : 10) - (prop.xaxisTickmarksLength - 5)  - (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety\n                        } else {\n                            valign = 'top';\n                            y = obj.height - prop.gutterBottom + (RG.SVG.ISFF ? 5 : 10) + (prop.xaxisTickmarksLength - 5) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                        }\n                        RG.SVG.text({\n                            object: obj,\n                            parent: obj.svg.all,\n                            text: prop.xaxisLabels[i],\n                            x: x + prop.xaxisLabelsOffsetx,\n                            y: y,\n                            valign: (typeof angle === 'number' && angle) ? 'center' : valign,\n                            halign: (typeof angle === 'number' && angle) ? 'right' : 'center',\n                            angle: angle,\n                            tag:    'labels.xaxis',\n                            size:   prop.xaxisTextSize   ||  prop.textSize,\n                            italic: prop.xaxisTextItalic ||  prop.textItalic,\n                            font:   prop.xaxisTextFont   ||  prop.textFont,\n                            bold:   prop.xaxisTextBold   ||  prop.textBold,\n                            color:  prop.xaxisTextColor  ||  prop.textColor\n                        });\n                    }\n                }\n            }\n        }\n    };\n    //\n    // Draws an Y axis\n    //\n    //@param The chart object\n    //\n    RG.SVG.drawYAxis = function (obj)\n    {\n        var prop = obj.properties;\n        if (prop.yaxis) {\n            // The X coordinate that the Y axis is positioned at\n            if (obj.type === 'hbar') {\n                var x = obj.getXCoord(prop.xaxisMin > 0 ? prop.xaxisMin : 0);\n                if (prop.xaxisMin < 0 && prop.xaxisMax <= 0) {\n                    x = obj.getXCoord(prop.xaxisMax);\n                }\n            } else {\n                var x = prop.gutterLeft;\n            }\n            var axis = RG.SVG.create({\n                svg: obj.svg,\n                parent: obj.svg.all,\n                type: 'path',\n                attr: {\n                    d: 'M{1} {2} L{3} {4}'.format(\n                        x,\n                        prop.gutterTop,\n                        x,\n                        obj.height - prop.gutterBottom\n                    ),\n                    stroke: prop.yaxisColor,\n                    fill: prop.yaxisColor,\n                    'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                    'shape-rendering': \"crispEdges\",\n                    'stroke-linecap': 'square'\n                }\n            });\n            if (obj.type === 'hbar') {\n                var height = (obj.graphHeight - prop.vmarginTop - prop.vmarginBottom) / prop.yaxisLabels.length,\n                    y      = prop.gutterTop + prop.vmarginTop,\n                    len    = prop.yaxisLabels.length,\n                    startX = obj.getXCoord(0) + (prop.xaxisMin < 0 ? prop.yaxisTickmarksLength : 0),\n                    endX   = obj.getXCoord(0) - prop.yaxisTickmarksLength;\n                if (prop.xaxisMin < 0 && prop.xaxisMax <=0) {\n                    startX = obj.getXCoord(prop.xaxisMax);\n                    endX   = obj.getXCoord(prop.xaxisMax) + 5;\n                }\n                // A custom number of tickmarks\n                if (typeof prop.yaxisLabelsPositionSectionTickmarksCount === 'number') {\n                    len    = prop.yaxisLabelsPositionSectionTickmarksCount;\n                    height = (obj.graphHeight - prop.vmarginTop - prop.vmarginBottom) / len;\n                }\n                //\n                // Draw the tickmarks\n                //\n                if (prop.yaxisTickmarks) {\n                    for (var i=0; i<len; ++i) {\n                        // Draw the axis\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    startX,\n                                    y,\n                                    endX,\n                                    y + 0.001\n                                ),\n                                stroke: prop.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                        y += height;\n                    }\n                    // Draw an extra tick if the X axis position is not zero or\n                    // if the xaxis is not being shown\n                    if (prop.xaxis === false) {\n                        if (obj.type === 'hbar' && prop.xaxisMin <= 0 && prop.xaxisMax < 0) {\n                            var startX = obj.getXCoord(prop.xaxisMax);\n                            var endX   = obj.getXCoord(prop.xaxisMax) + prop.yaxisTickmarksLength;\n                        } else {\n                            var startX = obj.getXCoord(0) - prop.yaxisTickmarksLength;\n                            var endX   = obj.getXCoord(0) + (prop.xaxisMin < 0 ? prop.yaxisTickmarksLength : 0);\n                        }\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    startX,\n                                    ma.round(obj.height - prop.gutterBottom - parseFloat(prop.vmarginBottom)),\n                                    endX,\n                                    ma.round(obj.height - prop.gutterBottom - parseFloat(prop.vmarginBottom))\n                                ),\n                                stroke: obj.properties.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                    }\n                }\n            //\n            // Bar, Line etc types of chart\n            //\n            } else {\n                var height = obj.graphHeight / prop.yaxisLabelsCount,\n                    y      = prop.gutterTop,\n                    len    = prop.yaxisLabelsCount,\n                    startX = prop.gutterLeft,\n                    endX   = prop.gutterLeft - prop.yaxisTickmarksLength;\n                // A custom number of tickmarks\n                if (typeof prop.yaxisLabelsPositionEdgeTickmarksCount === 'number') {\n                    len    = prop.yaxisLabelsPositionEdgeTickmarksCount;\n                    height = obj.graphHeight / len;\n                }\n                //\n                // Draw the tickmarks\n                //\n                if (prop.yaxisTickmarks) {\n                    for (var i=0; i<len; ++i) {\n                        // Draw the axis\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    startX,\n                                    y,\n                                    endX,\n                                    y\n                                ),\n                                stroke: prop.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                        y += height;\n                    }\n                    // Draw an extra tick if the X axis position is not zero or\n                    //if the xaxis is not being shown\n                    if (    (prop.yaxisMin !== 0 || prop.xaxis === false)\n                        && !(obj.scale.min > 0 && obj.scale.max > 0) ) {\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    prop.gutterLeft - prop.yaxisTickmarksLength,\n                                    obj.height - prop.gutterBottom,\n                                    prop.gutterLeft,\n                                    obj.height - prop.gutterBottom - 0.001\n                                ),\n                                stroke: prop.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        //\n        // Draw the Y axis labels\n        //\n        if (prop.yaxisScale) {\n            var segment = (obj.height - prop.gutterTop - prop.gutterBottom) / prop.yaxisLabelsCount;\n            for (var i=0; i<obj.scale.labels.length; ++i) {\n                var y = obj.height - prop.gutterBottom - (segment * i) - segment;\n                RG.SVG.text({\n                    object: obj,\n                    parent: obj.svg.all,\n                    text:   obj.scale.labels[i],\n                    x:      prop.gutterLeft - 7 - (prop.yaxis ? (prop.yaxisTickmarksLength - 3) : 0) + prop.yaxisLabelsOffsetx,\n                    y:      y + prop.yaxisLabelsOffsety,\n                    halign: prop.yaxisLabelsHalign || 'right',\n                    valign: prop.yaxisLabelsValign || 'center',\n                    tag:    'labels.yaxis',\n                    font:   prop.yaxisTextFont   || prop.textFont,\n                    size:   prop.yaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                    bold:   prop.yaxisTextBold   || prop.textBold,\n                    italic: prop.yaxisTextItalic || prop.textItalic,\n                    color:  prop.yaxisTextColor  || prop.textColor\n                });\n            }\n            //\n            // Add the minimum label\n            //\n            var y   = obj.height - prop.gutterBottom,\n                str = (prop.yaxisUnitsPre + prop.yaxisMin.toFixed(prop.yaxisDecimals).replace(/\\./, prop.yaxisPoint) + prop.yaxisUnitsPost);\n            var text = RG.SVG.text({\n                object: obj,\n                parent: obj.svg.all,\n                text: typeof prop.yaxisFormatter === 'function' ? (prop.yaxisFormatter)(this, prop.yaxisMin) : str,\n                x: prop.gutterLeft - 7 - (prop.yaxis ? (prop.yaxisTickmarksLength - 3) : 0) + prop.yaxisLabelsOffsetx,\n                y: y + prop.yaxisLabelsOffsety,\n                halign: 'right',\n                valign: 'center',\n                tag:    'labels.yaxis',\n                font:   prop.yaxisTextFont   || prop.textFont,\n                size:   prop.yaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                bold:   prop.yaxisTextBold   || prop.textBold,\n                italic: prop.yaxisTextItalic || prop.textItalic,\n                color:  prop.yaxisTextColor  || prop.textColor\n            });\n        //\n        // Draw Y axis labels (eg when specific labels are defined or\n        //the chart is an HBar\n        //\n        } else if (prop.yaxisLabels && prop.yaxisLabels.length) {\n            for (var i=0; i<prop.yaxisLabels.length; ++i) {\n                var segment = (obj.graphHeight - (prop.vmarginTop || 0) - (prop.vmarginBottom || 0) ) / prop.yaxisLabels.length,\n                    y       = prop.gutterTop + (prop.vmarginTop || 0) + (segment * i) + (segment / 2) + prop.yaxisLabelsOffsety,\n                    x       = prop.gutterLeft - 7 /*- (prop.yaxis ? (prop.yaxisTickmarksLength) : 0)*/ - (prop.yaxisLinewidth || 1) + prop.yaxisLabelsOffsetx,\n                    halign  = 'right';\n                // HBar labels\n                if (obj.type === 'hbar' && obj.scale.min < obj.scale.max && obj.scale.max <= 0) {\n                    halign = 'left';\n                    x      = obj.width - prop.gutterRight + 7 + prop.yaxisLabelsOffsetx;\n                // HBar labels (again?)\n                } else if (obj.type === 'hbar' && !prop.yaxisLabelsSpecific) {\n                    var segment = (obj.graphHeight - (prop.vmarginTop || 0) - (prop.vmarginBottom || 0) ) / (prop.yaxisLabels.length);\n                    y = prop.gutterTop + (prop.vmarginTop || 0) + (segment * i) + (segment / 2) + prop.yaxisLabelsOffsety;\n                // Specific scale\n                } else {\n                    var segment = (obj.graphHeight - (prop.vmarginTop || 0) - (prop.vmarginBottom || 0) ) / (prop.yaxisLabels.length - 1);\n                    y = obj.height - prop.gutterBottom - (segment * i) + prop.yaxisLabelsOffsety;\n                }\n                var text = RG.SVG.text({\n                    object: obj,\n                    parent: obj.svg.all,\n                    text:   prop.yaxisLabels[i] ? prop.yaxisLabels[i] : '',\n                    x:      x,\n                    y:      y,\n                    halign: halign,\n                    valign: 'center',\n                    tag:    'labels.yaxis',\n                    font:   prop.yaxisTextFont   || prop.textFont,\n                    size:   prop.yaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                    bold:   typeof prop.yaxisTextBold === 'boolean' ? prop.yaxisTextBold : prop.textBold,\n                    italic: typeof prop.yaxisTextItalic === 'boolean' ? prop.yaxisTextItalic : prop.textItalic,\n                    color:  prop.yaxisTextColor  || prop.textColor\n                });\n            }\n        }\n    };\n    //\n    // Draws the background\n    //\n    //@param The chart object\n    //\n    RG.SVG.drawBackground = function (obj)\n    {\n        var prop = obj.properties;\n        // Set these properties so that if it doesn't exist things don't fail\n        if (typeof prop.variant3dOffsetx !== 'number') prop.variant3dOffsetx = 0;\n        if (typeof prop.variant3dOffsety !== 'number') prop.variant3dOffsety = 0;\n        if (prop.backgroundColor) {\n            RG.SVG.create({\n                svg:  obj.svg,\n                parent: obj.svg.all,\n                type: 'rect',\n                attr: {\n                    x: -1 + prop.variant3dOffsetx + prop.gutterLeft,\n                    y: -1 - prop.variant3dOffsety + prop.gutterTop,\n                    width: parseFloat(obj.svg.getAttribute('width')) + 2 - prop.gutterLeft - prop.gutterRight,\n                    height: parseFloat(obj.svg.getAttribute('height')) + 2 - prop.gutterTop - prop.gutterBottom,\n                    fill: prop.backgroundColor\n                }\n            });\n        }\n        // Render a background image\n        // <image xlink:href=\"firefox.jpg\" x=\"0\" y=\"0\" height=\"50px\" width=\"50px\"/>\n        if (prop.backgroundImage) {\n            var attr = {\n                'xlink:href': prop.backgroundImage,\n                //preserveAspectRatio: 'xMidYMid slice',\n                preserveAspectRatio: prop.backgroundImageAspect || 'none',\n                x: prop.gutterLeft,\n                y: prop.gutterTop\n            };\n            if (prop.backgroundImageStretch) {\n                attr.x      = prop.gutterLeft + prop.variant3dOffsetx;\n                attr.y      = prop.gutterTop + prop.variant3dOffsety;\n                attr.width  = obj.width - prop.gutterLeft - prop.gutterRight;\n                attr.height = obj.height - prop.gutterTop - prop.gutterBottom;\n            } else {\n                if (typeof prop.backgroundImageX === 'number') {\n                    attr.x =  prop.backgroundImageX + prop.variant3dOffsetx;\n                } else {\n                    attr.x =  prop.gutterLeft + prop.variant3dOffsetx;\n                }\n                if (typeof prop.backgroundImageY === 'number') {\n                    attr.y =  prop.backgroundImageY + prop.variant3dOffsety;\n                } else {\n                    attr.y =  prop.gutterTop + prop.variant3dOffsety;\n                }\n                if (typeof prop.backgroundImageW === 'number') {\n                    attr.width =  prop.backgroundImageW;\n                }\n                if (typeof prop.backgroundImageH === 'number') {\n                    attr.height =  prop.backgroundImageH;\n                }\n            }\n            //\n            // Account for the chart being 3d\n            //\n            if (prop.variant === '3d') {\n                attr.x += prop.variant3dOffsetx;\n                attr.y -= prop.variant3dOffsety;\n            }\n            var img = RG.SVG.create({\n                svg:  obj.svg,\n                parent: obj.svg.all,\n                type: 'image',\n                attr: attr,\n                style: {\n                    opacity: typeof prop.backgroundImageOpacity === 'number' ? prop.backgroundImageOpacity : 1\n                }\n            });\n            // Set the width and height if necessary\n            if (!prop.backgroundImageStretch) {\n                var img2    = new Image();\n                img2.src    = prop.backgroundImage;\n                img2.onload = function ()\n                {\n                    img.setAttribute('width', typeof prop.backgroundImageW === 'number' ? prop.backgroundImageW : img2.width);\n                    img.setAttribute('height', typeof prop.backgroundImageH === 'number' ? prop.backgroundImageH : img2.height);\n                };\n            }\n        }\n        if (prop .backgroundGrid) {\n            var parts = [];\n            // Add the horizontal lines to the path\n            if (prop.backgroundGridHlines) {\n                if (typeof prop.backgroundGridHlinesCount === 'number') {\n                    var count = prop.backgroundGridHlinesCount;\n                } else if (obj.type === 'hbar' || obj.type === 'bipolar') {\n                    if (typeof prop.yaxisLabels === 'object' && !RG.SVG.isNull(prop.yaxisLabels) && prop.yaxisLabels.length) {\n                        var count = prop.yaxisLabels.length;\n                    } else if (obj.type === 'hbar') {\n                        var count = obj.data.length;\n                    } else if (obj.type === 'bipolar') {\n                        var count = obj.left.length;\n                    }\n                } else {\n                    var count = prop.yaxisLabelsCount || 5;\n                }\n                for (var i=0; i<=count; ++i) {\n                    parts.push('M{1} {2} L{3} {4}'.format(\n                        prop.gutterLeft + prop.variant3dOffsetx,\n                        prop.gutterTop + (obj.graphHeight / count) * i - prop.variant3dOffsety,\n                        obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                        prop.gutterTop + (obj.graphHeight / count) * i - prop.variant3dOffsety\n                    ));\n                }\n                // Add an extra background grid line to the path - this its\n                // underneath the X axis and shows up if its not there.\n                parts.push('M{1} {2} L{3} {4}'.format(\n                    prop.gutterLeft + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety,\n                    obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety\n                ));\n            }\n            // Add the vertical lines to the path\n            if (prop.backgroundGridVlines) {\n                if (obj.type === 'line' && RG.SVG.isArray(obj.data[0])) {\n                    var len = obj.data[0].length;\n                } else if (obj.type === 'hbar') {\n                    var len = prop.xaxisLabelsCount || 10;\n                } else if (obj.type === 'bipolar') {\n                    var len = prop.xaxisLabelsCount || 10;\n                } else if (obj.type === 'scatter') {\n                    var len = (prop.xaxisLabels && prop.xaxisLabels.length) || 10;\n                } else if (obj.type === 'waterfall') {\n                    var len = obj.data[0].length;\n                } else {\n                    var len = obj.data.length;\n                }\n                var count = typeof prop.backgroundGridVlinesCount === 'number' ? prop.backgroundGridVlinesCount : len;\n                if (prop.xaxisLabelsPosition === 'edge') {\n                    count--;\n                }\n                for (var i=0; i<=count; ++i) {\n                    parts.push('M{1} {2} L{3} {4}'.format(\n                        prop.gutterLeft + ((obj.graphWidth / count) * i) + prop.variant3dOffsetx,\n                        prop.gutterTop - prop.variant3dOffsety,\n                        prop.gutterLeft + ((obj.graphWidth / count) * i) + prop.variant3dOffsetx,\n                        obj.height - prop.gutterBottom - prop.variant3dOffsety\n                    ));\n                }\n            }\n            // Add the box around the grid\n            if (prop.backgroundGridBorder) {\n                parts.push('M{1} {2} L{3} {4} L{5} {6} L{7} {8} z'.format(\n                    prop.gutterLeft + prop.variant3dOffsetx,\n                    prop.gutterTop  - prop.variant3dOffsety,\n                    obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                    prop.gutterTop - prop.variant3dOffsety,\n                    obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety,\n                    prop.gutterLeft + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety\n                ));\n            }\n            // Get the dash array if its defined to be dotted or dashed\n            var dasharray;\n            if (prop.backgroundGridDashed) {\n                dasharray = [3,5];\n            } else if (prop.backgroundGridDotted) {\n                dasharray = [1,3];\n            } else if (prop.backgroundGridDashArray) {\n                dasharray = prop.backgroundGridDashArray;\n            } else {\n                dasharray = '';\n            }\n            // Now draw the path\n            var grid = RG.SVG.create({\n                svg: obj.svg,\n                parent: obj.svg.all,\n                type: 'path',\n                attr: {\n                    className: 'rgraph_background_grid',\n                    d: parts.join(' '),\n                    stroke: prop.backgroundGridColor,\n                    fill: 'rgba(0,0,0,0)',\n                    'stroke-width': prop.backgroundGridLinewidth,\n                    'shape-rendering': \"crispEdges\",\n                    'stroke-dasharray': dasharray\n                },\n                style: {\n                    pointerEvents: 'none'\n                }\n            });\n        }\n        // Draw the title and subtitle\n        if (obj.type !== 'bipolar') {\n            RG.SVG.drawTitle(obj);\n        }\n    };\n    /**\n    * Returns true/false as to whether the given variable is null or not\n    * \n    * @param mixed arg The argument to check\n    */\n    RG.SVG.isNull = function (arg)\n    {\n        // must BE DOUBLE EQUALS - NOT TRIPLE\n        if (arg == null || typeof arg === 'object' && !arg) {\n            return true;\n        }\n        return false;\n    };\n    /**\n    * Returns an appropriate scale. The return value is actualy an object consisting of:\n    *  scale.max\n    *  scale.min\n    *  scale.scale\n    * \n    * @param  obj object  The graph object\n    * @param  prop object An object consisting of configuration properties\n    * @return     object  An object containg scale information\n    */\n    RG.SVG.getScale = function (opt)\n    {\n        var obj          = opt.object,\n            prop         = obj.properties,\n            numlabels    = opt.numlabels,\n            unitsPre     = opt.unitsPre,\n            unitsPost    = opt.unitsPost,\n            max          = Number(opt.max),\n            min          = Number(opt.min),\n            strict       = opt.strict,\n            decimals     = Number(opt.decimals),\n            point        = opt.point,\n            thousand     = opt.thousand,\n            originalMax  = max,\n            round        = opt.round,\n            scale        = {max:1,labels:[],values:[]},\n            formatter    = opt.formatter;\n        /**\n        * Special case for 0\n        * \n        * ** Must be first **\n        */\n        if (max === 0 && min === 0) {\n            var max = 1;\n            for (var i=0; i<numlabels; ++i) {\n                var label = ((((max - min) / numlabels) * (i + 1)) + min).toFixed(decimals);\n                scale.labels.push(unitsPre + label + unitsPost);\n                scale.values.push(parseFloat(label))\n            }\n        /**\n        * Manually do decimals\n        */\n        } else if (max <= 1 && !strict) {\n            var arr = [\n                1,0.5,\n                0.10,0.05,\n                0.010,0.005,\n                0.0010,0.0005,\n                0.00010,0.00005,\n                0.000010,0.000005,\n                0.0000010,0.0000005,\n                0.00000010,0.00000005,\n                0.000000010,0.000000005,\n                0.0000000010,0.0000000005,\n                0.00000000010,0.00000000005,\n                0.000000000010,0.000000000005,\n                0.0000000000010,0.0000000000005\n            ], vals = [];\n            for (var i=0; i<arr.length; ++i) {\n                if (max > arr[i]) {\n                    i--;\n                    break;\n                }\n            }\n            scale.max    = arr[i]\n            scale.labels = [];\n            scale.values = [];\n            for (var j=0; j<numlabels; ++j) {\n                var value = ((((arr[i] - min) / numlabels) * (j + 1)) + min).toFixed(decimals);\n                scale.values.push(value);\n                scale.labels.push(RG.SVG.numberFormat({\n                    object: obj,\n                    num: value,\n                    prepend: unitsPre,\n                    append: unitsPost,\n                    point: prop.yaxisPoint,\n                    thousand: prop.yaxisThousand,\n                    formatter: formatter\n                }));\n            }\n        } else if (!strict) {\n            /**\n            * Now comes the scale handling for integer values\n            */\n            // This accomodates decimals by rounding the max up to the next integer\n            max = ma.ceil(max);\n            var interval = ma.pow(10, ma.max(1, Number(String(Number(max) - Number(min)).length - 1)) );\n            var topValue = interval;\n            while (topValue < max) {\n                topValue += (interval / 2);\n            }\n            // Handles cases where the max is (for example) 50.5\n            if (Number(originalMax) > Number(topValue)) {\n                topValue += (interval / 2);\n            }\n            // Custom if the max is greater than 5 and less than 10\n            if (max <= 10) {\n                topValue = (Number(originalMax) <= 5 ? 5 : 10);\n            }\n            // Added 02/11/2010 to create \"nicer\" scales\n            if (obj && typeof(round) == 'boolean' && round) {\n                topValue = 10 * interval;\n            }\n            scale.max = topValue;\n            for (var i=0; i<numlabels; ++i) {\n                var label = RG.SVG.numberFormat({\n                    object: obj,\n                    num: ((((i+1) / numlabels) * (topValue - min)) + min).toFixed(decimals),\n                    prepend: unitsPre,\n                    append: unitsPost,\n                    point: point,\n                    thousand: thousand,\n                    formatter: formatter\n                });\n                scale.labels.push(label);\n                scale.values.push(((((i+1) / numlabels) * (topValue - min)) + min).toFixed(decimals));\n            }\n        } else if (typeof max === 'number' && strict) {\n            /**\n            * ymax is set and also strict\n            */\n            for (var i=0; i<numlabels; ++i) {\n                scale.labels.push(RG.SVG.numberFormat({\n                    object: obj,\n                    formatter: formatter,\n                    num: ((((i+1) / numlabels) * (max - min)) + min).toFixed(decimals),\n                    prepend: unitsPre,\n                    append: unitsPost,\n                    point: point,\n                    thousand: thousand\n                }));\n                scale.values.push(\n                    ((((i+1) / numlabels) * (max - min)) + min).toFixed(decimals)\n                );\n            }\n            // ???\n            scale.max = max;\n        }\n        scale.unitsPre  = unitsPre;\n        scale.unitsPost = unitsPost;\n        scale.point     = point;\n        scale.decimals  = decimals;\n        scale.thousand  = thousand;\n        scale.numlabels = numlabels;\n        scale.round     = Boolean(round);\n        scale.min       = min;\n        //\n        // Convert all of the scale values to numbers\n        //\n        for (var i=0; i<scale.values.length; ++i) {\n            scale.values[i] = parseFloat(scale.values[i]);\n        }\n        return scale;\n    };\n    /**\n    * Pads/fills the array\n    * \n    * @param  array arr The array\n    * @param  int   len The length to pad the array to\n    * @param  mixed     The value to use to pad the array (optional)\n    */\n    RG.SVG.arrayFill = \n    RG.SVG.arrayPad  = function (opt)\n    {\n        var arr   = opt.array,\n            len   = opt.length,\n            value = (typeof opt.value === 'undefined' ? null : opt.value);\n        if (arr.length < len) {            \n            for (var i=arr.length; i<len; i+=1) {\n                arr[i] = value;\n            }\n        }\n        return arr;\n    };\n    /**\n    * An array sum function\n    * \n    * @param  array arr The  array to calculate the total of\n    * @return int       The summed total of the arrays elements\n    */\n    RG.SVG.arraySum = function (arr)\n    {\n        // Allow integers\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        // Account for null\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        var i, sum, len = arr.length;\n        for(i=0,sum=0;i<len;sum+=arr[i++]);\n        return sum;\n    };\n    /**\n    * Returns the maximum numeric value which is in an array. This function IS NOT\n    * recursive\n    * \n    * @param  array arr The array (can also be a number, in which case it's returned as-is)\n    * @param  int       Whether to ignore signs (ie negative/positive)\n    * @return int       The maximum value in the array\n    */\n    RG.SVG.arrayMax = function (arr)\n    {\n        var max = null\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        for (var i=0,len=arr.length; i<len; ++i) {\n            if (typeof arr[i] === 'number') {\n                var val = arguments[1] ? ma.abs(arr[i]) : arr[i];\n                if (typeof max === 'number') {\n                    max = ma.max(max, val);\n                } else {\n                    max = val;\n                }\n            }\n        }\n        return max;\n    };\n    /**\n    * Returns the minimum numeric value which is in an array\n    * \n    * @param  array arr The array (can also be a number, in which case it's returned as-is)\n    * @param  int       Whether to ignore signs (ie negative/positive)\n    * @return int       The minimum value in the array\n    */\n    RG.SVG.arrayMin = function (arr)\n    {\n        var max = null,\n            min = null,\n            ma  = Math;\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        for (var i=0,len=arr.length; i<len; ++i) {\n            if (typeof arr[i] === 'number') {\n                var val = arguments[1] ? ma.abs(arr[i]) : arr[i];\n                if (typeof min === 'number') {\n                    min = ma.min(min, val);\n                } else {\n                    min = val;\n                }\n            }\n        }\n        return min;\n    };\n    /**\n    * Returns the maximum value which is in an array\n    * \n    * @param  array arr The array\n    * @param  int   len The length to pad the array to\n    * @param  mixed     The value to use to pad the array (optional)\n    */\n    RG.SVG.arrayPad = function (arr, len)\n    {\n        if (arr.length < len) {\n            var val = arguments[2] ? arguments[2] : null;\n            for (var i=arr.length; i<len; i+=1) {\n                arr[i] = val;\n            }\n        }\n        return arr;\n    };\n    /**\n    * An array sum function\n    * \n    * @param  array arr The  array to calculate the total of\n    * @return int       The summed total of the arrays elements\n    */\n    RG.SVG.arraySum = function (arr)\n    {\n        // Allow integers\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        // Account for null\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        var i, sum, len = arr.length;\n        for(i=0,sum=0;i<len;sum+=arr[i++]);\n        return sum;\n    };\n    /**\n    * Takes any number of arguments and adds them to one big linear array\n    * which is then returned\n    * \n    * @param ... mixed The data to linearise. You can strings, booleans, numbers or arrays\n    */\n    RG.SVG.arrayLinearize = function ()\n    {\n        var arr  = [],\n            args = arguments\n        for (var i=0,len=args.length; i<len; ++i) {\n            if (typeof args[i] === 'object' && args[i]) {\n                for (var j=0,len2=args[i].length; j<len2; ++j) {\n                    var sub = RG.SVG.arrayLinearize(args[i][j]);\n                    for (var k=0,len3=sub.length; k<len3; ++k) {\n                        arr.push(sub[k]);\n                    }\n                }\n            } else {\n                arr.push(args[i]);\n            }\n        }\n        return arr;\n    };\n    /**\n    * Takes one off the front of the given array and returns the new array.\n    * \n    * @param array arr The array from which to take one off the front of array \n    * \n    * @return array The new array\n    */\n    RG.SVG.arrayShift = function(arr)\n    {\n        var ret = [];\n        for(var i=1,len=arr.length; i<len; ++i) {\n            ret.push(arr[i]);\n        }\n        return ret;\n    };\n    /**\n    * Reverses the order of an array\n    * \n    * @param array arr The array to reverse\n    */\n    RG.SVG.arrayReverse = function (arr)\n    {\n        if (!arr) {\n            return;\n        }\n        var newarr=[];\n        for(var i=arr.length - 1; i>=0; i-=1) {\n            newarr.push(arr[i]);\n        }\n        return newarr;\n    };\n    /**\n    * Makes a clone of an object\n    * \n    * @param obj val The object to clone\n    */\n    RG.SVG.arrayClone = function (obj)\n    {\n        if(obj === null || typeof obj !== 'object') {\n            return obj;\n        }\n        if (RG.SVG.isArray(obj)) {\n            var temp = [];\n            for (var i=0,len=obj.length;i<len; ++i) {\n                if (typeof obj[i]  === 'number') {\n                    temp[i] = (function (arg) {return Number(arg);})(obj[i]);\n                } else if (typeof obj[i]  === 'string') {\n                    temp[i] = (function (arg) {return String(arg);})(obj[i]);\n                } else if (typeof obj[i] === 'function') {\n                    temp[i] = obj[i];\n                } else {\n                    temp[i] = RG.SVG.arrayClone(obj[i]);\n                }\n            }\n        } else if (typeof obj === 'object') {\n            var temp = {};\n            for (var i in obj) {\n                if (typeof i === 'string') {\n                    temp[i] = obj[i];\n                }\n            }\n        }\n        return temp;\n    };\n    //\n    // Converts an the truthy values to falsey values and vice-versa\n    //\n    RG.SVG.arrayInvert = function (arr)\n    {\n        for (var i=0,len=arr.length; i<len; ++i) {\n            arr[i] = !arr[i];\n        }\n        return arr;\n    };\n    //\n    // An array_trim function that removes the empty elements off\n    //both ends\n    //\n    RG.SVG.arrayTrim = function (arr)\n    {\n        var out = [], content = false;\n        // Trim the start\n        for (var i=0; i<arr.length; i++) {\n            if (arr[i]) {\n                content = true;\n            }\n            if (content) {\n                out.push(arr[i]);\n            }\n        }\n        // Reverse the array and trim the start again\n        out = RG.SVG.arrayReverse(out);\n        var out2 = [], content = false ;\n        for (var i=0; i<out.length; i++) {\n            if (out[i]) {\n                content = true;\n            }\n            if (content) {\n                out2.push(out[i]);\n            }\n        }\n        // Now reverse the array and return it\n        out2 = RG.SVG.arrayReverse(out2);\n        return out2;\n    };\n    /**\n    * Determines if the given object is an array or not\n    * \n    * @param mixed obj The variable to test\n    */\n    RG.SVG.isArray = function (obj)\n    {\n        if (obj && obj.constructor) {\n            var pos = obj.constructor.toString().indexOf('Array');\n        } else {\n            return false;\n        }\n        return obj != null &&\n               typeof pos === 'number' &&\n               pos > 0 &&\n               pos < 20;\n    };\n    /**\n    * Returns the absolute value of a number. You can also pass in an\n    * array and it will run the abs() function on each element. It\n    * operates recursively so sub-arrays are also traversed.\n    * \n    * @param array arr The number or array to work on\n    */\n    RG.SVG.abs = function (value)\n    {\n        if (typeof value === 'string') {\n            value = parseFloat(value) || 0;\n        }\n        if (typeof value === 'number') {\n            return ma.abs(value);\n        }\n        if (typeof value === 'object') {\n            for (i in value) {\n                if (   typeof i === 'string'\n                    || typeof i === 'number'\n                    || typeof i === 'object') {\n                    value[i] = RG.SVG.abs(value[i]);\n                }\n            }\n            return value;\n        }\n        return 0;\n    };\n    //\n    // Formats a number with thousand seperators so it's easier to read\n    //\n    // @param opt object The options to the function\n    //\n    RG.SVG.numberFormat = function (opt)\n    {\n        var obj                = opt.object,\n            prepend            = opt.prepend ? String(opt.prepend) : '',\n            append             = opt.append ? String(opt.append) : '',\n            output             = '',\n            decimal_seperator  = typeof opt.point === 'string' ? opt.point : '.',\n            thousand_seperator = typeof opt.thousand === 'string' ? opt.thousand : ',',\n            num                = opt.num\n            decimals_trim      = opt.decimals_trim;\n        RegExp.$1   = '';\n        if (typeof opt.formatter === 'function') {\n            return opt.formatter(obj, num);\n        }\n        // Ignore the preformatted version of \"1e-2\"\n        if (String(num).indexOf('e') > 0) {\n            return String(prepend + String(num) + append);\n        }\n        // We need then number as a string\n        num = String(num);\n        // Take off the decimal part - we re-append it later\n        if (num.indexOf('.') > 0) {\n            var tmp = num;\n            num     = num.replace(/\\.(.*)/, ''); // The front part of the number\n            decimal = tmp.replace(/(.*)\\.(.*)/, '$2'); // The decimal part of the number\n        } else {\n            decimal = '';\n        }\n        // Thousand seperator\n        //var seperator = arguments[1] ? String(arguments[1]) : ',';\n        var seperator = thousand_seperator;\n        /**\n        * Work backwards adding the thousand seperators\n        */\n        var foundPoint;\n        for (i=(num.length - 1),j=0; i>=0; j++,i--) {\n            var character = num.charAt(i);\n            if ( j % 3 == 0 && j != 0) {\n                output += seperator;\n            }\n            /**\n            * Build the output\n            */\n            output += character;\n        }\n        /**\n        * Now need to reverse the string\n        */\n        var rev = output;\n        output = '';\n        for (i=(rev.length - 1); i>=0; i--) {\n            output += rev.charAt(i);\n        }\n        // Tidy up\n        //output = output.replace(/^-,/, '-');\n        if (output.indexOf('-' + thousand_seperator) == 0) {\n            output = '-' + output.substr(('-' + thousand_seperator).length);\n        }\n        // Reappend the decimal\n        if (decimal.length) {\n            output =  output + decimal_seperator + decimal;\n            decimal = '';\n            RegExp.$1 = '';\n        }\n        //\n        // Trim the decimals if it's all zeros\n        //\n        if (decimals_trim) {\n            output = output.replace(/0+$/,'');\n            output = output.replace(/\\.$/,'');\n        }\n        // Minor bugette\n        if (output.charAt(0) == '-') {\n            output = output.replace(/-/, '');\n            prepend = '-' + prepend;\n        }\n        return prepend + output + append;\n    };\n    //\n    // A function that adds text to the chart\n    //\n    RG.SVG.text = function (opt)\n    {\n        var obj        = opt.object,\n            parent     = opt.parent || opt.object.svg.all,\n            size       = typeof opt.size === 'number' ? opt.size + 'pt' : (typeof opt.size === 'string' ? opt.size.replace(/pt$/,'') : 12) + 'pt',\n            bold       = opt.bold ? 'bold' : 'normal',\n            font       = opt.font ? opt.font : 'sans-serif',\n            italic     = opt.italic ? 'italic' : 'normal',\n            halign     = opt.halign,\n            valign     = opt.valign,\n            str        = opt.text,\n            x          = opt.x,\n            y          = opt.y,\n            color      = opt.color ? opt.color : 'black',\n            background = opt.background || null,\n            padding    = opt.padding || 0,\n            link       = opt.link || '',\n            linkTarget = opt.linkTarget || '_blank',\n            events     = (opt.events === false ? false : true),\n            angle      = opt.angle;\n        //\n        // Change numbers to strings\n        //\n        if (typeof str === 'number') {\n            str = String(str);\n        }\n        //\n        // If the string starts with a carriage return add a unicode non-breaking\n        // space to the start of it.\n        //\n        if (str.substr(0,2) == '\\r\\n' || str.substr(0,1) === '\\n') {\n            str = \"\\u00A0\" + str;\n        }\n        // Horizontal alignment\n        if (halign === 'right') {\n            halign = 'end';\n        } else if (halign === 'center' || halign === 'middle') {\n            halign = 'middle';\n        } else {\n            halign = 'start';\n        }\n        // Vertical alignment\n        if (valign === 'top') {\n            valign = 'hanging';\n        } else if (valign === 'center' || valign === 'middle') {\n            valign = 'central';\n            valign = 'middle';\n        } else {\n            valign = 'bottom';\n        }\n        //\n        // If a link has been specified then the text node should\n        // be a child of an a node\n        if (link) {\n            var a = RGraph.SVG.create({\n                svg: obj.svg,\n                type: 'a',\n                parent: parent,\n                attr: {\n                    'xlink:href': link,\n                    target: linkTarget\n                }\n            });\n        }\n        //\n        // Text does not include carriage returns\n        //\n        if (str && str.indexOf && str.indexOf(\"\\n\") === -1) {\n            var text = RG.SVG.create({\n                svg: obj.svg,\n                parent: link ? a : opt.parent,\n                type: 'text',\n                attr: {\n                    tag: opt.tag ? opt.tag : '',\n                    fill: color,\n                    x: x,\n                    y: y,\n                    'font-size':         size,\n                    'font-weight':       bold,\n                    'font-family':       font,\n                    'font-style':        italic,\n                    'text-anchor':       halign,\n                    'dominant-baseline': valign\n                }\n            });\n            var textNode = document.createTextNode(str);\n            text.appendChild(textNode);\n            if (!events) {\n                text.style.pointerEvents = 'none';\n            }\n        //\n        // Includes carriage returns\n        //\n        } else if (str && str.indexOf) {\n            // Measure the text\n            var dimensions = RG.SVG.measureText({\n                text: 'My',\n                bold: bold,\n                font: font,\n                size: size\n            });\n            var lineHeight = dimensions[1];\n            str = str.split(/\\r?\\n/);\n            //\n            // Account for the carriage returns and move the text\n            // up as required\n            //\n            if (valign === 'bottom') {\n                y -= str.length * lineHeight;\n            }\n            if (valign === 'center' || valign === 'middle') {\n                y -= (str.length * lineHeight) / 2;\n            }\n            var text = RG.SVG.create({\n                svg: obj.svg,\n                parent: link ? a : opt.parent,\n                type: 'text',\n                attr: {\n                    tag: opt.tag ? opt.tag : '',\n                    fill: color,\n                    x: x,\n                    y: y,\n                    'font-size':         size,\n                    'font-weight':       bold,\n                    'font-family':       font,\n                    'font-style':        italic,\n                    'text-anchor':       halign,\n                    'dominant-baseline': valign\n                }\n            });\n            if (!events) {\n                text.style.pointerEvents = 'none';\n            }\n            for (var i=0; i<str.length; ++i) {\n                var tspan = RG.SVG.create({\n                    svg: obj.svg,\n                    parent: text,\n                    type: 'tspan',\n                    attr: {\n                        x: x,\n                        dy: dimensions ? (dimensions[1] * (i ? 1 : 0)) + 3 : 0\n                    }\n                });\n                var textNode = document.createTextNode(str[i]);\n                tspan.appendChild(textNode);\n                if (!events) {\n                    tspan.style.pointerEvents = 'none';\n                }\n                var dimensions = RG.SVG.measureText({\n                    text: str[i],\n                    bold: bold,\n                    font: font,\n                    size: parseInt(size)\n                });\n            }\n        }\n        // Now add the rotation if necessary\n        if (typeof angle === 'number' && angle && text) {\n            text.setAttribute('x', 0);\n            text.setAttribute('y', 0);\n            text.setAttribute('transform', 'translate({1} {2}) rotate({3})'.format(x, y, -1 * angle));\n        }\n        //\n        // Add a background color if specified\n        //\n        if (typeof background === 'string') {\n            var parent = link ? a : parent;\n            var bbox = text.getBBox(),\n                rect = RG.SVG.create({\n                    svg:    obj.svg,\n                    parent: parent,\n                    type:   'rect',\n                    attr: {\n                        x:      bbox.x - padding,\n                        y:      bbox.y - padding,\n                        width:  bbox.width + (padding * 2),\n                        height: bbox.height + (padding * 2),\n                        fill:   background\n                    }\n                });\n                if (!events) {\n                    rect.style.pointerEvents = 'none';\n                }\n            text.parentNode.insertBefore(rect, text);\n        }\n        if (RG.SVG.ISIE && (valign === 'hanging') && text) {\n            text.setAttribute('y', y + (text.scrollHeight / 2));\n        } else if (RG.SVG.ISIE && valign === 'middle') {\n            text.setAttribute('y', y + (text.scrollHeight / 3));\n        }\n        if (RG.SVG.ISFF && text) {\n            Y = y + (text.scrollHeight / 3);\n        }\n        return text;\n    };\n    //\n    // Helps you get hold of the SPAN tag nodes that hold the text on the chart\n    //\n    RG.SVG.text.find = function (opt)\n    {\n        // Search criteria should include:\n        //  o text (literal string and regex)\n        if (typeof opt.object === 'object' && opt.object.isRGraph) {\n            var svg = opt.object.svg;\n        } else if (typeof opt.svg === 'object' && opt.svg.all) {\n            var svg = opt.svg;\n        }\n        // Look for text nodes based on the text\n        var nodes = svg.getElementsByTagName('text');\n        var found = [];\n        for (var i=0,len=nodes.length; i<len; ++i) {\n            var text = false,\n                tag  = false;\n            // Exact match or regex on the text\n            if (typeof opt.text === 'string' && nodes[i].innerHTML === opt.text) {\n                text = true;\n            } else if (typeof opt.text === 'object' && nodes[i].innerHTML.match(opt.text)) {\n                text = true;\n            } else if (typeof opt.text === 'undefined') {\n                text = true;\n            }\n            // Exact match or regex on the tag\n            if (typeof opt.tag === 'string' && nodes[i].getAttribute('tag') === opt.tag) {\n                tag = true;\n            } else if (typeof opt.tag === 'object' && nodes[i].getAttribute('tag').match(opt.tag)) {\n                tag = true;\n            } else if (typeof opt.tag === 'undefined') {\n                tag = true;\n            }\n            // Did all of the conditions pass?\n            if (text === true && tag === true) {\n                found.push(nodes[i])\n            }\n        }\n        return found;\n    };\n    //\n    // Creates a UID that is applied to the object\n    //\n    RG.SVG.createUID = function ()\n    {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c)\n        {\n            var r = ma.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n            return v.toString(16);\n        });\n    };\n    //\n    // Determines if the SVG DIV container is fixed\n    //\n    RG.SVG.isFixed = function (svg)\n    {\n        var obj = svg.parentNode,\n            i   = 0;\n        while (obj && obj.tagName.toLowerCase() != 'body' && i < 99) {\n            if (obj.style.position === 'fixed') {\n                return obj;\n            }\n            obj = obj.offsetParent;\n        }\n        return false;\n    };\n    /**\n    * Sets an object in the RGraph registry\n    * \n    * @param string name The name of the value to set\n    */\n    RG.SVG.REG.set = function (name, value)\n    {\n        RG.SVG.REG.store[name] = value;\n        return value;\n    };\n    /**\n    * Gets an object from the RGraph registry\n    * \n    * @param string name The name of the value to fetch\n    */\n    RG.SVG.REG.get = function (name)\n    {\n        return RG.SVG.REG.store[name];\n    };\n    /**\n    * Removes white-space from the start aqnd end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.trim = function (str)\n    {\n        return RG.SVG.ltrim(RG.SVG.rtrim(str));\n    };\n    /**\n    * Trims the white-space from the start of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.ltrim = function (str)\n    {\n        return str.replace(/^(\\s|\\0)+/, '');\n    };\n    /**\n    * Trims the white-space off of the end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.rtrim = function (str)\n    {\n        return str.replace(/(\\s|\\0)+$/, '');\n    };\n    //\n    // Hides the currently shown tooltip\n    //\n    RG.SVG.hideTooltip = function ()\n    {\n        var tooltip = RG.SVG.REG.get('tooltip');\n        if (tooltip && tooltip.parentNode /*&& (!uid || uid == tooltip.__canvas__.uid)*/) {\n            tooltip.parentNode.removeChild(tooltip);\n            tooltip.style.display = 'none';                \n            tooltip.style.visibility = 'hidden';\n            RG.SVG.REG.set('tooltip', null);\n        }\n        if (tooltip && tooltip.__object__) {\n            RG.SVG.removeHighlight(tooltip.__object__);\n        }\n    };\n    //\n    // Creates a shadow\n    //\n    RG.SVG.setShadow = function (options)\n    {\n        var obj     = options.object,\n            offsetx = options.offsetx  || 0,\n            offsety = options.offsety || 0,\n            blur    = options.blur || 0,\n            opacity = options.opacity || 0,\n            id      = options.id;\n        var filter = RG.SVG.create({\n            svg: obj.svg,\n            parent: obj.svg.defs,\n            type: 'filter',\n            attr: {\n                id: id,\n                 width: \"130%\",\n                 height: \"130%\"\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feOffset',\n            attr: {\n                result: 'offOut',\n                'in': 'SourceGraphic',\n                dx: offsetx,\n                dy: offsety\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feColorMatrix',\n            attr: {\n                result: 'matrixOut',\n                'in': 'offOut',\n                type: 'matrix',\n                values: '0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 {1} 0'.format(\n                    opacity\n                )\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feGaussianBlur',\n            attr: {\n                result: 'blurOut',\n                'in': 'matrixOut',\n                stdDeviation: blur\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feBlend',\n            attr: {\n                'in': 'SourceGraphic',\n                'in2': 'blurOut',\n                mode: 'normal'\n            }\n        });\n    };\n    /**\n    * Takes a sequential index and returns the group/index variation of it. Eg if you have a\n    * sequential index from a grouped bar chart this function can be used to convert that into\n    * an appropriate group/index combination\n    * \n    * @param nindex number The sequential index\n    * @param data   array  The original data (which is grouped)\n    * @return              The group/index information\n    */\n    RG.SVG.sequentialIndexToGrouped = function (index, data)\n    {\n        var group         = 0,\n            grouped_index = 0;\n        while (--index >= 0) {\n            if (RG.SVG.isNull(data[group])) {\n                group++;\n                grouped_index = 0;\n                continue;\n            }\n            // Allow for numbers as well as arrays in the dataset\n            if (typeof data[group] == 'number') {\n                group++\n                grouped_index = 0;\n                continue;\n            }\n            grouped_index++;\n            if (grouped_index >= data[group].length) {\n                group++;\n                grouped_index = 0;\n            }\n        }\n        return [group, grouped_index];\n    };\n    //\n    // This is the reverse of the above function - converting\n    // group/index to a sequential index\n    //\n    // @return number The sequential index\n    //\n    RG.SVG.groupedIndexToSequential = function (opt)\n    {\n        var dataset = opt.dataset,\n            index   = opt.index,\n            obj     = opt.object;\n        for (var i=0,seq=0; i<=dataset; ++i) {\n            for (var j=0; j<obj.data[dataset].length; ++j) {\n                if (i === dataset && j === index) {\n                    return seq;\n                }\n                seq++;\n            }\n        }\n        return seq;\n    };\n    //\n    // This function converts coordinates into the type understood by\n    // SVG for drawing arcs\n    //\n    RG.SVG.TRIG.toCartesian = function (options)\n    {\n        return {\n            x: options.cx + (options.r * ma.cos(options.angle)),\n            y: options.cy + (options.r * ma.sin(options.angle))\n        };\n    };\n    //\n    // Gets a path that is usable by the SVG A path command\n    //\n    // @patam object options The options/arg to the function\n    //\n    // NB ** Still used by the Pie chart and the semi-circular Meter **\n    //\n    RG.SVG.TRIG.getArcPath = function (options)\n    {\n        //\n        // Make circles start at the top instead of the right hand side\n        //\n        options.start -= 1.57;\n        options.end   -= 1.57;\n        var start = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.start}\n        );\n        var end = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.end\n        });\n        var diff = options.end - options.start;\n        // Initial values\n        var largeArc = '0';\n        var sweep    = '0';\n        if (options.anticlockwise && diff > 3.14) {\n            largeArc = '0';\n            sweep    = '0';\n        } else if (options.anticlockwise && diff <= 3.14) {\n            largeArc = '1';\n            sweep    = '0';\n        } else if (!options.anticlockwise && diff > 3.14) {\n            largeArc = '1';\n            sweep    = '1';\n        } else if (!options.anticlockwise && diff <= 3.14) {\n            largeArc = '0';\n            sweep    = '1';\n        }\n        if (options.start > options.end && options.anticlockwise && diff <= 3.14) {\n            largeArc = '0';\n            sweep    = '0';\n        }\n        if (options.start > options.end && options.anticlockwise && diff > 3.14) {\n            largeArc = '1';\n            sweep    = '1';\n        }\n        if (typeof options.moveto === 'boolean' && options.moveto === false) {\n            var d = [\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        } else {\n            var d = [\n                \"M\", start.x, start.y, \n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        }\n        if (options.array === true) {\n            return d;\n        } else {\n            return d.join(\" \");\n        }\n    };\n    //\n    // Gets a path that is usable by the SVG A path command\n    //\n    // @patam object options The options/arg to the function\n    //\n    RG.SVG.TRIG.getArcPath2 = function (options)\n    {\n        //\n        // Make circles start at the top instead of the right hand side\n        //\n        options.start -= 1.57;\n        options.end   -= 1.57;\n        var start = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.start\n        });\n        var end = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.end\n        });\n        var diff = ma.abs(options.end - options.start);\n        // Initial values\n        var largeArc = '0';\n        var sweep    = '0';\n        //TODO Put various options here for the correct combination of flags to use\n        if (!options.anticlockwise) {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '1';\n            } else {\n                largeArc = '0';\n                sweep    = '1';\n            }\n        } else {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '0';\n            } else {\n                largeArc = '0';\n                sweep    = '0';\n            }\n        }\n        if (typeof options.lineto === 'boolean' && options.lineto === false) {\n            var d = [\n                \"M\", start.x, start.y,\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        } else {\n            var d = [\n                \"M\", options.cx, options.cy,\n                \"L\", start.x, start.y, \n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        }\n        if (options.array === true) {\n            return d;\n        } else {\n            return d.join(\" \");\n        }\n    };\n    //\n    // Gets a path that is usable by the SVG A path command\n    //\n    // @param object options The options/arg to the function\n    //\n    RG.SVG.TRIG.getArcPath3 = function (options)\n    {\n        //\n        // Make circles start at the top instead of the right hand side\n        //\n        options.start -= (ma.PI / 2);\n        options.end   -= (ma.PI / 2);\n        var start = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.start\n        });\n        var end = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.end\n        });\n        var diff = ma.abs(options.end - options.start);\n        // Initial values\n        var largeArc = '0';\n        var sweep    = '0';\n        //TODO Put various options here for the correct combination of flags to use\n        if (!options.anticlockwise) {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '1';\n            } else {\n                largeArc = '0';\n                sweep    = '1';\n            }\n        } else {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '0';\n            } else {\n                largeArc = '0';\n                sweep    = '0';\n            }\n        }\n        if (typeof options.lineto === 'boolean' && options.lineto === false) {\n            var d = [\n                \"M\", start.x, start.y,\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        } else {\n            var d = [\n                \"L\", start.x, start.y,\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        }\n        if (options.array === true) {\n            return d;\n        } else {\n            return d.join(\" \");\n        }\n    };\n    /**\n    * This function gets the end point (X/Y coordinates) of a given radius.\n    * You pass it the center X/Y and the radius and this function will return\n    * the endpoint X/Y coordinates.\n    * \n    * @param number cx    The center X coord\n    * @param number cy    The center Y coord\n    * @param number r     The length of the radius\n    * @param number angle The anle to use\n    */\n    RG.SVG.TRIG.getRadiusEndPoint = function (opt)\n    {\n        // Allow for two arguments style\n        if (arguments.length === 1) {\n            var angle = opt.angle,\n                r     = opt.r;\n        } else if (arguments.length === 4) {\n            var angle = arguments[0],\n                r     = arguments[1];\n        }\n        var x = ma.cos(angle) * r,\n            y = ma.sin(angle) * r;\n        return [x, y];\n    };\n    /**\n    * This function draws the title. This function also draws the subtitle.\n    */\n    RG.SVG.drawTitle = function (obj)\n    {\n        var prop                   = obj.properties,\n            valign                 = 'bottom',\n            originalTitleX         = prop.titleX,\n            originalTitleY         = prop.titleY,\n            originalTitleSubtitleX = prop.titleSubtitleX,\n            originalTitleSubtitleY = prop.titleSubtitleY;\n        if (typeof originalTitleX === 'string')         originalTitleX.replace(/^\\+/,'');\n        if (typeof originalTitleY === 'string')         originalTitleY.replace(/^\\+/,'');\n        if (typeof originalTitleSubtitleX === 'string') originalTitleSubtitleX.replace(/^\\+/,'');\n        if (typeof originalTitleSubtitleY === 'string') originalTitleSubtitleY.replace(/^\\+/,'');\n        //\n        // The Pie chart title should default to being above the centerx\n        //\n        if (obj.type === 'pie') {\n            if (RG.SVG.isNull(prop.titleX)) {\n                prop.titleX         = obj.centerx;\n                prop.titleSubtitleX = obj.centerx;\n            }\n            if (RG.SVG.isNull(prop.titleY)) {\n                prop.titleY = obj.centery - obj.radius - 10;\n            }\n        }\n        if (obj.scale && obj.scale.max <= 0 && obj.scale.min < 0 && typeof prop.titleY !== 'number' && obj.type !== 'hbar') {\n            prop.titleY = obj.height - prop.gutterBottom + 10;\n            var positionBottom = true;\n            valign = 'top';\n        } else if (typeof prop.titleY !== 'number') {\n            var positionBottom = false;\n            prop.titleY = prop.gutterTop - 10;\n            valign      = 'bottom';\n            // Account for the key\n            if (!RG.SVG.isNull(prop.key)) {\n                prop.titleY -= (2 * (prop.keyTextSize || prop.textSize));\n            }\n        }\n        // If a subtitle is specified move the title up a bit in\n        // order to accommodate it\n        if (prop.titleSubtitle && typeof prop.titleSubtitleY !== 'number' && !positionBottom) {\n            prop.titleY = prop.titleY - (prop.titleSubtitleSize * 1.5);\n        }\n        // Work out the subtitle size\n        prop.titleSubTitleSize = prop.titleSubTitleSize || prop.textSize;\n        // Work out the subtitle Y position\n        prop.titleSubtitleY = prop.titleSubtitleY || prop.titleY + 18;\n        if (positionBottom && typeof prop.titleSubtitleY !== 'number') {\n            prop.titleSubtitleY = prop.titleY + 26;\n        }\n        // Draw the title\n        if (prop.title) {\n            var x = typeof prop.titleX === 'number' ? prop.titleX + (prop.variant3dOffsetx || 0) : prop.gutterLeft + (obj.graphWidth / 2) + (prop.variant3dOffsetx || 0);\n            var y = prop.titleY + (prop.variant3dOffsety || 0);\n            // Add any adjustment to the positioning\n            if (typeof originalTitleX === 'string') {\n                x += parseFloat(originalTitleX);\n            }\n            if (typeof originalTitleY === 'string') {\n                y += parseFloat(originalTitleY);\n            }\n            RG.SVG.text({\n                object: obj,\n                svg:    obj.svg,\n                parent: obj.svg.all,\n                tag:    'title',\n                text:   prop.title.toString(),\n                size:   prop.titleSize   || (prop.textSize + 4) || 16,\n                x:      x,\n                y:      y,\n                halign: prop.titleHalign || 'center',\n                valign: prop.titleValign || valign,\n                color:  prop.titleColor  || prop.textColor || 'black',\n                bold:   prop.titleBold   || false,\n                italic: prop.titleItalic || false,\n                font:   prop.titleFont   || prop.textFont || 'Arial'\n            });\n        }\n        // Draw the subtitle\n        if (typeof prop.title === 'string' && typeof prop.titleSubtitle === 'string') {\n            // By default, the X and Y coordinates place the subtitle\n            // underneath the title. Though the y coord is now adjusted\n            // so that the subtitle sits underneath the title.\n            y += (prop.titleSubtitleSize * 1.5);\n            // Is the subtitleX or subtitleY are numbers then just use those\n            if (typeof originalTitleSubtitleX === 'number') {\n                x = originalTitleSubtitleX;\n            }\n            if (typeof originalTitleSubtitleY === 'number') {\n                y = originalTitleSubtitleY;\n            }\n            // Add the subtitles adjustment to the position\n            if (typeof originalTitleSubtitleX === 'string') {\n                x += parseFloat(originalTitleSubtitleX);\n            }\n            // Add the subtitles adjustment to the position\n            if (typeof originalTitleSubtitleY === 'string') {\n                y += parseFloat(originalTitleSubtitleY);\n            }\n            RG.SVG.text({\n                object: obj,\n                svg: obj.svg,\n                parent: obj.svg.all,\n                tag:    'subtitle',\n                text:   prop.titleSubtitle,\n                size:   prop.titleSubtitleSize,\n                x:      x,\n                y:      y,\n                halign: prop.titleSubtitleHalign || 'center',\n                valign: prop.titleSubtitleValign || valign,\n                color:  prop.titleSubtitleColor  || prop.textColor || '#aaa',\n                bold:   prop.titleSubtitleBold   || false,\n                italic: prop.titleSubtitleItalic || false,\n                font:   prop.titleSubtitleFont   || prop.textFont || 'Arial'\n            });\n        }\n    };\n    /**\n    * Removes white-space from the start and end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.trim = function (str)\n    {\n        return RG.SVG.ltrim(RG.SVG.rtrim(str));\n    };\n    /**\n    * Trims the white-space from the start of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.ltrim = function (str)\n    {\n        return String(str).replace(/^(\\s|\\0)+/, '');\n    };\n    /**\n    * Trims the white-space off of the end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.rtrim = function (str)\n    {\n        return String(str).replace(/(\\s|\\0)+$/, '');\n    };\n    /**\n    * This parses a single color value\n    */\n    RG.SVG.parseColorLinear = function (opt)\n    {\n        var obj   = opt.object,\n            color = opt.color;\n        if (!color || typeof color !== 'string') {\n            return color;\n        }\n        if (color.match(/^gradient\\((.*)\\)$/i)) {\n            var parts = RegExp.$1.split(':'),\n                diff  = 1 / (parts.length - 1);\n            if (opt && opt.direction && opt.direction === 'horizontal') {\n                var grad = RG.SVG.create({\n                    type: 'linearGradient',\n                    parent: obj.svg.defs,\n                    attr: {\n                        id: 'RGraph-linear-gradient-' + obj.uid + '-' + obj.gradientCounter,\n                        x1: opt.start || 0,\n                        x2: opt.end || '100%',\n                        y1: 0,\n                        y2: 0,\n                        gradientUnits: \"userSpaceOnUse\"\n                    }\n                });\n            } else {\n                var grad = RG.SVG.create({\n                    type: 'linearGradient',\n                    parent: obj.svg.defs,\n                    attr: {\n                        id: 'RGraph-linear-gradient-' + obj.uid + '-' + obj.gradientCounter,\n                        x1: 0,\n                        x2: 0,\n                        y1: opt.start || 0,\n                        y2: opt.end || '100%',\n                        gradientUnits: \"userSpaceOnUse\"\n                    }\n                });\n            }\n            // Add the first color stop\n            var stop = RG.SVG.create({\n                type: 'stop',\n                parent: grad,\n                attr: {\n                    offset: '0%',\n                    'stop-color': RG.SVG.trim(parts[0])\n                }\n            });\n            // Add the rest of the color stops\n            for (var j=1,len=parts.length; j<len; ++j) {\n                RG.SVG.create({\n                    type: 'stop',\n                    parent: grad,\n                    attr: {\n                        offset: (j * diff * 100) + '%',\n                        'stop-color': RG.SVG.trim(parts[j])\n                    }\n                });\n            }\n        }\n        color = grad ? 'url(#RGraph-linear-gradient-' + obj.uid + '-' + (obj.gradientCounter++) + ')' : color;\n        return color;\n    };\n    /**\n    * This parses a single color value\n    */\n    RG.SVG.parseColorRadial = function (opt)\n    {\n        var obj   = opt.object,\n            color = opt.color;\n        if (!color || typeof color !== 'string') {\n            return color;\n        }\n        if (color.match(/^gradient\\((.*)\\)$/i)) {\n            var parts = RegExp.$1.split(':'),\n                diff  = 1 / (parts.length - 1);\n            var grad = RG.SVG.create({\n                type: 'radialGradient',\n                parent: obj.svg.defs,\n                attr: {\n                    id: 'RGraph-radial-gradient-' + obj.uid + '-' + obj.gradientCounter,\n                    gradientUnits: opt.gradientUnits || 'userSpaceOnUse',\n                    cx: opt.cx || obj.centerx,\n                    cy: opt.cy || obj.centery,\n                    fx: opt.fx || obj.centerx,\n                    fy: opt.fy || obj.centery,\n                    r:  opt.r  || obj.radius\n                }\n            });\n            // Add the first color stop\n            var stop = RG.SVG.create({\n                type: 'stop',\n                parent: grad,\n                attr: {\n                    offset: '0%',\n                    'stop-color': RG.SVG.trim(parts[0])\n                }\n            });\n            // Add the rest of the color stops\n            for (var j=1,len=parts.length; j<len; ++j) {\n                RG.SVG.create({\n                    type: 'stop',\n                    parent: grad,\n                    attr: {\n                        offset: (j * diff * 100) + '%',\n                        'stop-color': RG.SVG.trim(parts[j])\n                    }\n                });\n            }\n        }\n        color = grad ? 'url(#RGraph-radial-gradient-' + obj.uid + '-' + (obj.gradientCounter++) + ')' : color;\n        return color;\n    };\n    /**\n    * Reset all of the color values to their original values\n    * \n    * @param object\n    */\n    RG.SVG.resetColorsToOriginalValues = function (opt)\n    {\n        var obj = opt.object;\n        if (obj.originalColors) {\n            // Reset the colors to their original values\n            for (var j in obj.originalColors) {\n                if (typeof j === 'string') {\n                    obj.properties[j] = RG.SVG.arrayClone(obj.originalColors[j]);\n                }\n            }\n        }\n        /**\n        * If the function is present on the object to reset specific\n        * colors - use that\n        */\n        if (typeof obj.resetColorsToOriginalValues === 'function') {\n            obj.resetColorsToOriginalValues();\n        }\n        // Hmmm... Should this be necessary? I don't think it will\n        // do any harm to leave it in.\n        obj.originalColors = {};\n        // Reset the colorsParsed flag so that they're parsed for gradients again\n        obj.colorsParsed = false;\n        // Reset the gradient counter\n        obj.gradientCounter = 1;\n    };\n    //\n    // Clear the SVG tag by deleting all of its\n    // child nodes\n    //\n    // @param object svg The SVG tag (same as what is returned\n    //                   by document.getElementById() )\n    //\n    RG.SVG.clear = function (svg)\n    {\n        // Clear all the layer nodes\n        for (var i=1; i<=100; ++i) {\n            if (svg['background' + i]) {\n                // Clear all the nodes within this group\n                while (svg['background' + i].lastChild) {\n                    svg['background' + i].removeChild(svg['background' + i].lastChild);\n                }\n            } else {\n                break;\n            }\n        }\n        // Clear all the node within the \"all\" group\n        while (svg.all.lastChild) {\n            svg.all.removeChild(svg.all.lastChild);\n        }\n        // Clear Line chart hotspots\n        if (svg.all.line_tooltip_hotspots) {\n            while (svg.all.line_tooltip_hotspots.lastChild) {\n                svg.all.line_tooltip_hotspots.removeChild(svg.all.line_tooltip_hotspots.lastChild);\n            }\n        }\n    };\n    /**\n    * Adds an event listener\n    * \n    * @param object obj   The graph object\n    * @param string event The name of the event, eg ontooltip\n    * @param object func  The callback function\n    */\n    RG.SVG.addCustomEventListener = function (obj, name, func)\n    {\n        // Initialise the events array if necessary\n        if (typeof RG.SVG.events[obj.uid] === 'undefined') {\n            RG.SVG.events[obj.uid] = [];\n        }\n        // Prepend \"on\" if necessary\n        if (name.substr(0, 2) !== 'on') {\n            name = 'on' + name;\n        }\n        RG.SVG.events[obj.uid].push({\n            object: obj,\n            event:  name,\n            func:   func\n        });\n        return RG.SVG.events[obj.uid].length - 1;\n    };\n    /**\n    * Used to fire one of the RGraph custom events\n    * \n    * @param object obj   The graph object that fires the event\n    * @param string event The name of the event to fire\n    */\n    RG.SVG.fireCustomEvent = function (obj, name)\n    {\n        if (obj && obj.isRGraph) {\n            var uid = obj.uid;\n            if (   typeof uid === 'string'\n                && typeof RG.SVG.events === 'object'\n                && typeof RG.SVG.events[uid] === 'object'\n                && RG.SVG.events[uid].length > 0) {\n                for(var j=0,len=RG.SVG.events[uid].length; j<len; ++j) {\n                    if (RG.SVG.events[uid][j] && RG.SVG.events[uid][j].event === name) {\n                        RG.SVG.events[uid][j].func(obj);\n                    }\n                }\n            }\n        }\n    };\n    /**\n    * Clears all the custom event listeners that have been registered\n    * \n    * @param string optional Limits the clearing to this object UID\n    */\n    RG.SVG.removeAllCustomEventListeners = function ()\n    {\n        var uid = arguments[0];\n        if (uid && RG.SVG.events[uid]) {\n            RG.SVG.events[uid] = {};\n        } else {\n            RG.SVG.events = [];\n        }\n    };\n    /**\n    * Clears a particular custom event listener\n    * \n    * @param object obj The graph object\n    * @param number i   This is the index that is return by .addCustomEventListener()\n    */\n    RG.SVG.removeCustomEventListener = function (obj, i)\n    {\n        if (   typeof RG.SVG.events === 'object'\n            && typeof RG.SVG.events[obj.uid] === 'object'\n            && typeof RG.SVG.events[obj.uid][i] === 'object') {\n            RG.SVG.events[obj.uid][i] = null;\n        }\n    };\n    //\n    // Removes the highlight from the chart added by tooltips (possibly others too)\n    //\n    RG.SVG.removeHighlight = function (obj)\n    {\n        var highlight = RG.SVG.REG.get('highlight');\n        if (highlight && RG.SVG.isArray(highlight) && highlight.length) {\n            for (var i=0,len=highlight.length; i<len; ++i) {\n                if (highlight[i].parentNode) {\n                    //obj.svg.removeChild(highlight[i]);\n                    highlight[i].parentNode.removeChild(highlight[i]);\n                }\n            }\n        } else if (highlight && highlight.parentNode) {\n            if (obj.type === 'scatter') {\n                highlight.setAttribute('fill', 'transparent');\n            } else {\n                highlight.parentNode.removeChild(highlight);\n            }\n        }\n    };\n    //\n    // Removes the highlight from the chart added by tooltips (possibly others too)\n    //\n    RG.SVG.redraw = function ()\n    {\n        if (arguments.length === 1) {\n            var svg = arguments[0];\n            RG.SVG.clear(svg);\n            var objects = RG.SVG.OR.get('id:' + svg.parentNode.id);\n            for (var i=0,len=objects.length; i<len; ++i) {\n                // Reset the colors to the original values\n                RG.SVG.resetColorsToOriginalValues({object: objects[i]});\n                objects[i].draw();\n            }\n        } else {\n            var tags = RG.SVG.OR.tags();\n            for (var i in tags) {\n                RG.SVG.redraw(tags[i]);\n            }\n        }\n    };\n    //\n    // A better, more flexible, date parsing function\n    //\n    //@param  string str The string to parse\n    //@return number     A number, as returned by Date.parse()\n    //\n    RG.SVG.parseDate = function (str)\n    {\n        var d = new Date();\n        // Initialise the default values\n        var defaults = {\n            seconds: '00',\n            minutes: '00',\n            hours: '00',\n            date: d.getDate(),\n            month: d.getMonth() + 1,\n            year: d.getFullYear()\n        };\n        // Create the months array for turning textual months back to numbers\n        var months       = ['january','february','march','april','may','june','july','august','september','october','november','december'],\n            months_regex = months.join('|');\n        for (var i=0; i<months.length; ++i) {\n            months[months[i]] = i;\n            months[months[i].substring(0,3)] = i;\n            months_regex = months_regex + '|' + months[i].substring(0,3);\n        }\n        // These are the seperators allowable for d/m/y and y/m/d dates\n        // (Its part of a regexp so the position of the square brackets\n        //  is crucial)\n        var sep = '[-./_=+~#:;,]+';\n        // Tokenise the string\n        var tokens = str.split(/ +/);\n        // Loop through each token checking what is is\n        for (var i=0,len=tokens.length; i<len; ++i) {\n            if (tokens[i]) {\n                // Year\n                if (tokens[i].match(/^\\d\\d\\d\\d$/)) {\n                    defaults.year = tokens[i];\n                }\n                // Month\n                var res = isMonth(tokens[i]);\n                if (typeof res === 'number') {\n                    defaults.month = res + 1; // Months are zero indexed\n                }\n                // Date\n                if (tokens[i].match(/^\\d?\\d(?:st|nd|rd|th)?$/)) {\n                    defaults.date = parseInt(tokens[i]);\n                }\n                // Time\n                if (tokens[i].match(/^(\\d\\d):(\\d\\d):?(?:(\\d\\d))?$/)) {\n                    defaults.hours   = parseInt(RegExp.$1);\n                    defaults.minutes = parseInt(RegExp.$2);\n                    if (RegExp.$3) {\n                        defaults.seconds = parseInt(RegExp.$3);\n                    }\n                }\n                // Dateformat: XXXX-XX-XX\n                if (tokens[i].match(new RegExp('^(\\\\d\\\\d\\\\d\\\\d)' + sep + '(\\\\d\\\\d)' + sep + '(\\\\d\\\\d)$', 'i'))) {\n                    defaults.date  = parseInt(RegExp.$3);\n                    defaults.month = parseInt(RegExp.$2);\n                    defaults.year  = parseInt(RegExp.$1);\n                }\n                // Dateformat: XX-XX-XXXX\n                if (tokens[i].match(new RegExp('^(\\\\d\\\\d)' + sep + '(\\\\d\\\\d)' + sep + '(\\\\d\\\\d\\\\d\\\\d)$','i') )) {\n                    defaults.date  = parseInt(RegExp.$1);\n                    defaults.month = parseInt(RegExp.$2);\n                    defaults.year  = parseInt(RegExp.$3);\n                }\n            }\n        }\n        // Now put the defaults into a format thats recognised by Date.parse()\n        str = '{1}/{2}/{3} {4}:{5}:{6}'.format(\n            defaults.year,\n            String(defaults.month).length     === 1 ? '0' + (defaults.month) : defaults.month,\n            String(defaults.date).length      === 1 ? '0' + (defaults.date)      : defaults.date,\n            String(defaults.hours).length     === 1 ? '0' + (defaults.hours)     : defaults.hours,\n            String(defaults.minutes).length   === 1 ? '0' + (defaults.minutes)   : defaults.minutes,\n            String(defaults.seconds).length   === 1 ? '0' + (defaults.seconds)   : defaults.seconds\n        );\n        return Date.parse(str);\n        //\n        // Support functions\n        //\n        function isMonth(str)\n        {\n            var res = str.toLowerCase().match(months_regex);\n            return res ? months[res[0]] : false;\n        }\n    };\n    // The ObjectRegistry add function\n    RG.SVG.OR.add = function (obj)\n    {\n        RG.SVG.OR.objects.push(obj);\n        return obj;\n    };\n    // The ObjectRegistry function that returns all of the objects. Th argument\n    // can aither be:\n    //\n    // o omitted  All of the registered objects are returned\n    // o id:XXX  All of the objects on that SVG tag are returned\n    // o type:XXX All the objects of that type are returned\n    //\n    RG.SVG.OR.get = function ()\n    {\n        // Fetch objects that are on a particular SVG tag\n        if (typeof arguments[0] === 'string' && arguments[0].substr(0, 3).toLowerCase() === 'id:') {\n            var ret = [];\n            for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n                if (RG.SVG.OR.objects[i].id === arguments[0].substr(3)) {\n                    ret.push(RG.SVG.OR.objects[i]);\n                }\n            }\n            return ret;\n        }\n        // Fetch objects that are of a particular type\n        //\n        // TODO Allow multiple types to be specified\n        if (typeof arguments[0] === 'string' && arguments[0].substr(0, 4).toLowerCase() === 'type') {\n            var ret = [];\n            for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n                if (RG.SVG.OR.objects[i].type === arguments[0].substr(5)) {\n                    ret.push(RG.SVG.OR.objects[i]);\n                }\n            }\n            return ret;\n        }\n        // Fetch an object that has a specific UID\n        if (typeof arguments[0] === 'string' && arguments[0].substr(0, 3).toLowerCase() === 'uid') {\n            var ret = [];\n            for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n                if (RG.SVG.OR.objects[i].uid === arguments[0].substr(4)) {\n                    ret.push(RG.SVG.OR.objects[i]);\n                }\n            }\n            return ret;\n        }\n        return RG.SVG.OR.objects;\n    };\n    // The ObjectRegistry function that returns all of the registeredt SVG tags\n    //\n    RG.SVG.OR.tags = function ()\n    {\n        var tags = [];\n        for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n            if (!tags[RG.SVG.OR.objects[i].svg.parentNode.id]) {\n                tags[RG.SVG.OR.objects[i].svg.parentNode.id] = RG.SVG.OR.objects[i].svg;\n            }\n        }\n        return tags;\n    };\n    //\n    // This function returns a two element array of the SVG x/y position in\n    // relation to the page\n    // \n    // @param object svg\n    //\n    RG.SVG.getSVGXY = function (svg)\n    {\n        var x  = 0,\n            y  = 0,\n            el = svg.parentNode; // !!!\n        do {\n            x += el.offsetLeft;\n            y += el.offsetTop;\n            // Account for tables in webkit\n            if (el.tagName.toLowerCase() == 'table' && (RG.SVG.ISCHROME || RG.SVG.ISSAFARI)) {\n                x += parseInt(el.border) || 0;\n                y += parseInt(el.border) || 0;\n            }\n            el = el.offsetParent;\n        } while (el && el.tagName && el.tagName.toLowerCase() != 'body');\n        var paddingLeft = svg.style.paddingLeft ? parseInt(svg.style.paddingLeft) : 0,\n            paddingTop  = svg.style.paddingTop ? parseInt(svg.style.paddingTop) : 0,\n            borderLeft  = svg.style.borderLeftWidth ? parseInt(svg.style.borderLeftWidth) : 0,\n            borderTop   = svg.style.borderTopWidth  ? parseInt(svg.style.borderTopWidth) : 0;\n        if (navigator.userAgent.indexOf('Firefox') > 0) {\n            x += parseInt(document.body.style.borderLeftWidth) || 0;\n            y += parseInt(document.body.style.borderTopWidth) || 0;\n        }\n        return [x + paddingLeft + borderLeft, y + paddingTop + borderTop];\n    };\n    //\n    // This function is a compatibility wrapper around\n    // the requestAnimationFrame function.\n    //\n    // @param function func The function to give to the\n    //                      requestAnimationFrame function\n    //\n    RG.SVG.FX.update = function (func)\n    {\n        win.requestAnimationFrame =\n            win.requestAnimationFrame ||\n            win.webkitRequestAnimationFrame ||\n            win.msRequestAnimationFrame ||\n            win.mozRequestAnimationFrame ||\n            (function (func){setTimeout(func, 16.666);});\n        win.requestAnimationFrame(func);\n    };\n    /**\n    * This function returns an easing multiplier for effects so they eas out towards the\n    * end of the effect.\n    * \n    * @param number frames The total number of frames\n    * @param number frame  The frame number\n    */\n    RG.SVG.FX.getEasingMultiplier = function (frames, frame)\n    {\n        var multiplier = ma.pow(ma.sin((frame / frames) * RG.SVG.TRIG.HALFPI), 3);\n        return multiplier;\n    };\n    /**\n    * Measures text by creating a DIV in the document and adding the relevant\n    * text to it, then checking the .offsetWidth and .offsetHeight.\n    * \n    * @param  object opt An object containing the following:\n    *                        o text( string) The text to measure\n    *                        o bold (bool)   Whether the text is bold or not\n    *                        o font (string) The font to use\n    *                        o size (number) The size of the text (in pts)\n    * \n    * @return array         A two element array of the width and height of the text\n    */\n    RG.SVG.measureText = function (opt)\n    {\n        //text, bold, font, size\n        var text = opt.text || '',\n            bold = opt.bold || false,\n            font = opt.font || 'Arial',\n            size = opt.size || 10,\n            str  = text + ':' + bold + ':' + font + ':' + size;\n        // Add the sizes to the cache as adding DOM elements is costly and causes slow downs\n        if (typeof RG.SVG.measuretext_cache === 'undefined') {\n            RG.SVG.measuretext_cache = [];\n        }\n        if (typeof RG.SVG.measuretext_cache == 'object' && RG.SVG.measuretext_cache[str]) {\n            return RG.SVG.measuretext_cache[str];\n        }\n        if (!RG.SVG.measuretext_cache['text-span']) {\n            var span = document.createElement('SPAN');\n                span.style.position = 'absolute';\n                //span.style.backgroundColor = 'red';\n                span.style.padding    = 0;\n                span.style.display    = 'inline';\n                span.style.top        = '-200px';\n                span.style.left       = '-200px';\n                span.style.lineHeight = '1em';\n            document.body.appendChild(span);\n            // Now store the newly created DIV\n            RG.SVG.measuretext_cache['text-span'] = span;\n        } else if (RG.SVG.measuretext_cache['text-span']) {\n            var span = RG.SVG.measuretext_cache['text-span'];\n        }\n        span.innerHTML        = text.replace(/\\r?\\n/g, '<br />');\n        span.style.fontFamily = font;\n        span.style.fontWeight = bold ? 'bold' : 'normal';\n        span.style.fontSize   = String(size).replace(/pt$/, '') + 'pt';\n        var sizes = [span.offsetWidth, span.offsetHeight];\n        //document.body.removeChild(span);\n        RG.SVG.measuretext_cache[str] = sizes;\n        return sizes;\n    };\n    /**\n    * This function converts an array of strings to an array of numbers. Its used by the meter/gauge\n    * style charts so that if you want you can pass in a string. It supports various formats:\n    * \n    * '45.2'\n    * '-45.2'\n    * ['45.2']\n    * ['-45.2']\n    * '45.2,45.2,45.2' // A CSV style string\n    * \n    * @param number frames The string or array to parse\n    */\n    RG.SVG.stringsToNumbers = function (str)\n    {\n        // An optional seperator to use intead of a comma\n        var sep = arguments[1] || ',';\n        // If it's already a number just return it\n        if (typeof str === 'number') {\n            return str;\n        }\n        if (typeof str === 'string') {\n            if (str.indexOf(sep) != -1) {\n                str = str.split(sep);\n            } else {\n                str = parseFloat(str);\n            }\n        }\n        if (typeof str === 'object') {\n            for (var i=0,len=str.length; i<len; i+=1) {\n                str[i] = parseFloat(str[i]);\n            }\n        }\n        return str;\n    };\n    // This function allows for numbers that are given as a +/- adjustment\n    RG.SVG.getAdjustedNumber = function (opt)\n    {\n        var value = opt.value,\n            prop  = opt.prop;\n        if (typeof prop === 'string' && match(/^(\\+|-)([0-9.]+)/)) {\n            if (RegExp.$1 === '+') {\n                value += parseFloat(RegExp.$2);\n            } else if (RegExp.$1 === '-') {\n                value -= parseFloat(RegExp.$2);\n            }\n        }\n        return value;\n    };\n    // NOT USED ANY MORE\n    RG.SVG.attribution=function(){return;};\n    /**\n    * Parse a gradient and returns the various parts\n    * \n    * @param string str The gradient string\n    */\n    RG.SVG.parseGradient = function (str)\n    {\n    };\n    /**\n    * Generates a random number between the minimum and maximum\n    * \n    * @param number min The minimum value\n    * @param number max The maximum value\n    * @param number     OPTIONAL Number of decimal places\n    */\n    RG.SVG.random = function (opt)\n    {\n        var min = opt.min,\n            max = opt.max,\n            dp  = opt.dp || opt.decimals || 0,\n            r   = ma.random();\n        return Number((((max - min) * r) + min).toFixed(dp));\n    };\n    /**\n    * Fill an array full of random numbers\n    */\n    RG.SVG.arrayRand    =\n    RG.SVG.arrayRandom  =\n    RG.SVG.random.array = function (opt)\n    {\n        var num = opt.num,\n            min = opt.min,\n            max = opt.max,\n            dp  = opt.dp || opt.decimals || 0;\n        for(var i=0,arr=[]; i<num; i+=1) {\n            arr.push(RG.SVG.random({min: min, max: max, dp: dp}));\n        }\n        return arr;\n    };\n    //\n    // This function is called by each objects setter so that common BC\n    // and adjustments are centralised. And there's less typing for me too.\n    //\n    // @param object opt An object of options to the function, which are:\n    //                    object: The chart object\n    //                    name:   The name of the config parameter\n    //                    value:  The value thats being set\n    //\n    RG.SVG.commonSetter = function (opt)\n    {\n        var obj   = opt.object,\n            name  = opt.name,\n            value = opt.value;\n        // The default event for tooltips is click\n        if (name === 'tooltipsEvent'&& value !== 'click' && value !== 'mousemove') {\n            value = 'click';\n        }\n        return {\n            name:  name,\n            value: value\n        };\n    };\n    //\n    // Generates logs for... log charts\n    //\n    // @param object opt The options:\n    //                     o num  The number\n    //                     o base The base\n    //\n    RG.SVG.log = function (opt)\n    {\n        var num  = opt.num,\n            base = opt.base;\n        return ma.log(num) / (base ? ma.log(base) : 1);\n    };\n    RG.SVG.donut = function (opt)\n    {\n        var arcPath1 = RG.SVG.TRIG.getArcPath3({\n            cx: opt.cx,\n            cy: opt.cy,\n            r: opt.outerRadius,\n            start: 0,\n            end: RG.SVG.TRIG.TWOPI,\n            anticlockwise: false,\n            lineto: false\n        });\n        var arcPath2 = RG.SVG.TRIG.getArcPath3({\n            cx: opt.cx,\n            cy: opt.cy,\n            r: opt.innerRadius,\n            start: RG.SVG.TRIG.TWOPI,\n            end: 0,\n            anticlockwise: true,\n            lineto: false\n        });\n        //\n        // Create the red circle\n        //\n        var path = RG.SVG.create({\n            svg: opt.svg,\n            type: 'path',\n            attr: {\n                d: arcPath1 + arcPath2,\n                stroke: opt.stroke,\n                fill: opt.fill\n            }\n        });\n        return path;\n    };\n    //\n    // Copy the globals (if any have been set) from the global object to\n    // this instances configuration\n    //\n    RG.SVG.getGlobals = function (obj)\n    {\n        var prop = obj.properties;\n        for (i in RG.SVG.GLOBALS) {\n            if (typeof i === 'string') {\n                prop[i] = RG.SVG.arrayClone(RG.SVG.GLOBALS[i]);\n            }\n        }\n    };\n    //\n    // This function adds a link to the SVG document\n    //\n    // @param object opt The various options to the function\n    //\n    RG.SVG.link = function (opt)\n    {\n        var a = RGraph.SVG.create({\n            svg: bar.svg,\n            type: 'a',\n            parent: bar.svg.all,\n            attr: {\n                'xlink:href': href,\n                target:       target\n            }\n        });\n        var text = RGraph.SVG.create({\n            svg: bar.svg,\n            type: 'text',\n            parent: a,\n            attr: {\n                x: x,\n                y: y,\n                fill: fill\n            }\n        });\n        text.innerHTML = text;\n    };\n    // This function is used to get the errorbar MAXIMUM value. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsMaxValue = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        if (typeof prop.errorbars === 'object' && !RG.SVG.isNull(prop.errorbars) && typeof prop.errorbars[index] === 'number') {\n            var value = prop.errorbars[index];\n        } else if (   typeof prop.errorbars === 'object'\n                   && !RG.SVG.isNull(prop.errorbars)\n                   && typeof prop.errorbars[index] === 'object'\n                   && !RG.SVG.isNull(prop.errorbars[index])\n                   && typeof prop.errorbars[index].max === 'number'\n                  ) {\n            var value = prop.errorbars[index].max;\n        } else {\n            var value = 0;\n        }\n        return value;\n    };\n    // This function is used to get the errorbar MINIMUM value. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsMinValue = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        if (   typeof prop.errorbars === 'object'\n            && !RG.SVG.isNull(prop.errorbars)\n            && typeof prop.errorbars[index] === 'object'\n            && !RG.SVG.isNull(prop.errorbars[index])\n            && typeof prop.errorbars[index].min === 'number'\n           ) {\n            var value = prop.errorbars[index].min;\n        } else {\n            var value = null;\n        }\n        return value;\n    };\n    // This function is used to get the errorbar color. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsColor = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        var color = prop.errorbarsColor || 'black';\n        if (typeof prop.errorbars === 'object' && !RG.SVG.isNull(prop.errorbars) && typeof prop.errorbars[index] === 'object' && !RG.SVG.isNull(prop.errorbars[index]) && typeof prop.errorbars[index].color === 'string') {\n            color = prop.errorbars[index].color;\n        }\n        return color;\n    };\n    // This function is used to get the errorbar linewidth. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsLinewidth = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        var linewidth = prop.errorbarsLinewidth || 1\n        if (typeof prop.errorbars === 'object' && !RG.SVG.isNull(prop.errorbars) && typeof prop.errorbars[index] === 'object' && !RG.SVG.isNull(prop.errorbars[index]) && typeof prop.errorbars[index].linewidth === 'number') {\n            linewidth = prop.errorbars[index].linewidth;\n        }\n        return linewidth;\n    };\n    // This function is used to get the errorbar capWidth. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsCapWidth = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        var capwidth = prop.errorbarsCapwidth || 10\n        if (   typeof prop.errorbars === 'object'\n            && !RG.SVG.isNull(prop.errorbars)\n            && typeof prop.errorbars[index] === 'object'\n            && !RG.SVG.isNull(prop.errorbars[index])\n            && typeof prop.errorbars[index].capwidth === 'number'\n            ) {\n            capwidth = prop.errorbars[index].capwidth;\n        }\n        return capwidth;\n    };\n    //\n    // This is here so that if the tooltip library has not\n    // been included, this function will show an alert\n    //informing the user\n    //\n    if (typeof RG.SVG.tooltip !== 'function') {\n        RG.SVG.tooltip = function ()\n        {\n            $$a('The tooltip library has not been included!');\n        };\n    }\n// End module pattern\n})(window, document);\n/**\n* Loosly mimicks the PHP function print_r();\n*/\nwindow.$p = function (obj)\n{\n    var indent = (arguments[2] ? arguments[2] : '    ');\n    var str    = '';\n    var counter = typeof arguments[3] == 'number' ? arguments[3] : 0;\n    if (counter >= 5) {\n        return '';\n    }\n    switch (typeof obj) {\n        case 'string':    str += obj + ' (' + (typeof obj) + ', ' + obj.length + ')'; break;\n        case 'number':    str += obj + ' (' + (typeof obj) + ')'; break;\n        case 'boolean':   str += obj + ' (' + (typeof obj) + ')'; break;\n        case 'function':  str += 'function () {}'; break;\n        case 'undefined': str += 'undefined'; break;\n        case 'null':      str += 'null'; break;\n        case 'object':\n            // In case of null\n            if (RGraph.SVG.isNull(obj)) {\n                str += indent + 'null\\n';\n            } else {\n                str += indent + 'Object {' + '\\n'\n                for (j in obj) {\n                    str += indent + '    ' + j + ' => ' + window.$p(obj[j], true, indent + '    ', counter + 1) + '\\n';\n                }\n                str += indent + '}';\n            }\n            break;\n        default:\n            str += 'Unknown type: ' + typeof obj + '';\n            break;\n    }\n    /**\n    * Finished, now either return if we're in a recursed call, or alert()\n    * if we're not.\n    */\n    if (!arguments[1]) {\n        alert(str);\n    }\n    return str;\n};\n/**\n* A shorthand for the default alert() function\n*/\nwindow.$$a = function (v)\n{\n    alert(v);\n};\n/**\n* Short-hand for console.log\n* \n* @param mixed v The variable to log to the console\n*/\nwindow.$cl = function (v)\n{\n    return console.log(v);\n};\n/**\n* A basic string formatting function. Use it like this:\n* \n* var str = '{1} {2} {3}'.format('a', 'b', 'c');\n* \n* Outputs: a b c\n*/\nif (!String.prototype.format) {\n  String.prototype.format = function()\n  {\n    var args = arguments;\n    return this.replace(/{(\\d+)}/g, function(str, idx)\n    {\n      return typeof args[idx - 1] !== 'undefined' ? args[idx - 1] : str;\n    });\n  };\n};\n// version: 2018-06-24-143455\n    /**\n    * o--------------------------------------------------------------------------------o\n    * | This file is part of the RGraph package - you can learn more at:               |\n    * |                                                                                |\n    * |                          http://www.rgraph.net                                 |\n    * |                                                                                |\n    * | RGraph is licensed under the Open Source MIT license. That means that it's     |\n    * | totally free to use and there are no restrictions on what you can do with it!  |\n    * o--------------------------------------------------------------------------------o\n    */\n    RGraph     = window.RGraph || {isRGraph: true,isRGraphSVG: true};\n    RGraph.SVG = RGraph.SVG || {};\n// Module pattern\n(function (win, doc, undefined)\n{\n    var RG  = RGraph,\n        ua  = navigator.userAgent,\n        ma  = Math;\n    /**\n    * This is used in two functions, hence it's here\n    */\n    RG.SVG.tooltips       = {};\n    RG.SVG.tooltips.style = {\n        display:    'inline-block',\n        position:   'absolute',\n        padding:    '6px',\n        fontFamily: 'Arial',\n        fontSize:   '12pt',\n        fontWeight: 'normal',\n        textAlign:  'center',\n        left:       0,\n        top:        0,\n        backgroundColor: 'rgb(255,255,239)',\n        color:      'black',\n        visibility: 'visible',\n        zIndex:     3,\n        borderRadius: '5px',\n        boxShadow:  'rgba(96,96,96,0.5) 0 0 5px',\n        transition: 'left ease-out .25s, top ease-out .25s'\n    };\n    //\n    // Shows a tooltip\n    //\n    // @param obj The chart object\n    // @param opt The options\n    //\n    RG.SVG.tooltip = function (opt)\n    {\n        var obj = opt.object;\n        // Fire the beforetooltip event\n        RG.SVG.fireCustomEvent(obj, 'onbeforetooltip');\n        if (!opt.text || typeof opt.text === 'undefined' || RG.SVG.trim(opt.text).length === 0) {\n            return;\n        }\n        var prop = obj.properties;\n        /**\n        * chart.tooltip.override allows you to totally take control of rendering the tooltip yourself\n        */\n        if (typeof prop.tooltipsOverride === 'function') {\n            // Add the body click handler that clears the highlight if necessary\n            //\n            document.body.addEventListener('mouseup', function (e)\n            {\n                obj.removeHighlight();\n            }, false);\n            return (prop.tooltipsOverride)(obj, opt);\n        }\n        // Create the tooltip DIV element\n        if (!RG.SVG.REG.get('tooltip')) {\n            var tooltipObj        = document.createElement('DIV');\n            tooltipObj.className  = prop.tooltipsCssClass;\n            // Add the default CSS to the tooltip\n            for (var i in RG.SVG.tooltips.style) {\n                if (typeof i === 'string') {\n                    tooltipObj.style[i] = RG.SVG.tooltips.style[i];\n                }\n            }\n        // Reuse an existing tooltip\n        } else {\n            var tooltipObj = RG.SVG.REG.get('tooltip');\n            tooltipObj.__object__.removeHighlight();\n            // This prevents the object from continuously growing\n            tooltipObj.style.width = '';\n        }\n        if (RG.SVG.REG.get('tooltip-lasty')) {\n            tooltipObj.style.left = RG.SVG.REG.get('tooltip-lastx') + 'px';\n            tooltipObj.style.top  = RG.SVG.REG.get('tooltip-lasty') + 'px';\n        }\n        tooltipObj.innerHTML  = opt.text;\n        tooltipObj.__text__   = opt.text; // This is set because the innerHTML can change when it's set\n        tooltipObj.id         = '__rgraph_tooltip_' + obj.id + '_' + obj.uid + '_'+  opt.index;\n        tooltipObj.__event__  = prop.tooltipsEvent || 'click';\n        tooltipObj.__object__ = obj;\n        // Add the index\n        if (typeof opt.index === 'number') {\n            tooltipObj.__index__ = opt.index;\n        }\n        // Add the dataset\n        if (typeof opt.dataset === 'number') {\n            tooltipObj.__dataset__ = opt.dataset;\n        }\n        // Add the group\n        if (typeof opt.group === 'number' || RG.SVG.isNull(opt.group)) {\n            tooltipObj.__group__ = opt.group;\n        }\n        // Add the sequentialIndex\n        if (typeof opt.sequentialIndex === 'number') {\n            tooltipObj.__sequentialIndex__ = opt.sequentialIndex;\n        }\n        // Add the tooltip to the document\n        document.body.appendChild(tooltipObj);\n        var width  = tooltipObj.offsetWidth,\n            height = tooltipObj.offsetHeight;\n        // Move the tooltip into position\n        tooltipObj.style.left = opt.event.pageX - (width / 2) + 'px';\n        tooltipObj.style.top  = opt.event.pageY - height - 15 + 'px';\n        /**\n        * Set the width on the tooltip so it doesn't resize if the window is resized\n        */\n        tooltipObj.style.width = width + 'px';\n        // Fade the tooltip in if the tooltip is not the first view\n        if (!RG.SVG.REG.get('tooltip-lastx')) {\n            for (var i=0; i<=30; ++i) {\n                (function (idx)\n                {\n                    setTimeout(function ()\n                    {\n                        tooltipObj.style.opacity = (idx / 30) * 1;\n                    }, (idx / 30) * 200);\n                })(i);\n            }\n        }\n        // If the left is less than zero - set it to 5\n        if (parseFloat(tooltipObj.style.left) <= 5) {\n            tooltipObj.style.left = '5px';\n        }\n        // If the tooltip goes over the right hand edge then\n        // adjust the positioning\n        if (parseFloat(tooltipObj.style.left) + parseFloat(tooltipObj.style.width) > window.innerWidth) {\n            tooltipObj.style.left  = ''\n            tooltipObj.style.right = '5px'\n        }\n        // If the canvas has fixed positioning then set the tooltip position to\n        // fixed too\n        if (RG.SVG.isFixed(obj.svg)) {\n            var scrollTop = window.scrollY || document.documentElement.scrollTop;\n            tooltipObj.style.position = 'fixed';\n            tooltipObj.style.top      = opt.event.pageY - scrollTop - height - 10 + 'px';\n        }\n        // Cancel the mousedown event\n        tooltipObj.onmousedown = function (e)\n        {\n            e.stopPropagation();\n        };\n        // Cancel the mouseup event\n        tooltipObj.onmouseup = function (e)\n        {\n            e.stopPropagation();\n        };\n        // Cancel the click event\n        tooltipObj.onclick  = function (e)\n        {\n            if (e.button == 0) {\n                e.stopPropagation();\n            }\n        };\n        // Add the body click handler that clears the tooltip\n        document.body.addEventListener('mouseup', function (e)\n        {\n            RG.SVG.hideTooltip();\n        }, false);\n        /**\n        * Keep a reference to the tooltip in the registry\n        */\n        RG.SVG.REG.set('tooltip', tooltipObj);\n        RG.SVG.REG.set('tooltip-lastx', parseFloat(tooltipObj.style.left));\n        RG.SVG.REG.set('tooltip-lasty', parseFloat(tooltipObj.style.top));\n        //\n        // Fire the tooltip event\n        //\n        RG.SVG.fireCustomEvent(obj, 'ontooltip');\n    };\n// End module pattern\n})(window, document);;\n// version: 2018-06-24-143455\n    /**\n    * o--------------------------------------------------------------------------------o\n    * | This file is part of the RGraph package - you can learn more at:               |\n    * |                                                                                |\n    * |                          http://www.rgraph.net                                 |\n    * |                                                                                |\n    * | RGraph is licensed under the Open Source MIT license. That means that it's     |\n    * | totally free to use and there are no restrictions on what you can do with it!  |\n    * o--------------------------------------------------------------------------------o\n    */\n    RGraph = window.RGraph || {isRGraph: true};\n    RGraph.SVG = RGraph.SVG || {};\n// Module pattern\n(function (win, doc, undefined)\n{\n    var RG  = RGraph,\n        ua  = navigator.userAgent,\n        ma  = Math,\n        win = window,\n        doc = document;\n    RG.SVG.Bar = function (conf)\n    {\n        //\n        // A setter that the constructor uses (at the end)\n        // to set all of the properties\n        //\n        // @param string name  The name of the property to set\n        // @param string value The value to set the property to\n        //\n        this.set = function (name, value)\n        {\n            if (arguments.length === 1 && typeof name === 'object') {\n                for (i in arguments[0]) {\n                    if (typeof i === 'string') {\n                        var ret = RG.SVG.commonSetter({\n                            object: this,\n                            name:   i,\n                            value:  arguments[0][i]\n                        });\n                        name  = ret.name;\n                        value = ret.value;\n                        this.set(name, value);\n                    }\n                }\n            } else {\n                var ret = RG.SVG.commonSetter({\n                    object: this,\n                    name:   name,\n                    value:  value\n                });\n                name  = ret.name;\n                value = ret.value;\n                this.properties[name] = value;\n                // If setting the colors, update the originalColors\n                // property too\n                if (name === 'colors') {\n                    this.originalColors = RG.SVG.arrayClone(value);\n                    this.colorsParsed = false;\n                }\n            }\n            return this;\n        };\n        this.id               = conf.id;\n        this.uid              = RG.SVG.createUID();\n        this.container        = document.getElementById(this.id);\n        this.layers           = {}; // MUST be before the SVG tag is created!\n        this.svg              = RG.SVG.createSVG({object: this,container: this.container});\n        this.isRGraph         = true;\n        this.data             = conf.data;\n        this.type             = 'bar';\n        this.coords           = [];\n        this.coords2          = [];\n        this.stackedBackfaces = [];\n        this.originalColors   = {};\n        this.gradientCounter  = 1;\n        // Add this object to the ObjectRegistry\n        RG.SVG.OR.add(this);\n        this.container.style.display = 'inline-block';\n        this.properties =\n        {\n            gutterLeft:   35,\n            gutterRight:  35,\n            gutterTop:    35,\n            gutterBottom: 35,\n            variant:          null,\n            variant3dOffsetx: 10,\n            variant3dOffsety: 5,\n            backgroundColor:            null,\n            backgroundImage:            null,\n            backgroundImageAspect:      'none',\n            backgroundImageStretch:     true,\n            backgroundImageOpacity:     null,\n            backgroundImageX:           null,\n            backgroundImageY:           null,\n            backgroundImageW:           null,\n            backgroundImageH:           null,\n            backgroundGrid:             true,\n            backgroundGridColor:        '#ddd',\n            backgroundGridLinewidth:    1,\n            backgroundGridHlines:       true,\n            backgroundGridHlinesCount:  null,\n            backgroundGridVlines:       true,\n            backgroundGridVlinesCount:  null,\n            backgroundGridBorder:       true,\n            backgroundGridDashed:       false,\n            backgroundGridDotted:       false,\n            backgroundGridDashArray:    null,\n            // 20 colors. If you need more you need to set the colors property\n            colors: [\n                'red', '#0f0', '#00f', '#ff0', '#0ff', '#0f0','pink','orange','gray','black',\n                'red', '#0f0', '#00f', '#ff0', '#0ff', '#0f0','pink','orange','gray','black'\n            ],\n            colorsSequential:     false,\n            strokestyle:          'rgba(0,0,0,0)',\n            errorbars:            null,\n            hmargin:              3,\n            hmarginGrouped:       2,\n            yaxis:                true,\n            yaxisTickmarks:       true,\n            yaxisTickmarksLength: 3,\n            yaxisColor:           'black',\n            yaxisScale:           true,\n            yaxisLabels:          null,\n            yaxisLabelsOffsetx:   0,\n            yaxisLabelsOffsety:   0,\n            yaxisLabelsCount:     5,\n            yaxisUnitsPre:        '',\n            yaxisUnitsPost:       '',\n            yaxisStrict:          false,\n            yaxisDecimals:        0,\n            yaxisPoint:           '.',\n            yaxisThousand:        ',',\n            yaxisRound:           false,\n            yaxisMax:             null,\n            yaxisMin:             0,\n            yaxisFormatter:       null,\n            xaxis:                true,\n            xaxisTickmarks:       true,\n            xaxisTickmarksLength: 5,\n            xaxisLabels:          null,\n            xaxisLabelsPosition:  'section',\n            xaxisLabelsPositionSectionTickmarksCount: null,\n            xaxisColor:           'black',\n            xaxisLabelsOffsetx:   0,\n            xaxisLabelsOffsety:   0,\n            labelsAbove:                  false,\n            labelsAboveFont:              null,\n            labelsAboveSize:              null,\n            labelsAboveBold:              null,\n            labelsAboveItalic:            null,\n            labelsAboveColor:             null,\n            labelsAboveBackground:        null,\n            labelsAboveBackgroundPadding: 0,\n            labelsAboveUnitsPre:          null,\n            labelsAboveUnitsPost:         null,\n            labelsAbovePoint:             null,\n            labelsAboveThousand:          null,\n            labelsAboveFormatter:         null,\n            labelsAboveDecimals:          null,\n            labelsAboveOffsetx:           0,\n            labelsAboveOffsety:           0,\n            labelsAboveHalign:            'center',\n            labelsAboveValign:            'bottom',\n            labelsAboveSpecific:          null,\n            textColor:            'black',\n            textFont:             'sans-serif',\n            textSize:             12,\n            textBold:             false,\n            textItalic:           false,\n            linewidth:            1,\n            grouping:             'grouped',\n            tooltips:             null,\n            tooltipsOverride:     null,\n            tooltipsEffect:       'fade',\n            tooltipsCssClass:     'RGraph_tooltip',\n            tooltipsEvent:        'click',\n            highlightStroke:      'rgba(0,0,0,0)',\n            highlightFill:        'rgba(255,255,255,0.7)',\n            highlightLinewidth:   1,\n            title:                '',\n            titleSize:            16,\n            titleX:               null,\n            titleY:               null,\n            titleHalign:          'center',\n            titleValign:          null,\n            titleColor:           'black',\n            titleFont:            null,\n            titleBold:            false,\n            titleItalic:          false,\n            titleSubtitle:        null,\n            titleSubtitleSize:    10,\n            titleSubtitleX:       null,\n            titleSubtitleY:       null,\n            titleSubtitleHalign:  'center',\n            titleSubtitleValign:  null,\n            titleSubtitleColor:   '#aaa',\n            titleSubtitleFont:    null,\n            titleSubtitleBold:    false,\n            titleSubtitleItalic:  false,\n            shadow:               false,\n            shadowOffsetx:        2,\n            shadowOffsety:        2,\n            shadowBlur:           2,\n            shadowOpacity:        0.25,\n            errorbars:            null,\n            errorbarsColor:       'black',\n            errorbarsLinewidth:   1,\n            errorbarsCapwidth:    10,\n            key:            null,\n            keyColors:      null,\n            keyOffsetx:     0,\n            keyOffsety:     0,\n            keyTextOffsetx: 0,\n            keyTextOffsety: -1,\n            keyTextSize:    null,\n            keyTextBold:    null,\n            keyTextItalic:  null,\n            keyTextFont:    null\n        };\n        //\n        // Copy the global object properties to this instance\n        //\n        RG.SVG.getGlobals(this);\n        /**\n        * \"Decorate\" the object with the generic effects if the effects library has been included\n        */\n        if (RG.SVG.FX && typeof RG.SVG.FX.decorate === 'function') {\n            RG.SVG.FX.decorate(this);\n        }\n        var prop = this.properties;\n        //\n        // The draw method draws the Bar chart\n        //\n        this.draw = function ()\n        {\n            // Fire the beforedraw event\n            RG.SVG.fireCustomEvent(this, 'onbeforedraw');\n            // Should the first thing that's done inthe.draw() function\n            // except for the onbeforedraw event\n            this.width  = Number(this.svg.getAttribute('width'));\n            this.height = Number(this.svg.getAttribute('height'));\n            // Zero these if the 3D effect is not wanted\n            if (prop.variant !== '3d') {\n                prop.variant3dOffsetx = 0;\n                prop.variant3dOffsety = 0;\n            } else {\n                // Set the skew transform on the all group if necessary\n                this.svg.all.setAttribute('transform', 'skewY(5)');\n            }\n            // Create the defs tag if necessary\n            RG.SVG.createDefs(this);\n            // Reset the coords array\n            this.coords  = [];\n            this.coords2 = [];\n            this.graphWidth  = this.width - prop.gutterLeft - prop.gutterRight;\n            this.graphHeight = this.height - prop.gutterTop - prop.gutterBottom;\n            /**\n            * Parse the colors. This allows for simple gradient syntax\n            */\n            // Parse the colors for gradients\n            RG.SVG.resetColorsToOriginalValues({object:this});\n            this.parseColors();\n            // Go through the data and work out the maximum value\n            // This now also accounts for errorbars\n            var values = [];\n            for (var i=0,max=0; i<this.data.length; ++i) {\n                // Errorbars affect the max value\n                if (prop.errorbars && typeof prop.errorbars[i] === 'number') {\n                    var errorbar = prop.errorbars[i];\n                } else if (prop.errorbars && typeof prop.errorbars[i] === 'object' && typeof  prop.errorbars[i].max === 'number') {\n                    var errorbar = prop.errorbars[i].max;\n                } else {\n                    var errorbar = 0;\n                }\n                if (typeof this.data[i] === 'number') {\n                    values.push(this.data[i] + errorbar);\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'grouped') {\n                    values.push(RG.SVG.arrayMax(this.data[i]) + errorbar);\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'stacked') {\n                    values.push(RG.SVG.arraySum(this.data[i]) + errorbar);\n                }\n            }\n            var max = RG.SVG.arrayMax(values);\n            // A custom, user-specified maximum value\n            if (typeof prop.yaxisMax === 'number') {\n                max = prop.yaxisMax;\n            }\n            // Set the ymin to zero if it's szet mirror\n            if (prop.yaxisMin === 'mirror' || prop.yaxisMin === 'middle' || prop.yaxisMin === 'center') {\n                var mirrorScale = true;\n                prop.yaxisMin   = 0;\n            }\n            //\n            // Generate an appropiate scale\n            //\n            this.scale = RG.SVG.getScale({\n                object:    this,\n                numlabels: prop.yaxisLabelsCount,\n                unitsPre:  prop.yaxisUnitsPre,\n                unitsPost: prop.yaxisUnitsPost,\n                max:       max,\n                min:       prop.yaxisMin,\n                point:     prop.yaxisPoint,\n                round:     prop.yaxisRound,\n                thousand:  prop.yaxisThousand,\n                decimals:  prop.yaxisDecimals,\n                strict:    typeof prop.yaxisMax === 'number',\n                formatter: prop.yaxisFormatter\n            });\n            //\n            // Get the scale a second time if the ymin should be mirored\n            //\n            // Set the ymin to zero if it's szet mirror\n            if (mirrorScale) {\n                this.scale = RG.SVG.getScale({\n                    object: this,\n                    numlabels: prop.yaxisLabelsCount,\n                    unitsPre:  prop.yaxisUnitsPre,\n                    unitsPost: prop.yaxisUnitsPost,\n                    max:       this.scale.max,\n                    min:       this.scale.max * -1,\n                    point:     prop.yaxisPoint,\n                    round:     false,\n                    thousand:  prop.yaxisThousand,\n                    decimals:  prop.yaxisDecimals,\n                    strict:    typeof prop.yaxisMax === 'number',\n                    formatter: prop.yaxisFormatter\n                });\n            }\n            // Now the scale has been generated adopt its max value\n            this.max      = this.scale.max;\n            this.min      = this.scale.min;\n            prop.yaxisMax = this.scale.max;\n            prop.yaxisMin = this.scale.min;\n            // Draw the background first\n            RG.SVG.drawBackground(this);\n            // Draw the threeD axes here so everything else is drawn on top of\n            // it, but after the scale generation\n            if (prop.variant === '3d') {\n                // Draw the 3D Y axis\n                RG.SVG.create({\n                    svg: this.svg,\n                    parent: this.svg.all,\n                    type: 'path',\n                    attr: {\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            prop.gutterLeft,\n                            prop.gutterTop,\n                            prop.gutterLeft + prop.variant3dOffsetx,\n                            prop.gutterTop - prop.variant3dOffsety,\n                            prop.gutterLeft + prop.variant3dOffsetx,\n                            this.height - prop.gutterBottom - prop.variant3dOffsety,\n                            prop.gutterLeft,\n                            this.height - prop.gutterBottom,\n                            prop.gutterLeft,\n                            prop.gutterTop\n                        ),\n                        fill: '#ddd',\n                        stroke: '#ccc'\n                    }\n                });\n                // Add the group that the negative bars are added to. This makes them\n                // appear below the axes\n                this.threed_xaxis_group = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'g',\n                    parent: this.svg.all,\n                    attr: {\n                        className: 'rgraph_3d_bar_xaxis_negative'\n                    }\n                });\n                // Draw the 3D X axis\n                RG.SVG.create({\n                    svg: this.svg,\n                    parent: this.svg.all,\n                    type: 'path',\n                    attr: {\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            prop.gutterLeft,\n                            this.getYCoord(0),\n                            prop.gutterLeft + prop.variant3dOffsetx,\n                            this.getYCoord(0) - prop.variant3dOffsety,\n                            this.width - prop.gutterRight + prop.variant3dOffsetx,\n                            this.getYCoord(0) - prop.variant3dOffsety,\n                            this.width - prop.gutterRight,\n                            this.getYCoord(0),\n                            prop.gutterLeft,\n                            this.getYCoord(0)\n                        ),\n                        fill: '#ddd',\n                        stroke: '#ccc'\n                    }\n                });\n            }\n            // Draw the bars\n            this.drawBars();\n            // Draw the axes over the bars\n            RG.SVG.drawXAxis(this);\n            RG.SVG.drawYAxis(this);\n            // Draw the labelsAbove labels\n            this.drawLabelsAbove();\n            // Draw the key\n            if (typeof prop.key !== null && RG.SVG.drawKey) {\n                RG.SVG.drawKey(this);\n            } else if (!RGraph.SVG.isNull(prop.key)) {\n                alert('The drawKey() function does not exist - have you forgotten to include the key library?');\n            }\n            // Add the attribution link. If you're adding this elsewhere on your page/site\n            // and you don't want it displayed then there are options available to not\n            // show it.\n            RG.SVG.attribution(this);\n            // Add the event listener that clears the highlight rect if\n            // there is any. Must be MOUSEDOWN (ie before the click event)\n            //var obj = this;\n            //document.body.addEventListener('mousedown', function (e)\n            //{\n            //    //RG.SVG.removeHighlight(obj);\n            //\n            //}, false);\n            // Fire the draw event\n            RG.SVG.fireCustomEvent(this, 'ondraw');\n            return this;\n        };\n        //\n        // Draws the bars\n        //\n        this.drawBars = function ()\n        {\n            var y = this.getYCoord(0);\n            if (prop.shadow) {\n                RG.SVG.setShadow({\n                    object:  this,\n                    offsetx: prop.shadowOffsetx,\n                    offsety: prop.shadowOffsety,\n                    blur:    prop.shadowBlur,\n                    opacity: prop.shadowOpacity,\n                    id:      'dropShadow'\n                });\n            }\n            // Go through the bars\n            for (var i=0,sequentialIndex=0; i<this.data.length; ++i,++sequentialIndex) {\n                //\n                // REGULAR BARS\n                //\n                if (typeof this.data[i] === 'number') {\n                    var outerSegment = this.graphWidth / this.data.length,\n                        height       = (ma.abs(this.data[i]) - ma.abs(this.scale.min)) / (ma.abs(this.scale.max) - ma.abs(this.scale.min)) * this.graphHeight,\n                        width        = (this.graphWidth / this.data.length) - prop.hmargin - prop.hmargin,\n                        x            = prop.gutterLeft + prop.hmargin + (outerSegment * i);\n                    // Work out the height and the Y coord of the Bar\n                    if (this.scale.min >= 0 && this.scale.max > 0) {\n                        y = this.getYCoord(this.scale.min) - height;\n                    } else if (this.scale.min < 0 && this.scale.max > 0) {\n                        height = (ma.abs(this.data[i]) / (this.scale.max - this.scale.min)) * this.graphHeight;\n                        y      = this.getYCoord(0) - height;\n                        if (this.data[i] < 0) {\n                            y = this.getYCoord(0);\n                        }\n                    } else if (this.scale.min < 0 && this.scale.max < 0) {\n                        height = (ma.abs(this.data[i]) - ma.abs(this.scale.max)) / (ma.abs(this.scale.min) - ma.abs(this.scale.max)) * this.graphHeight;\n                        y = prop.gutterTop;\n                    }\n                    var rect = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'rect',\n                        parent: prop.variant === '3d' && this.data[i] < 0 ? this.threed_xaxis_group : this.svg.all, \n                        attr: {\n                            stroke: prop.strokestyle,\n                            fill: prop.colorsSequential ? (prop.colors[sequentialIndex] ? prop.colors[sequentialIndex] : prop.colors[prop.colors.length - 1]) : prop.colors[0],\n                            x: x,\n                            y: y,\n                            width: width < 0 ? 0 : width,\n                            height: height,\n                            'stroke-width': prop.linewidth,\n                            'data-original-x': x,\n                            'data-original-y': y,\n                            'data-original-width': width,\n                            'data-original-height': height,\n                            'data-tooltip': (!RG.SVG.isNull(prop.tooltips) && prop.tooltips.length) ? prop.tooltips[i] : '',\n                            'data-index': i,\n                            'data-sequential-index': sequentialIndex,\n                            'data-value': this.data[i],\n                            filter: prop.shadow ? 'url(#dropShadow)' : ''\n                        }\n                    });\n                    // Draw the errorbar if required\n                    this.drawErrorbar({\n                        object:    this,\n                        element:   rect,\n                        index:     i,\n                        value:     this.data[i],\n                        type:      'normal'\n                    });\n                    this.coords.push({\n                        object:  this,\n                        element: rect,\n                        x:      parseFloat(rect.getAttribute('x')),\n                        y:      parseFloat(rect.getAttribute('y')),\n                        width:  parseFloat(rect.getAttribute('width')),\n                        height: parseFloat(rect.getAttribute('height'))\n                    });\n                    if (!this.coords2[0]) {\n                        this.coords2[0] = [];\n                    }\n                    this.coords2[0].push({\n                        object:  this,\n                        element: rect,\n                        x:      parseFloat(rect.getAttribute('x')),\n                        y:      parseFloat(rect.getAttribute('y')),\n                        width:  parseFloat(rect.getAttribute('width')),\n                        height: parseFloat(rect.getAttribute('height'))\n                    });\n                    //\n                    // Add the 3D faces if required\n                    //\n                    if (prop.variant === '3d') {\n                        this.drawTop3dFace({rect: rect, value: this.data[i]});\n                        this.drawSide3dFace({rect: rect, value: this.data[i]});\n                    }\n                    // Add the tooltip data- attribute\n                    if (!RG.SVG.isNull(prop.tooltips) && prop.tooltips[sequentialIndex]) {\n                        var obj = this;\n                        //\n                        // Add tooltip event listeners\n                        //\n                        (function (idx, seq)\n                        {\n                            rect.addEventListener(prop.tooltipsEvent.replace(/^on/, ''), function (e)\n                            {\n                                obj.removeHighlight();\n                                // Show the tooltip\n                                RG.SVG.tooltip({\n                                    object: obj,\n                                    index: idx,\n                                    group: null,\n                                    sequentialIndex: seq,\n                                    text: prop.tooltips[seq],\n                                    event: e\n                                });\n                                // Highlight the rect that has been clicked on\n                                obj.highlight(e.target);\n                            }, false);\n                            rect.addEventListener('mousemove', function (e)\n                            {\n                                e.target.style.cursor = 'pointer'\n                            }, false);\n                        })(i, sequentialIndex);\n                    }\n                //\n                // GROUPED BARS\n                //\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'grouped') {\n                    var outerSegment = (this.graphWidth / this.data.length),\n                        innerSegment = outerSegment - (2 * prop.hmargin);\n                    // Loop through the group\n                    for (var j=0; j<this.data[i].length; ++j,++sequentialIndex) {\n                        var width  = ( (innerSegment - ((this.data[i].length - 1) * prop.hmarginGrouped)) / this.data[i].length),\n                            x      = (outerSegment * i) + prop.hmargin + prop.gutterLeft + (j * width) + ((j - 1) * prop.hmarginGrouped);\n                        x = prop.gutterLeft + (outerSegment * i) + (width * j) + prop.hmargin + (j * prop.hmarginGrouped);\n// Calculate the height\n// eg 0 -> 10\nif (this.scale.min === 0 && this.scale.max > this.scale.min) {\n    var height = ((this.data[i][j] - this.scale.min) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.getYCoord(0) - height;\n// eg -5 -> -15\n} else if (this.scale.max <= 0 && this.scale.min < this.scale.max) {\n    var height = ((this.data[i][j] - this.scale.max) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.getYCoord(this.scale.max);\n    height = ma.abs(height);\n// eg 10 -> -10\n} else if (this.scale.max > 0 && this.scale.min < 0) {\n    var height = (ma.abs(this.data[i][j]) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.data[i][j] < 0 ? this.getYCoord(0) : this.getYCoord(this.data[i][j]);\n// eg 5 -> 10\n} else if (this.scale.min > 0 && this.scale.max > this.scale.min) {\n    var height = (ma.abs(this.data[i][j] - this.scale.min) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.getYCoord(this.scale.min) - height;\n}\n                        // Add the rect tag\n                        var rect = RG.SVG.create({\n                            svg: this.svg,\n                            parent: prop.variant === '3d' && this.data[i][j] < 0 ? this.threed_xaxis_group : this.svg.all,\n                            type: 'rect',\n                            attr: {\n                                stroke: prop['strokestyle'],\n                                fill: (prop.colorsSequential && prop.colors[sequentialIndex]) ? prop.colors[sequentialIndex] : prop.colors[j],\n                                x: x,\n                                y: y,\n                                width: width,\n                                height: height,\n                                'stroke-width': prop.linewidth,\n                                'data-original-x': x,\n                                'data-original-y': y,\n                                'data-original-width': width,\n                                'data-original-height': height,\n                                'data-index': i,\n                                'data-subindex': j,\n                                'data-sequential-index': sequentialIndex,\n                                'data-tooltip': (!RG.SVG.isNull(prop.tooltips) && prop.tooltips.length) ? prop.tooltips[sequentialIndex] : '',\n                                'data-value': this.data[i][j],\n                                filter: prop.shadow ? 'url(#dropShadow)' : ''\n                            }\n                        });\n                        // Draw the errorbar if required\n                        this.drawErrorbar({\n                            object:    this,\n                            element:   rect,\n                            index:     sequentialIndex,\n                            value:     this.data[i][j],\n                            type:      'grouped'\n                        });\n                        this.coords.push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        if (!this.coords2[i]) {\n                            this.coords2[i] = [];\n                        }\n                        this.coords2[i].push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        //\n                        // Add the 3D faces if required\n                        //\n                        if (prop.variant === '3d') {\n                            this.drawTop3dFace({rect: rect, value: this.data[i][j]});\n                            this.drawSide3dFace({rect: rect, value: this.data[i][j]});\n                        }\n                        // Add the tooltip data- attribute\n                        if (!RG.SVG.isNull(prop.tooltips) && prop.tooltips[sequentialIndex]) {\n                            var obj = this;\n                            //\n                            // Add tooltip event listeners\n                            //\n                            (function (idx, seq)\n                            {\n                                obj.removeHighlight();\n                                var indexes = RG.SVG.sequentialIndexToGrouped(seq, obj.data);\n                                rect.addEventListener(prop.tooltipsEvent.replace(/^on/, ''), function (e)\n                                {\n                                    // Show the tooltip\n                                    RG.SVG.tooltip({\n                                        object: obj,\n                                        group: idx,\n                                        index: indexes[1],\n                                        sequentialIndex: seq,\n                                        text: prop.tooltips[seq],\n                                        event: e\n                                    });\n                                    // Highlight the rect that has been clicked on\n                                    obj.highlight(e.target);\n                                }, false);\n                                rect.addEventListener('mousemove', function (e)\n                                {\n                                    e.target.style.cursor = 'pointer'\n                                }, false);\n                            })(i, sequentialIndex);\n                        }\n                    }\n                    --sequentialIndex;\n                //\n                // STACKED CHARTS\n                //\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'stacked') {\n                    var section = (this.graphWidth / this.data.length);\n                    // Intialise the Y coordinate to the bottom gutter\n                    var y = this.getYCoord(0);\n                    // Loop through the stack\n                    for (var j=0; j<this.data[i].length; ++j,++sequentialIndex) {\n                        var height  = (this.data[i][j] / (this.max - this.min)) * this.graphHeight,\n                            width   = section - (2 * prop.hmargin),\n                            x       = prop.gutterLeft + (i * section) + prop.hmargin,\n                            y       = y - height;\n                        // If this is the first iteration of the loop and a shadow\n                        // is requested draw a rect here to create it.\n                        if (j === 0 && prop.shadow) {\n                            var fullHeight = (RG.SVG.arraySum(this.data[i]) / (this.max - this.min)) * this.graphHeight;\n                            var rect = RG.SVG.create({\n                                svg: this.svg,\n                                parent: this.svg.all,\n                                type: 'rect',\n                                attr: {\n                                    fill: 'white',\n                                    x: x,\n                                    y: this.height - prop.gutterBottom - fullHeight,\n                                    width: width,\n                                    height: fullHeight,\n                                    'stroke-width': 0,\n                                    'data-index': i,\n                                    filter: 'url(#dropShadow)'\n                                }\n                            });\n                            this.stackedBackfaces[i] = rect;\n                        }\n                        // Create the visible bar\n                        var rect = RG.SVG.create({\n                            svg: this.svg,\n                            parent: this.svg.all,\n                            type: 'rect',\n                            attr: {\n                                stroke: prop['strokestyle'],\n                                fill: prop.colorsSequential ? (prop.colors[sequentialIndex] ? prop.colors[sequentialIndex] : prop.colors[prop.colors.length - 1]) : prop.colors[j],\n                                x: x,\n                                y: y,\n                                width: width,\n                                height: height,\n                                'stroke-width': prop.linewidth,\n                                'data-original-x': x,\n                                'data-original-y': y,\n                                'data-original-width': width,\n                                'data-original-height': height,\n                                'data-index': i,\n                                'data-subindex': j,\n                                'data-sequential-index': sequentialIndex,\n                                'data-tooltip': (!RG.SVG.isNull(prop.tooltips) && prop.tooltips.length) ? prop.tooltips[sequentialIndex] : '',\n                                'data-value': this.data[i][j]\n                            }\n                        });\n                        // Draw the errorbar if required\n                        if (j === (this.data[i].length - 1)) {\n                            this.drawErrorbar({\n                                object:    this,\n                                element:   rect,\n                                index:     i,\n                                value:     this.data[i][j],\n                                type:      'stacked'\n                            });\n                        }\n                        this.coords.push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        if (!this.coords2[i]) {\n                            this.coords2[i] = [];\n                        }\n                        this.coords2[i].push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        //\n                        // Add the 3D faces if required\n                        //\n                        if (prop.variant === '3d') {\n                            this.drawTop3dFace({rect: rect, value: this.data[i][j]});\n                            this.drawSide3dFace({rect: rect, value: this.data[i][j]});\n                        }\n                        // Add the tooltip data- attribute\n                        if (!RG.SVG.isNull(prop.tooltips) && prop.tooltips[sequentialIndex]) {\n                            var obj = this;\n                            //\n                            // Add tooltip event listeners\n                            //\n                            (function (idx, seq)\n                            {\n                                rect.addEventListener(prop.tooltipsEvent.replace(/^on/, ''), function (e)\n                                {\n                                    obj.removeHighlight();\n                                    var indexes = RG.SVG.sequentialIndexToGrouped(seq, obj.data);\n                                    // Show the tooltip\n                                    RG.SVG.tooltip({\n                                        object: obj,\n                                        index: indexes[1],\n                                        group: idx,\n                                        sequentialIndex: seq,\n                                        text: prop.tooltips[seq],\n                                        event: e\n                                    });\n                                    // Highlight the rect that has been clicked on\n                                    obj.highlight(e.target);\n                                }, false);\n                                rect.addEventListener('mousemove', function (e)\n                                {\n                                    e.target.style.cursor = 'pointer';\n                                }, false);\n                            })(i, sequentialIndex);\n                        }\n                    }\n                    --sequentialIndex;\n                }\n            }\n        };\n        /**\n        * This function can be used to retrieve the relevant Y coordinate for a\n        * particular value.\n        * \n        * @param int value The value to get the Y coordinate for\n        */\n        this.getYCoord = function (value)\n        {\n            if (value > this.scale.max) {\n                return null;\n            }\n            var y, xaxispos = prop.xaxispos;\n            if (value < this.scale.min) {\n                return null;\n            }\n            y  = ((value - this.scale.min) / (this.scale.max - this.scale.min));\n            y *= (this.height - prop.gutterTop - prop.gutterBottom);\n            y = this.height - prop.gutterBottom - y;\n            return y;\n        };\n        /**\n        * This function can be used to highlight a bar on the chart\n        * \n        * @param object rect The rectangle to highlight\n        */\n        this.highlight = function (rect)\n        {\n            var x      = rect.getAttribute('x'),\n                y      = rect.getAttribute('y'),\n                width  = rect.getAttribute('width'),\n                height = rect.getAttribute('height');\n            var highlight = RG.SVG.create({\n                svg: this.svg,\n                parent: this.svg.all,\n                type: 'rect',\n                attr: {\n                    stroke: prop.highlightStroke,\n                    fill: prop.highlightFill,\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    'stroke-width': prop.highlightLinewidth\n                },\n                style: {\n                    pointerEvents: 'none'\n                }\n            });\n            if (prop.tooltipsEvent === 'mousemove') {\n                //var obj = this;\n                //highlight.addEventListener('mouseout', function (e)\n                //{\n                //    obj.removeHighlight();\n                //    RG.SVG.hideTooltip();\n                //    RG.SVG.REG.set('highlight', null);\n                //}, false);\n            }\n            // Store the highlight rect in the rebistry so\n            // it can be cleared later\n            RG.SVG.REG.set('highlight', highlight);\n        };\n        /**\n        * This allows for easy specification of gradients\n        */\n        this.parseColors = function () \n        {\n            // Save the original colors so that they can be restored when\n            // the canvas is cleared\n            if (!Object.keys(this.originalColors).length) {\n                this.originalColors = {\n                    colors:              RG.SVG.arrayClone(prop.colors),\n                    backgroundGridColor: RG.SVG.arrayClone(prop.backgroundGridColor),\n                    highlightFill:       RG.SVG.arrayClone(prop.highlightFill),\n                    backgroundColor:     RG.SVG.arrayClone(prop.backgroundColor)\n                }\n            }\n            // colors\n            var colors = prop.colors;\n            if (colors) {\n                for (var i=0; i<colors.length; ++i) {\n                    colors[i] = RG.SVG.parseColorLinear({\n                        object: this,\n                        color: colors[i]\n                    });\n                }\n            }\n            prop.backgroundGridColor = RG.SVG.parseColorLinear({object: this, color: prop.backgroundGridColor});\n            prop.highlightFill       = RG.SVG.parseColorLinear({object: this, color: prop.highlightFill});\n            prop.backgroundColor     = RG.SVG.parseColorLinear({object: this, color: prop.backgroundColor});\n        };\n        //\n        // Draws the labelsAbove\n        //\n        this.drawLabelsAbove = function ()\n        {\n            // Go through the above labels\n            if (prop.labelsAbove) {\n                var data_seq      = RG.SVG.arrayLinearize(this.data),\n                    seq           = 0,\n                    stacked_total = 0;;\n                for (var i=0; i<this.coords.length; ++i,seq++) {\n                    var num = typeof this.data[i] === 'number' ? this.data[i] : data_seq[seq] ;\n                    // If this is a stacked chart then only dothe label\n                    // if it's the top segment\n                    if (prop.grouping === 'stacked') {\n                        var indexes   = RG.SVG.sequentialIndexToGrouped(i, this.data);\n                        var group     = indexes[0];\n                        var datapiece = indexes[1];\n                        if (datapiece !== (this.data[group].length - 1) ) {\n                            continue;\n                        } else {\n                            num = RG.SVG.arraySum(this.data[group]);\n                        }\n                    }\n                    var str = RG.SVG.numberFormat({\n                        object:    this,\n                        num:       num.toFixed(prop.labelsAboveDecimals),\n                        prepend:   typeof prop.labelsAboveUnitsPre  === 'string'   ? prop.labelsAboveUnitsPre  : null,\n                        append:    typeof prop.labelsAboveUnitsPost === 'string'   ? prop.labelsAboveUnitsPost : null,\n                        point:     typeof prop.labelsAbovePoint     === 'string'   ? prop.labelsAbovePoint     : null,\n                        thousand:  typeof prop.labelsAboveThousand  === 'string'   ? prop.labelsAboveThousand  : null,\n                        formatter: typeof prop.labelsAboveFormatter === 'function' ? prop.labelsAboveFormatter : null\n                    });\n                    // Facilitate labelsAboveSpecific\n                    if (prop.labelsAboveSpecific && prop.labelsAboveSpecific.length && (typeof prop.labelsAboveSpecific[seq] === 'string' || typeof prop.labelsAboveSpecific[seq] === 'number') ) {\n                        str = prop.labelsAboveSpecific[seq];\n                    } else if ( prop.labelsAboveSpecific && prop.labelsAboveSpecific.length && typeof prop.labelsAboveSpecific[seq] !== 'string' && typeof prop.labelsAboveSpecific[seq] !== 'number') {\n                        continue;\n                    }\n                    var x = parseFloat(this.coords[i].element.getAttribute('x')) + parseFloat(this.coords[i].element.getAttribute('width') / 2) + prop.labelsAboveOffsetx;\n                    if (data_seq[i] >= 0) {\n                        var y = parseFloat(this.coords[i].element.getAttribute('y')) - 7 + prop.labelsAboveOffsety;\n                        var valign = prop.labelsAboveValign;\n                    } else {\n                        var y = parseFloat(this.coords[i].element.getAttribute('y')) + parseFloat(this.coords[i].element.getAttribute('height')) + 7 - prop.labelsAboveOffsety;\n                        var valign = prop.labelsAboveValign === 'top' ? 'bottom' : 'top';\n                    }\n                    RG.SVG.text({\n                        object:     this,\n                        parent:     this.svg.all,\n                        text:       str,\n                        x:          x,\n                        y:          y,\n                        halign:     prop.labelsAboveHalign,\n                        valign:     valign,\n                        tag:        'labels.above',\n                        font:       prop.labelsAboveFont              || prop.textFont,\n                        size:       prop.labelsAboveSize              || prop.textSize,\n                        bold:       prop.labelsAboveBold              || prop.textBold,\n                        italic:     prop.labelsAboveItalic            || prop.textItalic,\n                        color:      prop.labelsAboveColor             || prop.textColor,\n                        background: prop.labelsAboveBackground        || null,\n                        padding:    prop.labelsAboveBackgroundPadding || 0\n                    });\n                }\n            }\n        };\n        /**\n        * Using a function to add events makes it easier to facilitate method\n        * chaining\n        * \n        * @param string   type The type of even to add\n        * @param function func \n        */\n        this.on = function (type, func)\n        {\n            if (type.substr(0,2) !== 'on') {\n                type = 'on' + type;\n            }\n            RG.SVG.addCustomEventListener(this, type, func);\n            return this;\n        };\n        //\n        // Used in chaining. Runs a function there and then - not waiting for\n        // the events to fire (eg the onbeforedraw event)\n        // \n        // @param function func The function to execute\n        //\n        this.exec = function (func)\n        {\n            func(this);\n            return this;\n        };\n        //\n        // Remove highlight from the chart (tooltips)\n        //\n        this.removeHighlight = function ()\n        {\n            var highlight = RG.SVG.REG.get('highlight');\n            if (highlight && highlight.parentNode) {\n                highlight.parentNode.removeChild(highlight);\n            }\n            RG.SVG.REG.set('highlight', null);\n        };\n        //\n        // Draws the top of 3D bars\n        //\n        this.drawTop3dFace = function (opt)\n        {\n            var rect  = opt.rect,\n                arr   = [parseInt(rect.getAttribute('fill')), 'rgba(255,255,255,0.7)'],\n                x     = parseInt(rect.getAttribute('x')),\n                y     = parseInt(rect.getAttribute('y')),\n                w     = parseInt(rect.getAttribute('width')),\n                h     = parseInt(rect.getAttribute('height')),\n                value = parseFloat(rect.getAttribute('data-value'));\n            rect.rgraph_3d_top_face = [];\n            for (var i=0; i<2; ++i) {\n                var color = (i === 0 ? rect.getAttribute('fill') : 'rgba(255,255,255,0.7)');\n                var face = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'path',\n                    parent: prop.variant === '3d' && opt.value < 0  ? this.threed_xaxis_group : this.svg.all,\n                    attr: {\n                        stroke: prop.strokestyle,\n                        fill: color,\n                        'stroke-width': prop.linewidth,\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            x,\n                            y,\n                            x + prop.variant3dOffsetx,\n                            y - prop.variant3dOffsety,\n                            x + w + prop.variant3dOffsetx,\n                            y - prop.variant3dOffsety,\n                            x + w,\n                            y\n                        )\n                    }\n                });\n                // Store a reference to the rect on the front face of the bar\n                rect.rgraph_3d_top_face[i] = face\n            }\n        };\n        //\n        // Draws the top of 3D bars\n        //\n        this.drawSide3dFace = function (opt)\n        {\n            var rect  = opt.rect,\n                arr   = [parseInt(rect.getAttribute('fill')), 'rgba(0,0,0,0.3)'],\n                x     = parseInt(rect.getAttribute('x')),\n                y     = parseInt(rect.getAttribute('y')),\n                w     = parseInt(rect.getAttribute('width')),\n                h     = parseInt(rect.getAttribute('height'));\n            rect.rgraph_3d_side_face = [];\n            for (var i=0; i<2; ++i) {\n                var color = (i === 0 ? rect.getAttribute('fill') : 'rgba(0,0,0,0.3)');\n                var face = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'path',\n                    parent: prop.variant === '3d' && opt.value < 0  ? this.threed_xaxis_group : this.svg.all,\n                    attr: {\n                        stroke: prop.strokestyle,\n                        fill: color,\n                        'stroke-width': prop.linewidth,\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            x + w,\n                            y,\n                            x + w + prop.variant3dOffsetx,\n                            y - prop.variant3dOffsety,\n                            x + w + prop.variant3dOffsetx,\n                            y + h - prop.variant3dOffsety,\n                            x + w,\n                            y + h\n                        )\n                    }\n                });\n                // Store a reference to the rect on the front face of the bar\n                rect.rgraph_3d_side_face[i] = face\n            }\n        };\n        // This function is used to draw the errorbar. Its in the common\n        // file because it's used by multiple chart libraries\n        this.drawErrorbar = function (opt)\n        {\n            var prop      = this.properties,\n                index     = opt.index,\n                datapoint = opt.value,\n                linewidth = RG.SVG.getErrorbarsLinewidth({object: this, index: index}),\n                color     = RG.SVG.getErrorbarsColor({object: this, index: index}),\n                capwidth  = RG.SVG.getErrorbarsCapWidth({object: this, index: index}),\n                element   = opt.element,\n                type      = opt.type;\n            // Get the error bar value\n            var max = RG.SVG.getErrorbarsMaxValue({\n                object: this,\n                index: index\n            });\n            // Get the error bar value\n            var min = RG.SVG.getErrorbarsMinValue({\n                object: this,\n                index: index\n            });\n            if (!max && !min) {\n                return;\n            }\n            // Accounts for stacked bars\n            if (type === 'stacked') {\n                datapoint = RG.SVG.arraySum(this.data[index]);\n            }\n            if (datapoint >= 0) {\n                var x1 = parseFloat(element.getAttribute('x')) + (parseFloat(element.getAttribute('width')) / 2);\n                // Draw the UPPER vertical line\n                var errorbarLine = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: x1,\n                        y1: parseFloat(element.getAttribute('y')),\n                        x2: x1,\n                        y2: this.getYCoord(parseFloat(datapoint + max)),\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the cap to the UPPER line\n                var errorbarCap = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                        y1: errorbarLine.getAttribute('y2'),\n                        x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                        y2: errorbarLine.getAttribute('y2'),\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the minimum errorbar if necessary\n                if (typeof min === 'number') {\n                    var errorbarLine = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: x1,\n                            y1: parseFloat(element.getAttribute('y')),\n                            x2: x1,\n                            y2: this.getYCoord(parseFloat(datapoint - min)),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                    // Draw the cap to the UPPER line\n                    var errorbarCap = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                            y1: errorbarLine.getAttribute('y2'),\n                            x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                            y2: errorbarLine.getAttribute('y2'),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                }\n            } else if (datapoint < 0) {\n                var x1 = parseFloat(element.getAttribute('x')) + (parseFloat(element.getAttribute('width')) / 2),\n                    y1 = parseFloat(element.getAttribute('y')) + parseFloat(element.getAttribute('height')),\n                    y2 = this.getYCoord(parseFloat(datapoint - ma.abs(max) ))\n                // Draw the vertical line\n                var errorbarLine = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: x1,\n                        y1: y1,\n                        x2: x1,\n                        y2: y2,\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the cap to the vertical line\n                var errorbarCap = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                        y1: errorbarLine.getAttribute('y2'),\n                        x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                        y2: errorbarLine.getAttribute('y2'),\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the minimum errorbar if necessary\n                if (typeof min === 'number') {\n                    var x1 = parseFloat(element.getAttribute('x')) + (parseFloat(element.getAttribute('width')) / 2);\n                    var errorbarLine = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: x1,\n                            y1: this.getYCoord(parseFloat(datapoint + min)),\n                            x2: x1,\n                            y2: this.getYCoord(parseFloat(datapoint)),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                    // Draw the cap to the UPPER line\n                    var errorbarCap = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                            y1: errorbarLine.getAttribute('y1'),\n                            x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                            y2: errorbarLine.getAttribute('y1'),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                }\n            }\n        };\n        //\n        // The Bar chart grow effect\n        //\n        this.grow = function ()\n        {\n            var opt      = arguments[0] || {},\n                frames   = opt.frames || 30,\n                frame    = 0,\n                obj      = this,\n                data     = [],\n                height   = null,\n                seq      = 0;\n            //\n            // Copy the data\n            //\n            data = RG.SVG.arrayClone(this.data);\n            this.draw();\n            var iterate = function ()\n            {\n                for (var i=0,seq=0,len=obj.coords.length; i<len; ++i, ++seq) {\n                    var   multiplier = (frame / frames)\n                        * RG.SVG.FX.getEasingMultiplier(frames, frame)\n                        * RG.SVG.FX.getEasingMultiplier(frames, frame);\n                    // TODO Go through the data and update the value according to\n                    // the frame number\n                    if (typeof data[i] === 'number') {\n                        height      = ma.abs(obj.getYCoord(data[i]) - obj.getYCoord(0));\n                        obj.data[i] = data[i] * multiplier;\n                        height      = multiplier * height;\n                        // Set the new height on the rect\n                        obj.coords[seq].element.setAttribute(\n                            'height',\n                            height\n                        );\n                        // Set the correct Y coord on the object\n                        obj.coords[seq].element.setAttribute(\n                            'y',\n                            data[i] < 0 ? obj.getYCoord(0) : obj.getYCoord(0) - height\n                        );\n                        // This upadtes the size of the 3D sides to the bar\n                        if (prop.variant === '3d') {\n                            // Remove the 3D sides to the bar\n                            if (obj.coords[i].element.rgraph_3d_side_face[0].parentNode) obj.coords[i].element.rgraph_3d_side_face[0].parentNode.removeChild(obj.coords[i].element.rgraph_3d_side_face[0]);\n                            if (obj.coords[i].element.rgraph_3d_side_face[1].parentNode) obj.coords[i].element.rgraph_3d_side_face[1].parentNode.removeChild(obj.coords[i].element.rgraph_3d_side_face[1]);\n                            if (obj.coords[i].element.rgraph_3d_top_face[0].parentNode) obj.coords[i].element.rgraph_3d_top_face[0].parentNode.removeChild(obj.coords[i].element.rgraph_3d_top_face[0]);\n                            if (obj.coords[i].element.rgraph_3d_top_face[1].parentNode) obj.coords[i].element.rgraph_3d_top_face[1].parentNode.removeChild(obj.coords[i].element.rgraph_3d_top_face[1]);\n                            // Add the 3D sides to the bar (again)\n                            obj.drawSide3dFace({rect: obj.coords[i].element});\n                            // Draw the top side of the 3D bar\n                            if (prop.grouping === 'grouped') {\n                                obj.drawTop3dFace({rect: obj.coords[i].element   });\n                            }\n                            // Now remove and immediately re-add the front face of\n                            // the bar - this is so that the front face appears\n                            // above the other sides\n                            if (obj.coords[i].element.parentNode) {\n                                var parent = obj.coords[i].element.parentNode;\n                                var node   = parent.removeChild(obj.coords[i].element);\n                                parent.appendChild(node);\n                            }\n                        }\n                    } else if (typeof data[i] === 'object') {\n                        var accumulativeHeight = 0;\n                        for (var j=0,len2=data[i].length; j<len2; ++j, ++seq) {\n                            height         = ma.abs(obj.getYCoord(data[i][j]) - obj.getYCoord(0));\n                            height         = multiplier * height;\n                            obj.data[i][j] = data[i][j] * multiplier;\n                            height = ma.round(height);\n                            obj.coords[seq].element.setAttribute(\n                                'height',\n                                height\n                            );\n                            obj.coords[seq].element.setAttribute(\n                                'y',\n                                data[i][j] < 0 ? (obj.getYCoord(0) + accumulativeHeight) : (obj.getYCoord(0) - height - accumulativeHeight)\n                            );\n                            // This updates the size of the 3D sides to the bar\n                            if (prop.variant === '3d') {\n                                // Remove the 3D sides to the bar\n                                if (obj.coords[seq].element.rgraph_3d_side_face[0].parentNode) obj.coords[seq].element.rgraph_3d_side_face[0].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_side_face[0]);\n                                if (obj.coords[seq].element.rgraph_3d_side_face[1].parentNode) obj.coords[seq].element.rgraph_3d_side_face[1].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_side_face[1]);\n                                if (obj.coords[seq].element.rgraph_3d_top_face[0].parentNode) obj.coords[seq].element.rgraph_3d_top_face[0].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_top_face[0]);\n                                if (obj.coords[seq].element.rgraph_3d_top_face[1].parentNode) obj.coords[seq].element.rgraph_3d_top_face[1].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_top_face[1]);\n                                // Add the 3D sides to the bar (again)\n                                obj.drawSide3dFace({rect: obj.coords[seq].element});\n// Draw the top side of the 3D bar\n// TODO Need to only draw the top face when the bar is either\n//      not stacked or is the last segment in the stack\nobj.drawTop3dFace({rect: obj.coords[seq].element});\n                                // Now remove and immediately re-add the front face of\n                                // the bar - this is so that the front face appears\n                                // above the other sides\n                                if (obj.coords[seq].element.parentNode) {\n                                    var parent = obj.coords[seq].element.parentNode;\n                                    var node   = parent.removeChild(obj.coords[seq].element);\n                                    parent.appendChild(node);\n                                }\n                            }\n                            accumulativeHeight += (prop.grouping === 'stacked' ? height : 0);\n                        }\n                        //\n                        // Set the height and Y cooord of the backfaces if necessary\n                        //\n                        if (obj.stackedBackfaces[i]) {\n                            obj.stackedBackfaces[i].setAttribute(\n                                'height',\n                                accumulativeHeight\n                            );\n                            obj.stackedBackfaces[i].setAttribute(\n                                'y',\n                                obj.height - prop.gutterBottom - accumulativeHeight\n                            );\n                        }\n                        // Decrease seq by one so that it's not incremented twice\n                        --seq;\n                    }\n                }\n                if (frame++ < frames) {\n                    //setTimeout(iterate, frame > 1 ? opt.delay : 200);\n                    RG.SVG.FX.update(iterate);\n                } else if (opt.callback) {\n                    (opt.callback)(obj);\n                }\n            };\n            iterate();\n            return this;\n        };\n        /**\n        * HBar chart Wave effect.\n        * \n        * @param object OPTIONAL An object map of options. You specify 'frames'\n        *                        here to give the number of frames in the effect\n        *                        and also callback to specify a callback function\n        *                        thats called at the end of the effect\n        */\n        this.wave = function ()\n        {\n            // First draw the chart\n            this.draw();\n            var obj = this,\n                opt = arguments[0] || {};\n            opt.frames      = opt.frames || 60;\n            opt.startFrames = [];\n            opt.counters    = [];\n            var framesperbar    = opt.frames / 3,\n                frame           = -1,\n                callback        = opt.callback || function () {};\n            for (var i=0,len=this.coords.length; i<len; i+=1) {\n                opt.startFrames[i] = ((opt.frames / 2) / (obj.coords.length - 1)) * i;\n                opt.counters[i]    = 0;\n                // Now zero the width of the bar (and remove the 3D faces)\n                this.coords[i].element.setAttribute('height', 0);\n                if (this.coords[i].element.rgraph_3d_side_face) {\n                    var parent = this.coords[i].element.rgraph_3d_side_face[0].parentNode;\n                    parent.removeChild(this.coords[i].element.rgraph_3d_side_face[0]);\n                    parent.removeChild(this.coords[i].element.rgraph_3d_side_face[1]);\n                    parent.removeChild(this.coords[i].element.rgraph_3d_top_face[0]);\n                    parent.removeChild(this.coords[i].element.rgraph_3d_top_face[1]);\n                }\n            }\n            function iterator ()\n            {\n                ++frame;\n                for (var i=0,len=obj.coords.length; i<len; i+=1) {\n                    if (frame > opt.startFrames[i]) {\n                        var originalHeight = obj.coords[i].element.getAttribute('data-original-height'),\n                            height,\n                            value = parseFloat(obj.coords[i].element.getAttribute('data-value'));\n                            var height = ma.min(\n                                ((frame - opt.startFrames[i]) / framesperbar) * originalHeight,\n                                originalHeight\n                            );\n                        obj.coords[i].element.setAttribute(\n                            'height',\n                            height < 0 ? 0 : height\n                        );\n                        obj.coords[i].element.setAttribute(\n                            'y',\n                            value >=0 ? obj.getYCoord(0) - height : obj.getYCoord(0)\n                        );\n                        // This updates the size of the 3D sides to the bar\n                        if (prop.variant === '3d') {\n                            // Remove the 3D sides to the bar\n                            var parent = obj.coords[i].element.rgraph_3d_side_face[0].parentNode;\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_side_face[0]);\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_side_face[1]);\n                            var parent = obj.coords[i].element.rgraph_3d_top_face[0].parentNode;\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_top_face[0]);\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_top_face[1]);\n                            // Now remove and immediately re-add the front face of\n                            // the bar - this is so that the front face appears\n                            // above the other sides\n                            if (obj.coords[i].element.parentNode) {\n                                var parent = obj.coords[i].element.parentNode;\n                                var node   = parent.removeChild(obj.coords[i].element);\n                                parent.appendChild(node);\n                            }\n                        }\n                        if (prop.grouping === 'stacked') {\n                            var seq = obj.coords[i].element.getAttribute('data-sequential-index');\n                            var indexes = RG.SVG.sequentialIndexToGrouped(seq, obj.data);\n                            if (indexes[1] > 0) {\n                                obj.coords[i].element.setAttribute(\n                                    'y',\n                                    parseInt(obj.coords[i - 1].element.getAttribute('y')) - height\n                                );\n                            }\n                        }\n                        if (prop.variant === '3d') {\n                            // Add the 3D sides to the bar (again)\n                            obj.drawSide3dFace({\n                                rect:  obj.coords[i].element,\n                                value: obj.coords[i].element.getAttribute('data-value')\n                            });\n                            // Draw the top side of the 3D bar\n                            if (prop.grouping === 'grouped' || (prop.grouping === 'stacked' && (indexes[1] + 1) === obj.data[indexes[0]].length) ) {\n                                obj.drawTop3dFace({\n                                    rect:  obj.coords[i].element,\n                                    value: obj.coords[i].element.getAttribute('data-value')\n                                });\n                            }\n                        }\n                    }\n                }\n                if (frame >= opt.frames) {\n                    callback(obj);\n                } else {\n                    RG.SVG.FX.update(iterator);\n                }\n            }\n            iterator();\n            return this;\n        };\n        //\n        // Set the options that the user has provided\n        //\n        for (i in conf.options) {\n            if (typeof i === 'string') {\n                this.set(i, conf.options[i]);\n            }\n        }\n    };\n    return this;\n// End module pattern\n})(window, document);;\nRGraph.SVG.tooltips.style.zIndex     = '10000';\n{UXPRERENDEREDALIAS}_DlgObj._layoutMode = 'containerwidth';\n{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = 'firsttrue';\n{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {\nFRAME_1: ['dropdownbox1']\n}\n{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];\n{UXPRERENDEREDALIAS}_DlgObj._listControls = [];\n{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: 'ALPHA_efbf6da1ab3a40d2b3fce0826f3f0662',friendlyName: '',description: '',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: '',restore: {variables: false,data: false,state: false},compressData: false,minify: false,variablesToNotPersist: '',workingPreviewTestingMode: 'Browser',compressListData: false}\n;\n{UXPRERENDEREDALIAS}_DlgObj.__r = []\n$e.add(window,'resize',function() {\n\tif({UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule) {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();\n},null,false,'{UXPRERENDEREDALIAS}.DIALOG');\n{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false\n{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};\n{UXPRERENDEREDALIAS}_DlgObj.styleName = 'GrBlue';\n{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 2\n{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {\n};\n{UXPRERENDEREDALIAS}_DlgObj._noPersist = []\n{UXPRERENDEREDALIAS}_DlgObj._ssdecimal = '.';\n$u.decimal = '.';\n$u.comma = ',';\n{UXPRERENDEREDALIAS}_DlgObj._modernFrames = {};\n\n$e.add('{UXPRERENDEREDALIAS}.V.R1.BUTTON_1',A5.d.evnts.click,function(e) {\nfunction tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed() {\n{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback('','','xb','',additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses(),{deviceOfflineFunction: function() {   }});\n}\n\nfunction tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818() {\n{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();\n}\n\nfunction tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29() {\n{UXPRERENDEREDALIAS}_DlgObj.jsChartRefreshData('JSCHART_1');\n}\n\n\nA5.executeThisThenThat(tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed,tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818,tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29);\n},this,false,'{UXPRERENDEREDALIAS}.V.R1.BUTTON_1');\n__replaceAtRuntime_CustomControlsSystemBeforePrepare\n{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);\n{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\n\n\nif(!A5.flags.isMobile) $e.add(window,'resize',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation,null,false,'{UXPRERENDEREDALIAS}.DIALOG');\nelse $e.add(window,'orientationchange',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true,'{UXPRERENDEREDALIAS}.DIALOG');\n{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();\n\n;\n\n\n\n\n\nsetTimeout(function() { },0);\n\n\n{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onInitializeComplete');\n{UXPRERENDEREDALIAS}_DlgObj.initialized = true;\n\n\n\n\n\n__replaceAtRuntime_CustomControlsSystemAfterRender\n\n{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; \n\n\nsetTimeout(function() {\n\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onRenderComplete');\n\t{UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;\n\tvar _flagPGApp = false;\n\tif(typeof _phoneGapSettings == 'function') {\n\t\t_flagPGApp = true;\n\t\t/*\n\t\tif(typeof cordova == 'object') {\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;\n\t\t} else {\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = false;\n\t\t};\n\t\t*/\n\t};\n\n\n\n\t//alert('is a pg app: ' + _flagPGApp + '  _cordovaReady: ' + {UXPRERENDEREDALIAS}_DlgObj._cordovaReady );\n\tif(!_flagPGApp) {\n\t\t{UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage();\n\t} else {\n\n\t\t//phonegap app, but phonegap may not yet be loaded\n\t\t//alert('register the _restoreFormLocalStorage to fire when phonegap is ready');\n\n\t\t{UXPRERENDEREDALIAS}_DlgObj._delayTillPhoneGapReady({UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage,{UXPRERENDEREDALIAS}_DlgObj);\n\t}\n\n },1);\n;\n\nvar o2 = 'portrait';\nif(window.innerHeight < window.innerWidth) o2 = 'landscape';\n{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};\n\n{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();\ntry {\nwindow.addEventListener(\"offline\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\nwindow.addEventListener(\"online\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\n} catch(err){}\n\n{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();\ntry {\nwindow.addEventListener(\"offline\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\nwindow.addEventListener(\"online\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\n} catch(err){}\n\n;\n;\nsetTimeout(function() { },10);;\n{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = '';\n</script>\n<script>\n\n</script>"
                },
                "ajaxResponse": "A5.u.element.setContent('{UXPRERENDEROUTPUTDIV}','<style>\\n</style><iframe style=\"display:none;\" id=\"{UXPRERENDEREDALIAS}.__IFRAME1\"></iframe>\\n<input type=\"hidden\" value=\"\" id=\"{UXPRERENDEREDALIAS}.PARAMETERBUCKET\"/>\\n<input type=\"file\" style=\"position:absolute; top:-1000px;visibility:hidden;\" accept=\"image/*\" id=\"{UXPRERENDEREDALIAS}._GETPHOTO\"/><input type=\"file\" style=\"position:absolute; top:-1000px;visibility:hidden;\" name=\"files[]\" multiple = \"\" id=\"{UXPRERENDEREDALIAS}._GETFILEMULTI\"/><input type=\"file\" style=\"position:absolute; top:-1000px;visibility:hidden;\" name=\"files[]\" id=\"{UXPRERENDEREDALIAS}._GETFILE\"/>\\n\\n<div class=\"errorTip\" style=\"margin-bottom: 2px; display: none; width: 8in; \" id=\"{UXPRERENDEREDALIAS}.GLOBALERRORS\"></div>\\n\\n\\n<div id=\"{UXPRERENDEREDALIAS}.R1\">\\n<div class=\"A5CWLayout\"     style=\"width: 100%; width: 100%; \"  >\\n\\t<div>\\n\\t<fieldset id=\"{UXPRERENDEREDALIAS}.V.R1.FRAME_1\" class=\"\" style=\"-moz-border-radius: 8px;display:inline; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" >\\n\\t<legend class=\"\" style=\"\"  >Buscar</legend>\\n<div class=\"A5CWLayout\" style=\"width: 100%\" >\\n\\t<label id=\"{UXPRERENDEREDALIAS}.LBL.R1.DROPDOWNBOX1\" for=\"{UXPRERENDEREDALIAS}.V.R1.DROPDOWNBOX1\" title=\"\" class=\"GrBlueDialogLabel\" style=\"float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\">Tipo Medio</label>\\n<div style=\"margin-left: 1in ;\"><select \\t\\n\\t\\tsize=\"1\" \\n\\t\\tclass=\"GrBlueEdit\"  \\n\\t\\tname=\"V.R1.DROPDOWNBOX1\" \\n\\t\\ttitle=\"\"\\n\\t\\tstyle=\"width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\"\\n\\t\\tid=\"{UXPRERENDEREDALIAS}.V.R1.DROPDOWNBOX1\"  \\n\\t\\t   >\\n{dialog.dropdownboxchoices.DROPDOWNBOX1}\\n</select>\\n</div>\\n</div><br  style=\"clear:both; \" />\\n<div class=\"A5CWLayout\" style=\"width: \" >\\n\\t<button type=\"button\" id=\"{UXPRERENDEREDALIAS}.V.R1.BUTTON_1\"    ></button>\\n</div>\\n</fieldset>\\n</div>\\n</div>\\n<br  style=\"clear:both; \" />\\n<div class=\"A5CWLayout\"   id=\"{UXPRERENDEREDALIAS}.V.R1.JSCHART_1\" >\\n\\n<div id=\"{UXPRERENDEREDALIAS}.V.R1.JSCHART_1.JSCHART\" class=\"\" style=\"width: 5in; height: 4.5in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;;\"></div>\\n</div><br  style=\"clear:both; \" />\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n<div style=\"display:none;\">\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMES_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMES_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.CANTMES_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.NOCOMENZADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSOMESACTUAL\" class=\"GrBlueGridData\" style=\"height: 4in; ; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.ENCURSO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.COMPLETADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.TERMINADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADOMESACTUAL\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADO_3\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADO_2\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n<span><span\\tid=\"{UXPRERENDEREDALIAS}.V.R1.PREFACTURADO_1\" class=\"GrBlueGridData\" style=\"; display:inline-block\" title=\"\"    ></span>\\n</span>\\n</div>\\n</div>\\n\\n<div class=\"\" style=\"display: none; \" id=\"{UXPRERENDEREDALIAS}.DEBUGUPDATECOMMANDS\"></div>\\n\\n');\n\n\nif(!A5.controlBar) { \t\n/*\nCopyright (c) 2001, 2018 Alpha Software Corporation\nAll Rights Reserved.\nThis JavaScript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,\nAlpha Five Application Server, Alpha Anywhere Application Server,\nAlpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically\nnot licensed for use on a server that does not have installed on it a\nlicensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.\n*/\nA5.controlBar={disclosure:{defaultContainer:''},items:{'html':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',html:'',bind:{show:''}},true);var html=s.html;html='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;}},'button':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,style:''},actions:{},bind:{show:'',disabled:''},autoHideDisclosure:'auto'},true);s.settings.style='width: 100%;'+s.settings.style;if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;var html=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','',true);if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','disabled',true);html='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+html+'{*endif}';}\nhtml='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'button-toggle':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,style:'',type:'two-state',keepPressed:true},actions:{},bind:{value:'',data:'',show:'',disabled:''},autoHideDisclosure:'auto'},true);s.settings.style='width: 100%;'+s.settings.style;if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;if(s.settings.type=='multi-state'){var sStr=JSON.stringify(s.settings);sStr=sStr.replace(/\\{/g,'\\\\{');sStr=sStr.replace(/\\}/g,'\\\\}');sStr=sStr.replace(/:/g,'\\\\:');html='{A5.buttons.html(\\''+id+'\\',function(od)\\\\{var o = '+sStr+'; $u.o.assign(o,od); return o;\\\\}('+s.bind.data+'['+s.bind.value+']),\\'a5-item=\"'+name+'\"\\')}';}else{var html=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','',true);if(s.settings.keepPressed){html='{*if '+s.bind.value+'}'+A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','pressed',true)+'{*else}'+html+'{*endif}';}\nif(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings,'a5-item=\"'+name+'\"','disabled',true);html='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+html+'{*endif}';}}\nhtml='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}\nif(type=='click'){var curV=A5.u.object.get(this.data,item.bind.value);if(item.settings.type=='multi-state'){curV++;var d=A5.u.object.get(this.data,item.bind.data);if(curV>=d.length)curV=0;this.update(item.bind.value,curV);}else{this.update(item.bind.value,!curV);}}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'button-list':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,allowNullSelection:false,multiple:false,className:'',nullSelectionClassName:'',button:{keepPressed:true}},actions:{},bind:{data:'',value:'',show:''},autoHideDisclosure:'auto'},true);var ts={};A5.themes.assign(ts,s.settings.theme,'buttonList');$u.o.assign(s.settings,ts,true);var sStr=JSON.stringify(s.settings);sStr=sStr.replace(/\\{/g,'\\\\{');sStr=sStr.replace(/\\}/g,'\\\\}');sStr=sStr.replace(/:/g,'\\\\:');html='{A5.buttonLists.html(\\''+id+'\\','+sStr+','+s.bind.data+','+$if(s.settings.button.keepPressed,s.bind.value,'\\'\\'')+',\\'a5-item=\"'+name+'\" a5-value=\"\\\\{index\\\\}\"\\')}';var cStyle='';if(s.size=='')cStyle=' style=\"display: inline-block;\"';if(s.settings.nullSelectionClassName!=''){html='<div class=\"'+s.settings.className+'{*if ('+s.bind.value+').toString() == \\'\\'}'+s.settings.nullSelectionClassName+'{*endif}\"'+cStyle+'>'+html+'</div>';}else{html='<div class=\"'+s.settings.className+'\"'+cStyle+'>'+html+'</div>';}\nhtml='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.button.pressedClassName;if(pcn!=''){$acn(ele,pcn);A5.buttons._p[id]=pcn;}}\nif(type=='click'){var d=A5.u.object.get(this.data,item.bind.data);var v=d[Number(value)];if(v){if(typeof v=='object'){v=v.value;}\nvar curV=A5.u.object.get(this.data,item.bind.value);if(item.settings.multiple){if(curV.constructor==Array){var cIndx=curV.indexOf(v);if(cIndx==-1){curV.push(v);v=curV;}else curV.splice(cIndx,1);if(item.settings.allowNullSelection===false&&curV.length==0)v=[v];else v=curV;}else console.log('ERROR - button-list value must be array if multiple select is set to true.');}else{if(item.settings.allowNullSelection===true&&v.toString()==curV.toString()){if(curV.constructor==Array)v=[];else v='';}else if(curV.constructor==Array)v=[v];}\nthis.update(item.bind.value,v);}}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'disclosure-button':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',autoHideDisclosure:'always',disclosure:{name:'',type:''},actions:{},settings:{show:{theme:theme,style:''},hide:{theme:theme,style:''}},bind:{show:'',disabled:''}},true);s.settings.show.style='width: 100%;'+s.settings.show.style;s.settings.hide.style='width: 100%;'+s.settings.hide.style;if(s.size!=''){s.settings.show.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.show.style;s.settings.hide.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.hide.style;}\nvar showHTML=A5.buttons.html(id,s.settings.show,'a5-item=\"'+name+'\"','',true);var hideHTML=A5.buttons.html(id,s.settings.hide,'a5-item=\"'+name+'\"','',true);if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings.show,'a5-item=\"'+name+'\"','disabled',true);showHTML='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+showHTML+'{*endif}';dHTML=A5.buttons.html(id,s.settings.hide,'a5-item=\"'+name+'\"','disabled',true);hideHTML='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+hideHTML+'{*endif}';}\nvar html='{*if [temp].state.disclosure.shown && [temp].state.disclosure.name == \\''+s.disclosure.name+'\\'}'+hideHTML+'{*else}'+showHTML+'{*endif}';html='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}\nif(type=='click'){if(this._d.shown)var html=A5.buttons.html(ele.id,item.settings.hide,'a5-item=\"'+name+'\"','',true);else var html=A5.buttons.html(ele.id,item.settings.show,'a5-item=\"'+name+'\"','',true);var pEle=ele.parentNode;pEle.innerHTML=A5.u.template.expand(this.data,html);}\nif(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}},'edit':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',update:'default',actions:{},settings:{theme:theme,style:'',watermark:{text:'',className:''}},bind:{value:'',show:''}},true);var ts={};A5.themes.assign(ts,s.settings.theme,'edit');$u.o.assign(s.settings,ts,true);if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;s.settings.style='display: inline-block; overflow: hidden;'+s.settings.style;var wm=s.settings.watermark.text;if(wm=='')wm='&nbsp;';var html='{*if '+s.bind.value+' != \\'\\'}<div id=\"'+id+'\" a5-item=\"'+name+'\" class=\"'+s.settings.className+'\" style=\"box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; '+s.settings.style+'{*if [temp].state.edit.shown && [temp].state.edit.item == \\''+name+'\\'}visibility: hidden;{*endif}\">{'+s.bind.value+'}</div>{*else}<div id=\"'+id+'\" a5-item=\"'+name+'\" class=\"'+s.settings.className+' '+s.settings.watermark.className+'\" style=\"box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; '+s.settings.style+'{*if [temp].state.edit.shown && [temp].state.edit.item == \\''+name+'\\'}visibility: hidden;{*endif}\"><escape<'+wm+'>></div>{*endif}';html='<div class=\"A5ControlBarItem\" style=\"'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'; text-align: left;\">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}\ns.template=html;},event:function(type,name,value,item,ele,e){if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}\nthis.action(item.actions[type],data);}}}},_:{lDefs:{type:'default',className:'',style:'',bind:{show:''},before:{items:[]},middle:{items:[]},after:{items:[]}},initDone:false,init:function(){if(!A5.controlBar._.initDone){A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLine','position: relative; text-align: center;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineCust','position: relative;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineBefore','text-align: left;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineAfter','text-align: right;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarItem','display: inline-block;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineContentBefore','position: absolute; top: 0px; left: 0px;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineContentAfter','position: absolute; top: 0px; right: 0px;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineBefore .A5ControlBarLineContentBefore, .A5ControlBarHorz .A5ControlBarLineAfter .A5ControlBarLineContentAfter','position: static;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarHorz .A5ControlBarLine > div','position: static; display: inline;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarHorz .A5ControlBarLine','text-align: inherit;');A5.u.css.setSelector('.A5ControlBarVert','display: table; height: 100%;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLine','display: table-cell; vertical-align: middle;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineCust','display: table-cell;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineBefore','display: table-cell; vertical-align: top;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineAfter','display: table-cell; vertical-align: bottom;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineContentBefore','position: absolute; top: 0px;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineContentAfter','position: absolute; bottom: 0px;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineBefore .A5ControlBarLineContentBefore, .A5ControlBarVert .A5ControlBarLineAfter .A5ControlBarLineContentAfter','position: static;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarVert .A5ControlBarLine > div','position: static; display: block;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarVert .A5ControlBarLine','vertical-align: top;');A5.controlBar._.initDone=true;}}}}\nA5.ControlBar=Class.create({initialize:function(contId,data,settings){if(typeof settings=='undefined'){settings=data;data=null;}\nthis.contId=contId;A5.controlBar._.init();$u.o.assign(this,{theme:'',override:'base',edge:'top',className:'',disclosuresClassName:'',topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:'',separator:{horizontalClassName:'',verticalClassName:''},items:{},actions:{},layout:'',layouts:{},disclosure:{container:A5.controlBar.disclosure.defaultContainer,animation:{duration:300,tween:'ease-in-out'},coverClassName:'',cover:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},extend:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},expand:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},defaults:{type:'static',html:'',className:'',onInitialize:false,onBeforeDraw:false,onDraw:false,onSize:false,onShow:false,onShowComplete:false,onHide:false}},disclosures:{},data:{},state:{layout:'',edit:{shown:false,item:'',part:'',path:''},disclosure:{shown:false,name:'',type:'',edge:''}},onDraw:false,onBeforeDraw:false,onPopulate:false,onBeforePopulate:false,onChange:false});if(typeof settings.theme!='undefined')A5.themes.assign(this,settings.theme,'controlBar');$u.o.assign(this,settings);A5.overrides.assign(this,'controlBar',this.override);this.initializeItems();var cEle=$(contId);cEle.innerHTML='<div></div><input id=\"'+this.contId+'.EDIT\" style=\"position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" />';if(cEle.style.position!='absolute')cEle.style.position='relative';cEle.style.padding='0px';cEle.style.overflow='hidden';$acn(cEle,this.className);this._bindEvents(cEle);this._m={anim:false,next:{has:false,args:[]},async:{}};var egName='CONTROLBAR.'+this.contId;var dEle=document.createElement('div');dEle.id=this.contId+'.DISCLOSURES';$ss(dEle,'z-index: 100000; position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; display: none;');dEle.innerHTML='<div style=\"position: absolute; overflow: hidden;\"><div class=\"'+this.disclosure.defaults.className+'\" id=\"'+this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC\" style=\"z-index: 100002; position: absolute; display: none;\"><div></div><input id=\"'+this.contId+'.EDITDIS\" style=\"position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;\" /></div></div><div id=\"'+this.contId+'.DISCLOSURE.CLOSE\" style=\"z-index: 100001; position: absolute; display: none;\">&nbsp;</div>';$acn(dEle,this.disclosuresClassName);if(this.disclosure.container!='')$(this.disclosure.container).appendChild(dEle);else document.body.insertBefore(dEle,document.body.firstChild);this._bindEvents(dEle.children[0].children[0]);$e.add(dEle,A5.d.evnts.click,this._disClick,this,false,egName);$e.add(this.contId+'.DISCLOSURE.CLOSE',A5.d.evnts.click,this._disCloseClick,this,false,egName);if(A5.flags.supportsTouch){$e.add(dEle,'touchmove',function(e){var tempT=$e.getTouches(e);var pDef=true;if(tempT){if(tempT.length){if(tempT.length>1)pDef=false;}}\nif(pDef)$e.preventDefault(e);});}\nthis._d={ele:dEle,shown:false,current:false,next:false};var cdEle=dEle.children[0];var tdEle=null;var dd=null;for(var d in this.disclosures){dd=this.disclosures[d];$u.o.assign(dd,this.disclosure.defaults,true);tdEle=document.createElement('div');tdEle.id=this.contId+'.DISCLOSURE.'+d;tdEle.className=dd.className;tdEle.style.position='absolute';tdEle.style.display='none';tdEle.style.zIndex='100002';cdEle.appendChild(tdEle);if(dd.type=='template')this._bindEvents(tdEle);else tdEle.innerHTML=dd.html;if(dd.onInitialize.constructor==Function)dd.onInitialize.call(this,tdEle);}\nvar eEle=$(this.contId+'.EDIT');var edEle=$(this.contId+'.EDITDIS');$e.add(eEle,'keyup',this._editKeyup,this,false,egName);$e.add(edEle,'keyup',this._editKeyup,this,false,egName);$e.add(eEle,'blur',this._editBlur,this,false,egName);$e.add(edEle,'blur',this._editBlur,this,false,egName);this._e={ele:eEle,dEle:edEle,shown:0,current:false};if(data!=null)this.populate(data);else this.refresh();if(!A5.flags.isMobile)$e.add(window,'resize',this._relayout,this,true,egName);else{$e.add(window,'orientationchange',this._relayout,this,true,egName);if(A5.flags.iOSVersion==-1)$e.add(window,'resize',this._relayout,this,true,egName);}\n$e.add(document,'webkitfullscreenchange',this._relayout,this,true,egName);$e.add(document,'mozfullscreenchange',this._relayout,this,true,egName);$e.add(document,'fullscreenchange',this._relayout,this,true,egName);$e.add(document,'fullscreenchange',this._relayout,this,true,egName);},initializeItems:function(){var iObj=null;var iTObj=null;var theme=this.theme;theme=theme.split(':').shift();for(var item in this.items){iObj=this.items[item];iTObj=A5.controlBar.items[iObj.type];if(iTObj)iTObj.initialize(item,this.contId+'.'+item,iObj,theme);else iObj.template='ERROR '+item+' - Item type \"'+iObj.type+'\" not found!';}\nfor(var layout in this.layouts){if(typeof this.layouts[layout]._t!='undefined'){delete this.layouts[layout]._t.top;delete this.layouts[layout]._t.bottom;delete this.layouts[layout]._t.left;delete this.layouts[layout]._t.right;}}},destroy:function(){$e.removeGroup('CONTROLBAR.'+this.contId);var dEle=this._d.ele;if(dEle){var pEle=dEle.parentNode;if(pEle)pEle.removeChild(dEle);}},populate:function(data){var anim=typeof arguments[1]!='undefined'?arguments[1]:false;var fEvnts=typeof arguments[2]!='undefined'?arguments[2]:true;var async=typeof arguments[3]!='undefined'?arguments[3]:false;if(this.onBeforePopulate.constructor==Function&&fEvnts){var res=this.onBeforePopulate.call(this,data);if(typeof res=='boolean'){if(!res)return false;}}\nthis.data={};$u.o.assign(this.data,data);this.refresh(anim,async);if(this.onPopulate.constructor==Function&&fEvnts)this.onPopulate.call(this,data);},update:function(p,v){var anim=typeof arguments[2]!='undefined'?arguments[2]:false;var fEvnts=typeof arguments[3]!='undefined'?arguments[3]:true;var async=typeof arguments[4]!='undefined'?arguments[4]:false;if(typeof p=='string'){p=[p];v=[v];}\nfor(var i=0;i<p.length;i++)A5.u.object.set(this.data,p[i],v[i]);if(fEvnts){if(this.onChange.constructor==Function)this.onChange.call(this,p,v);}\nthis.refresh(anim,async);},setLayout:function(l){if(this.layouts[l]){var anim=typeof arguments[1]!='undefined'?arguments[1]:false;var async=typeof arguments[2]!='undefined'?arguments[2]:false;this.layout=l;this.refresh(anim,async);}else console.log('ERROR - control bar layout \"'+l+'\" not found');},refresh:function(){var anim=typeof arguments[0]!='undefined'?arguments[0]:false;var async=typeof arguments[1]!='undefined'?arguments[1]:false;if(this._m.anim){this._m.next.has=true;this._m.next.args=[anim,async];return false;}\nif(async){clearTimeout(this._m.async.to);var ci=this;this._m.async.to=setTimeout(function(){ci.refresh.apply(ci,ci._m.async.args);delete ci;},0);this._m.async.args=[anim];return false;}\nif(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'main');var l='';if(this.layout.constructor==Function)l=this.layout.call(this);else l=this.layout;this._cl=this.layouts[l];this.state.layout=l;this._compileTemplate(this._cl,this.edge);var cEle=$(this.contId);var html=A5.u.template.expand(this.data,{template:this._cl._t[this.edge]},{state:this.state},this);var animDo=false;var cn='class=\"'+this[this.edge+'ClassName']+'\" ';var hCSS='';if(this.edge=='left'||this.edge=='right')hCSS=' height: 100%;';if(anim){if(typeof anim!='object')anim={type:anim,duration:500};if(!anim.tween)anim.tween='ease-in-out';if(anim.type.indexOf('-in')!=-1||anim.type.indexOf('-out')!=-1||anim.type.indexOf('-before')!=-1||anim.type.indexOf('-after')!=-1){if(this.edge=='top'){anim.type=anim.type.replace('-in','-top').replace('-out','-bottom').replace('-before','-left').replace('-after','-right');}else if(this.edge=='bottom'){anim.type=anim.type.replace('-in','-bottom').replace('-out','-top').replace('-before','-left').replace('-after','-right');}else if(this.edge=='left'){anim.type=anim.type.replace('-in','-left').replace('-out','-right').replace('-before','-top').replace('-after','-bottom');}else if(this.edge=='right'){anim.type=anim.type.replace('-in','-right').replace('-out','-left').replace('-before','-top').replace('-after','-bottom');}}\nvar oldHTML='';var ccEle=$(this.contId+'.CONTENT');if(ccEle){oldHTML=ccEle.innerHTML;oldHTML=oldHTML.replace(/id=\"[^\"]+\"/g,'').replace(/a5-item=\"[^\"]+\"/g,'');}\nvar tProp=A5.u.css.properties.transform;var tPropDOM=A5.u.css.properties.transformDOM;var taProp=tProp.replace('transform','transition');if(anim.type.indexOf('slide-')==0){var vals=['0px','100%','0px','-100%'];if(anim.type=='slide-left')vals=['100%','0px','-100%','0px'];else if(anim.type=='slide-right')vals=['-100%','0px','100%','0px'];else if(anim.type=='slide-bottom')vals=['0px','-100%','0px','100%'];var taVal=taProp+': '+tProp+' '+anim.duration+'ms '+anim.tween+';';html='<div '+cn+'id=\"'+this.contId+'.CONTENTOLD\" style=\"position: absolute; width: 100%;'+hCSS+' '+tProp+': '+A5.u.css.transform2D('0px','0px')+'; '+taVal+'\">'+oldHTML+'</div><div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+''+tProp+': '+A5.u.css.transform2D(vals[0],vals[1])+'; '+taVal+'\">'+html+'</div>';animDo=[{p:tPropDOM,v:A5.u.css.transform2D('0px','0px')},{p:tPropDOM,v:A5.u.css.transform2D(vals[2],vals[3])}];}else if(anim.type.indexOf('swap-')==0){var vals=['0px','-100%'];if(anim.type=='swap-left')vals=['-100%','0px'];else if(anim.type=='swap-right')vals=['100%','0px'];else if(anim.type=='swap-bottom')vals=['0px','100%'];var hDur=(anim.duration/2);var taVal=taProp+': '+tProp+' '+hDur+'ms '+anim.tween+';';html='<div '+cn+'id=\"'+this.contId+'.CONTENTOLD\" style=\"position: absolute; width: 100%;'+hCSS+' '+tProp+': '+A5.u.css.transform2D('0px','0px')+'; '+taVal+'\">'+oldHTML+'</div><div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+''+tProp+': '+A5.u.css.transform2D(vals[0],vals[1])+'; '+taVal+' transition-delay: '+hDur+'ms;\">'+html+'</div>';animDo=[{p:tPropDOM,v:A5.u.css.transform2D('0px','0px')},{p:tPropDOM,v:A5.u.css.transform2D(vals[0],vals[1])}];}else if(anim.type=='fade'){var taVal=taProp+': opacity '+anim.duration+'ms '+anim.tween+';';html='<div '+cn+'id=\"'+this.contId+'.CONTENTOLD\" style=\"position: absolute; width: 100%;'+hCSS+' opacity: 1; '+taVal+'\">'+oldHTML+'</div><div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+'opacity: 0; '+taVal+'\">'+html+'</div>';animDo=[{p:'opacity',v:'1'},{p:'opacity',v:'0'}];}else html='<div id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+'\">'+html+'</div>';}else html='<div '+cn+'id=\"'+this.contId+'.CONTENT\" style=\"'+hCSS+'\">'+html+'</div>';if(hCSS=='')cEle.children[0].style.height='';else cEle.children[0].style.height='100%';cEle.children[0].innerHTML=html;this._m.anim=false;if(animDo){var lcEle=$(this.contId+'.CONTENT');var lcoEle=$(this.contId+'.CONTENTOLD');lcEle.offsetWidth;lcEle.style[animDo[0].p]=animDo[0].v;lcoEle.style[animDo[1].p]=animDo[1].v;var ci=this;setTimeout(function(){var ele=$(ci.contId+'.CONTENTOLD');pEle=ele.parentNode;pEle.removeChild(ele);ci._refreshAnimComplete();delete ci;delete ele;delete pEle;},anim.duration);this._m.anim=true;}\nif(this.onDraw.constructor==Function)this.onDraw.call(this,'main',cEle);if(this._d.shown){if(this._d.current.s.isTemplate){if(this._d.current.s.name.substr(0,7)=='layout:'){var dEle=$(this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC');if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'disclosure');var layoutEdge=this._d.current.layoutEdge;var cn='class=\"'+this[layoutEdge+'ClassName']+'\" ';var hCSS='';if(layoutEdge=='left'||layoutEdge=='right')hCSS='height: 100%;';if(hCSS=='')dEle.children[0].style.height='';else dEle.children[0].style.height='100%';dEle.children[0].innerHTML='<div '+cn+' style=\"'+hCSS+'\">'+A5.u.template.expand(this.data,{template:this._cdl._t[layoutEdge]},{state:this.state},this)+'</div>';if(this.onDraw.constructor==Function)this.onDraw.call(this,'disclosure',dEle);}else{var dd=this.disclosures[this._d.current.s.name];var dEle=$(this.contId+'.DISCLOSURE.'+this._d.current.s.name);if(dd.onBeforeDraw.constructor==Function)dd.onBeforeDraw.call(this,dEle);A5.u.element.setContent(dEle,A5.u.template.expand(this.data,{template:dd._t},{state:this.state},this));if(dd.onDraw.constructor==Function)dd.onDraw.call(this,dEle);}}}},action:function(action){if(this.actions[action]){var data=typeof arguments[1]!='undefined'?arguments[1]:false;this.actions[action].call(this,data);}else console.log('ERROR - control bar action \"'+action+'\" not found');},focus:function(name){var iObj=this.items[name];if(iObj){var id=this.contId+'.'+name;var ele=$(id);if(iObj.type=='edit'){if(ele){var part='disclosure';while(ele!=document.body){if(ele.id==this.contId){part='main';break;}\nele=ele.parentNode;}\nif(this.state.edit.shown){var tEle=$(this._e.current.id);tEle.innerHTML=this._e.ele.value;tEle.style.visibility='';}\nthis._e.current={item:iObj,id:id,p:part};if(part=='main')var eEle=this._e.ele;else var eEle=this._e.dEle;eEle.className=iObj.settings.className;$ss(eEle,iObj.settings.style+'; position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');var ev=A5.u.object.get(this.data,iObj.bind.value);eEle.value=ev;this._editPos();eEle.focus();eEle.select();this.state.edit.shown=true;this.state.edit.item=name;this.state.edit.part=part;this.state.edit.path=iObj.bind.value;}}else ele.focus();}},showDisclosure:function(s){if(this._d.shown){this._d.next=s;this.hideDisclosure();}else{var ele=typeof arguments[1]!='undefined'?arguments[1]:false;ele=$(ele);$u.o.assign(s,{name:'',type:'extend',size:false,margin:{top:0,left:0,right:0,bottom:0},animation:true,autoHide:true,className:'',coverClassName:this.disclosure.coverClassName},true);if(typeof s.margin.top!='number')s.margin.top=A5.u.convertUnits(s.margin.top.toString(),'px');if(typeof s.margin.left!='number')s.margin.left=A5.u.convertUnits(s.margin.left.toString(),'px');if(typeof s.margin.right!='number')s.margin.right=A5.u.convertUnits(s.margin.right.toString(),'px');if(typeof s.margin.bottom!='number')s.margin.bottom=A5.u.convertUnits(s.margin.bottom.toString(),'px');var type=s.type;if(type.indexOf('element')!=-1&&!ele){type=type.split('-').shift();if(type=='expand')type='expand-after';}\nthis._cdl=false;var dd=false;if(s.name.substr(0,7)=='layout:'){var dEle=$(this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC');this._cdl=this.layouts[s.name.substr(7)];if(!this._cdl)return false;if(s.className=='')s.className=this.disclosure.defaults.className;s.isTemplate=true;}else{dd=this.disclosures[s.name];if(!dd)return false;var dEle=$(this.contId+'.DISCLOSURE.'+s.name);if(s.className=='')s.className=dd.className;if(dd.type=='template'){s.isTemplate=true;if(typeof dd._t=='undefined'){var tPH='';var tHTML=dd.html;for(var item in this.items){tPH='['+item+']';if(tHTML.indexOf(tPH)!=-1)tHTML=tHTML.split(tPH).join(this.items[item].template);}\ntHTML=tHTML.replace(/A5CONTROLBARITEMSIZE/gi,'width');tHTML=tHTML.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.horizontalClassName);dd._t=A5.u.template.parse(tHTML);}\nif(dd.onBeforeDraw.constructor==Function)dd.onBeforeDraw.call(this,dEle);A5.u.element.setContent(dEle,A5.u.template.expand(this.data,{template:dd._t},{state:this.state},this));if(dd.onDraw.constructor==Function)dd.onDraw.call(this,dEle);}else s.isTemplate=false;}\ndEle.className=s.className;dEle.style.top='';dEle.style.bottom='';dEle.style.left='';dEle.style.right='';dEle.style.width='';dEle.style.height='';if(type=='explicit'){if(s.rectangle.constructor==Function)var rect=s.rectangle.call(this,s,ele);else var rect=s.rectangle;}else var rect=this._getDisclosureRect(type,ele);var layoutEdge=this.edge;if(s.name.substr(0,7)=='layout:'){if(type=='outside-before'||type=='outside-after'||type.split('-').shift()=='screen')layoutEdge=rect.edge;this._compileTemplate(this._cdl,layoutEdge);if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'disclosure');var cn='class=\"'+this[layoutEdge+'ClassName']+'\" ';var hCSS='';if(layoutEdge=='left'||layoutEdge=='right')hCSS='height: 100%;';if(hCSS=='')dEle.children[0].style.height='';else dEle.children[0].style.height='100%';dEle.children[0].innerHTML='<div '+cn+' style=\"'+hCSS+'\">'+A5.u.template.expand(this.data,{template:this._cdl._t[layoutEdge]},{state:this.state},this)+'</div>';if(this.onDraw.constructor==Function)this.onDraw.call(this,'disclosure',dEle);}\nvar dcEle=this._d.ele.children[0];if(typeof rect.className!='undefined')dcEle.className=rect.className;else dcEle.className='';dcEle.style.top=(rect.top+s.margin.top)+'px';dcEle.style.bottom=(rect.bottom+s.margin.bottom)+'px';dcEle.style.left=(rect.left+s.margin.left)+'px';dcEle.style.right=(rect.right+s.margin.right)+'px';var setMargin=false;dEle.style[rect.edge]='0px';dEle.style.marginLeft='';dEle.style.marginTop='';if(rect.fill=='both'||s.size=='fill'){dEle.style.top='0px';dEle.style.bottom='0px';dEle.style.left='0px';dEle.style.right='0px';}else if(rect.fill=='width'){dEle.style.left='0px';dEle.style.right='0px';}else if(rect.fill=='height'){dEle.style.top='0px';dEle.style.bottom='0px';}else{if(!rect.align)rect.align='middle';if(rect.align=='before'){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.left='0px';else dEle.style.top='0px';}else if(rect.align=='after'){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.right='0px';else dEle.style.bottom='0px';}else{if(rect.edge=='top'||rect.edge=='bottom')dEle.style.left='50%';else dEle.style.top='50%';setMargin=true;}}\nvar startTrans='';if(rect.edge=='top'){startTrans=A5.u.css.transform2D('0px','-100%');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.height=s.size;}}else if(rect.edge=='bottom'){startTrans=A5.u.css.transform2D('0px','100%');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.height=s.size;}}else if(rect.edge=='left'){startTrans=A5.u.css.transform2D('-100%','0px');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.width=s.size;}}else if(rect.edge=='right'){startTrans=A5.u.css.transform2D('100%','0px');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.width=s.size;}}\ndEle.style.display='';if(type.split('-').shift()=='expand'&&!s.size)this._d.ele.className=this.disclosuresClassName+' '+s.coverClassName+' A5ControlBarCollapse';else this._d.ele.className=this.disclosuresClassName+' '+s.coverClassName;var dur=this.disclosure.animation.duration;var tween=this.disclosure.animation.tween;var completeDelay=false;if(s.animation){if(typeof s.animation=='object'){if(s.animation.duration)dur=s.animation.duration;if(s.animation.tween)tween=s.animation.tween;}\nvar cssDOMProp=A5.u.css.properties.transformDOM;var cssAnimProp=A5.u.css.properties.transitionDOM;dEle.style[cssDOMProp]=startTrans;dEle.style[cssAnimProp]='';this._d.ele.style.display='';dEle.offsetHeight;dEle.style[cssAnimProp]=A5.u.css.properties.transform+' '+dur+'ms '+tween;dEle.style[cssDOMProp]=A5.u.css.transform2D('0px','0px');completeDelay=true;}else{var cssDOMProp=A5.u.css.properties.transformDOM;var cssAnimProp=A5.u.css.properties.transitionDOM;dEle.style[cssDOMProp]=A5.u.css.transform2D('0px','0px');dEle.style[cssAnimProp]='';this._d.ele.style.display='';dEle.offsetHeight;dEle.style[cssAnimProp]=A5.u.css.properties.transform+' '+dur+'ms '+tween;}\nif(setMargin){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.marginLeft='-'+(dEle.offsetWidth/2)+'px';else dEle.style.marginTop='-'+(dEle.offsetHeight/2)+'px';}\nvar eleId=false\nif(ele)eleId=ele.id;this._d.current={s:s,eleId:eleId,dEle:dEle,trans:startTrans,dur:dur,layoutEdge:layoutEdge,internalShow:false};this._d.next=false;this._d.shown=true;var dbcEle=$(this.contId+'.DISCLOSURE.CLOSE');dbcEle.style.display='none';if(this._d.internalShow&&ele){this._d.current.internalShow=true;var eBRect=ele.getBoundingClientRect();var tOff=0;var lOff=0;if(this.disclosure.container!=''){var cEle=$(this.disclosure.container);if(cEle){var ceBRect=cEle.getBoundingClientRect();tOff=ceBRect.top;lOff=ceBRect.left;}}\ndbcEle.style.top=(eBRect.top-tOff)+'px';dbcEle.style.left=(eBRect.left-lOff)+'px';dbcEle.style.width=eBRect.width+'px';dbcEle.style.height=eBRect.height+'px';dbcEle.style.display='block';}\nthis.state.disclosure.shown=true;this.state.disclosure.name=s.name;this.state.disclosure.type=type;this.state.disclosure.edge=layoutEdge;if(dd){$e.execute(dEle,'a5resize');if(dd.onShow.constructor==Function)dd.onShow.call(this,dEle);if(dd.onSize.constructor==Function)dd.onSize.call(this,dEle);if(completeDelay){var ci=this;setTimeout(function(){ci._showDisclosureComplete();delete ci;},dur+10);}else this._showDisclosureComplete();}}},hideDisclosure:function(){if(this._d.shown){if(this.state.edit.shown&&this.state.edit.part!='main'){this._e.dEle.blur();this._editBlur.call(this._e.dEle,false,this);}\nvar anim=typeof arguments[0]!='undefined'?arguments[0]:true;var dur=0;if(anim){this._d.current.dEle.style[A5.u.css.properties.transformDOM]=this._d.current.trans;dur=this._d.current.dur;}\nclearTimeout(this._hdcTO);var ci=this;this._hdcTO=setTimeout(function(){ci._hideDisclosureComplete();delete ci;},dur);}},resizeDisclosure:function(){if(this._d.shown){var s=this._d.current.s;var type=s.type\nif(type=='explicit'){if(s.rectangle.constructor==Function)var rect=s.rectangle.call(this,s,$(this._d.current.eleId));else var rect=s.rectangle;}else var rect=this._getDisclosureRect(type,$(this._d.current.eleId));var dcEle=this._d.ele.children[0];dcEle.style.top=(rect.top+s.margin.top)+'px';dcEle.style.bottom=(rect.bottom+s.margin.bottom)+'px';dcEle.style.left=(rect.left+s.margin.left)+'px';dcEle.style.right=(rect.right+s.margin.right)+'px';var dd=this.disclosures[s.name];if(dd){$e.execute(this._d.current.dEle,'a5resize');if(dd.onSize.constructor==Function)dd.onSize.call(this,this._d.current.dEle);}\nif(this._d.current.internalShow){var dbcEle=$(this.contId+'.DISCLOSURE.CLOSE');var eBRect=$(this._d.current.eleId).getBoundingClientRect();var tOff=0;var lOff=0;if(this.disclosure.container!=''){var cEle=$(this.disclosure.container);if(cEle){var ceBRect=cEle.getBoundingClientRect();tOff=ceBRect.top;lOff=ceBRect.left;}}\ndbcEle.style.top=(eBRect.top-tOff)+'px';dbcEle.style.left=(eBRect.left-lOff)+'px';dbcEle.style.width=eBRect.width+'px';dbcEle.style.height=eBRect.height+'px';}}},_getDisclosureRect:function(type,ele){var rect={top:0,left:0,right:0,bottom:0,edge:this.edge,fill:'',className:''};var cBRect=$(this.contId).getBoundingClientRect();var eBRect=false;if(ele)eBRect=ele.getBoundingClientRect();if(this.disclosure.container!=''){var tBRect=$(this.disclosure.container).getBoundingClientRect();var leftOff=tBRect.left;var topOff=tBRect.top;var docWidth=tBRect.width;var docHeight=tBRect.height;}else{var leftOff=0;var topOff=0;var docWidth=document.documentElement.clientWidth;var docHeight=document.documentElement.clientHeight;}\nif(type.split('-').shift()=='expand'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;if(this.edge=='top'||this.edge=='bottom'){rect.fill='height';if(type=='expand-before'){rect.edge='left';}else if(type=='expand-after'){rect.edge='right';}else if(type=='expand-element'||type=='expand-element-cover'){if(eBRect.left>(cBRect.left+(cBRect.width/2))){rect.edge='right';if(type=='expand-element')rect.right=(docWidth-eBRect.left+leftOff);else rect.right=(docWidth-eBRect.right+leftOff);}else{rect.edge='left';if(type=='expand-element')rect.left=eBRect.right-leftOff;else rect.left=eBRect.left-leftOff;}}}else{rect.fill='width';if(type=='expand-before'){rect.edge='top';}else if(type=='expand-after'){rect.edge='bottom';}else if(type=='expand-element'||type=='expand-element-cover'){if(eBRect.top>(cBRect.top+(cBRect.height/2))){rect.edge='bottom';if(type=='expand-element')rect.bottom=(docHeight-eBRect.top+topOff);else rect.bottom=(docHeight-eBRect.bottom+topOff);}else{rect.edge='top';if(type=='expand-element')rect.top=eBRect.bottom-topOff;else rect.top=eBRect.top-topOff;}}}\nrect.className=this.disclosure.expand[rect.edge+'ClassName'];}else if(type.split('-').shift()=='flyout'){if(this.edge=='top'||this.edge=='bottom'){if(this.edge=='top'){if(type=='flyout-element')rect.top=eBRect.bottom-topOff;else if(type=='flyout-element-cover')rect.top=eBRect.top-topOff;else rect.top=cBRect.bottom-topOff;}else{if(type=='flyout-element')rect.bottom=docHeight-eBRect.top+topOff;else if(type=='flyout-element-cover')rect.bottom=docHeight-eBRect.bottom+topOff;else rect.bottom=docHeight-cBRect.top+topOff;}\nif(eBRect.left>(cBRect.left+(cBRect.width/2))){rect.align='after';rect.right=(docWidth-eBRect.right+leftOff);}else{rect.align='before';rect.left=eBRect.left-leftOff;}}else{if(this.edge=='left'){if(type=='flyout-element')rect.left=eBRect.right-leftOff;else if(type=='flyout-element-cover')rect.left=eBRect.left-leftOff;else rect.left=cBRect.right-leftOff;}else{if(type=='flyout-element')rect.right=docWidth-eBRect.left+leftOff;else if(type=='flyout-element-cover')rect.right=docWidth-eBRect.right+leftOff;else rect.right=docWidth-cBRect.left+leftOff;}\nif(eBRect.top>(cBRect.top+(cBRect.height/2))){rect.align='after';rect.bottom=(docHeight-eBRect.bottom+topOff);}else{rect.align='before';rect.top=eBRect.top-topOff;}}}else if(type=='cover'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='both';rect.className=this.disclosure.cover[rect.edge+'ClassName'];}else if(type.split('-').shift()=='screen'){rect.edge=type.split('-').pop();if(rect.edge=='left'||rect.edge=='right')rect.fill='height';else rect.fill='width';}else{if(this.edge=='top'){rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='width';if(type=='extend-element'){rect.top=eBRect.bottom-topOff;}else if(type=='extend-element-cover'){rect.top=eBRect.top-topOff;}else{rect.top=cBRect.bottom-topOff;if(type=='outside-before'){rect.fill='height';rect.edge='left';}else if(type=='outside-after'){rect.fill='height';rect.edge='right';}}}else if(this.edge=='bottom'){rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='width';if(type=='extend-element'){rect.bottom=docHeight-eBRect.top+topOff;}else if(type=='extend-element-cover'){rect.bottom=docHeight-eBRect.bottom+topOff;}else{rect.bottom=docHeight-cBRect.top+topOff;if(type=='outside-before'){rect.fill='height';rect.edge='left';}else if(type=='outside-after'){rect.fill='height';rect.edge='right';}}}else if(this.edge=='left'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.fill='height';if(type=='extend-element'){rect.left=eBRect.right-leftOff;}else if(type=='extend-element-cover'){rect.left=eBRect.left-leftOff;}else{rect.left=cBRect.right-leftOff;if(type=='outside-before'){rect.fill='width';rect.edge='top';}else if(type=='outside-after'){rect.fill='width';rect.edge='bottom';}}}else if(this.edge=='right'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.fill='height';if(type=='extend-element'){rect.right=docWidth-eBRect.left+leftOff;}else if(type=='extend-element-cover'){rect.right=docWidth-eBRect.right+leftOff;}else{rect.right=docWidth-cBRect.left+leftOff;if(type=='outside-before'){rect.fill='width';rect.edge='top';}else if(type=='outside-after'){rect.fill='width';rect.edge='bottom';}}}\nrect.className=this.disclosure.extend[rect.edge+'ClassName'];}\nreturn rect;},_showDisclosureComplete:function(){if(this._d.shown){var dd=this.disclosures[this._d.current.s.name];if(dd){if(dd.onShowComplete.constructor==Function)dd.onShowComplete.call(this,this._d.current.dEle);}}},_hideDisclosureComplete:function(){if(this._d.shown){this._d.shown=false;this.state.disclosure.shown=false;this._d.current.dEle.style.display='none';var dd=this.disclosures[this._d.current.s.name];if(dd){if(dd.onHide.constructor==Function)dd.onHide.call(this,this._d.current.dEle);}\nif(this._d.next){this.showDisclosure(this._d.next,this._d.current.eleId);}else{this._d.ele.style.display='none';this._d.current=false;}\nthis.refresh();}},_refreshAnimComplete:function(){this._m.anim=false;if(this._m.next.has){this._m.next.has=false;this.refresh.apply(this,this._m.next.args);delete this._m.next.args;}},_relayout:function(){if(this._d.shown){var ci=this\nclearTimeout(this._rdTO);this._rdTO=setTimeout(function(){ci.resizeDisclosure();delete ci},50);}\nif(this._e.shown){var ci=this\nclearTimeout(this._reTO);this._reTO=setTimeout(function(){ci._editPos();delete ci},50);}},_disClick:function(e,ci){if(ci._d.current){var cEle=$(ci.contId);var coor=$e.getCoors(e);var ele=document.elementFromPoint(coor.clientX,coor.clientY);if(!ele)return true;while(ele!=cEle&&ele!=document.body){if(ele.hasAttribute('a5-action'))ci.action(ele.getAttribute('a5-action'),{element:ele,event:e});else if(ele==ci._d.current.dEle)return true;ele=ele.parentNode;}\nif(ci._d.current){if(!ci._d.current.s.autoHide)return true;ci.hideDisclosure();}}},_disCloseClick:function(e,ci){ci.hideDisclosure();},_editKeyup:function(e,ci){if(ci._e.current.item.update!='done')ci.update(ci.state.edit.path,this.value);A5.controlBar.items.edit.event.call(ci,'keyup',ci.state.edit.item,this.value,ci.items[ci.state.edit.item],this,e);var keyCode=e.charCode||e.keyCode;if(keyCode==13)this.blur();},_editBlur:function(e,ci){if(document.activeElement!=ci._e.ele&&document.activeElement!=ci._e.dEle){A5.controlBar.items.edit.event.call(ci,'done',ci.state.edit.item,this.value,ci.items[ci.state.edit.item],this,e);this.style.display='none';ci.state.edit.shown=false;ci.state.edit.item='';ci.state.edit.part='';ci.update(ci.state.edit.path,this.value);}},_editPos:function(){var tEle=$(this._e.current.id);if(tEle){if(this._e.current.p=='main')var ele=this._e.ele;else var ele=this._e.dEle;var eBRect=tEle.getBoundingClientRect();var peBRect=ele.parentNode.getBoundingClientRect();ele.style.top=(eBRect.top-peBRect.top)+'px';ele.style.left=(eBRect.left-peBRect.left)+'px';ele.style.width=eBRect.width+'px';ele.style.height=eBRect.height+'px';ele.style.display='';tEle.style.visibility='hidden';this._e.shown=true;}else{this._e.ele.style.display='none';this._e.dEle.style.display='none';this._e.shown=false;}},_down:function(e,ci){var r=ci._aEle(e);ci._startItem=false;if(r){ci._startItem={i:r.i,v:r.v,id:r.ele.id};if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'down',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_up:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'up',r.i,r.v,iObj,r.ele,e);}\nif(A5.u.drag._sDif<$e.abstractEvents.click.scrollMax){var id='';if(ci._startItem){if(ci._startItem.i==r.i){id=r.ele.id;var dShown=ci._d.shown;if(iObj.disclosure){if(iObj.autoHideDisclosure!='auto')ci._d.internalShow=true;ci.showDisclosure(iObj.disclosure,r.ele);ci._d.internalShow=false;}else if(iObj.type=='edit'){if(ci.state.edit.shown){var tEle=$(ci._e.current.id);tEle.innerHTML=ci._e.ele.value;tEle.style.visibility='';}\nci._e.current={item:iObj,id:id,p:r.p};if(r.p=='main')var eEle=ci._e.ele;else var eEle=ci._e.dEle;eEle.className=iObj.settings.className;$ss(eEle,iObj.settings.style+'; position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');var ev=A5.u.object.get(ci.data,iObj.bind.value);eEle.value=ev;ci._editPos();eEle.focus();eEle.select();ci.state.edit.shown=true;ci.state.edit.item=r.i;ci.state.edit.part=r.p;ci.state.edit.path=iObj.bind.value;}\nif(iTObj){if(iTObj.event)iTObj.event.call(ci,'click',r.i,r.v,iObj,r.ele,e);}\nif(dShown&&!ci._d.next&&ci._d.current){if(iObj.autoHideDisclosure){var hide=false;if(iObj.autoHideDisclosure=='always')hide=true;else if(iObj.autoHideDisclosure!='never'&&ci._d.current.s.autoHide)hide=true;if(hide)ci.hideDisclosure();}}}}\nif(this._oid==id)this._isdc=true;else{this._isdc=false;this._oid=id;}}}}}\ndelete r;},_dblClick:function(e,ci){if(!this._isdc)return false;var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'dblclick',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_rClick:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'contextclick',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_downHold:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'downhold',r.i,r.v,iObj,r.ele,e);}}}}\ndelete r;},_swipe:function(e,ci){if(ci._startItem){var r=ci._startItem;var ele=$(r.id);if($ga(ele,'a5-disabled')!='true'&&!ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'swipe',r.i,r.v,iObj,r.ele,e);}}}}},_aEle:function(e){var cEle=$(this.contId);var coor=$e.getCoors(e);var ele=document.elementFromPoint(coor.clientX,coor.clientY);if(!ele)return false;var result=false;var i='';while(ele!=cEle&&ele!=document.body){if(!result){i=$ga(ele,'a5-item');if(i!=null&&i!=''){var v=this._getValue(ele);result={i:i,v:v,ele:ele,p:'disclosure'};}}\nele=ele.parentNode;}\nif(ele==cEle&&result)result.p='main';return result;},_getValue:function(ele){var v=$ga(ele,'a5-value');if(v==''||v==null)v=ele.id;return v;},_bindEvents:function(ele){var egName='CONTROLBAR.'+this.contId;$e.add(ele,A5.d.evnts.dblClick,this._dblClick,this,false,egName);$e.add(ele,'contextmenu',this._rClick,this,false,egName);$e.add(ele,A5.d.evnts.down,this._down,this,false,egName);$e.add(ele,A5.d.evnts.up,this._up,this,false,egName);$e.add(ele,'abstractdownhold',this._downHold,this,false,egName);$e.add(ele,'abstractswipe',this._swipe,this,false,egName);},_compileTemplate:function(cl,edge){if(typeof cl._t=='undefined')cl._t={};if(typeof cl._t[edge]=='undefined'){var tLines=[];var l=null;var ti=null;var cn='';var temp=[];var name='';var tHTML='';var tPH='';for(var i=0;i<cl.lines.length;i++){l=cl.lines[i];$u.o.assign(l,A5.controlBar._.lDefs,true);cn='A5ControlBarLine';if(l.type!='custom'){if(l.middle.items.length==0){if(l.before.items.length==0)cn='A5ControlBarLine A5ControlBarLineAfter';else cn='A5ControlBarLine A5ControlBarLineBefore';}}else cn='A5ControlBarLineCust';temp=['<div class=\"'+cn+' '+l.className+'\" style=\"'+l.style+'\">'];if(l.type=='custom'){tHTML=l.html;for(var item in this.items){tPH='['+item+']';if(tHTML.indexOf(tPH)!=-1)tHTML=tHTML.split(tPH).join(this.items[item].template);}\ntemp.push(tHTML);}else{if(l.before.items.length!=0){temp.push('<div class=\"A5ControlBarLineContentBefore\">&#65279;');for(var k=0;k<l.before.items.length;k++){name=l.before.items[k];if(name=='-'){temp.push('<div class=\"A5ControlBarItem A5CONTROLBARSEPCLASSNAME\">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class=\"A5ControlBarItem\" style=\"A5CONTROLBARITEMSIZE: '+name+';\"></div>');}else if(this.items[name])temp.push(this.items[name].template);}\ntemp.push('</div>');}\nif(l.middle.items.length!=0){temp.push('<div class=\"A5ControlBarLineContentMiddle\">&#65279;');for(var k=0;k<l.middle.items.length;k++){name=l.middle.items[k];if(name=='-'){temp.push('<div class=\"A5ControlBarItem A5CONTROLBARSEPCLASSNAME\">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class=\"A5ControlBarItem\" style=\"A5CONTROLBARITEMSIZE: '+name+';\"></div>');}else if(this.items[name])temp.push(this.items[name].template);}\ntemp.push('</div>');}\nif(l.after.items.length!=0){temp.push('<div class=\"A5ControlBarLineContentAfter\">&#65279;');for(var k=0;k<l.after.items.length;k++){name=l.after.items[k];if(name=='-'){temp.push('<div class=\"A5ControlBarItem A5CONTROLBARSEPCLASSNAME\">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class=\"A5ControlBarItem\" style=\"A5CONTROLBARITEMSIZE: '+name+';\"></div>');}else if(this.items[name])temp.push(this.items[name].template);}\ntemp.push('</div>');}}\ntemp.push('</div>');if(l.bind.show!=''){temp.unshift('{*if '+l.bind.show+'}')\ntemp.push('{*endif}');}\ntLines.push(temp.join(''));}\nif(edge=='left'){tLines.unshift('<div class=\"A5ControlBarVert\">');tLines.push('</div>');}else if(edge=='bottom'){tLines.reverse();tLines.unshift('<div class=\"A5ControlBarHorz\">');tLines.push('</div>');}else if(edge=='right'){tLines.reverse();tLines.unshift('<div class=\"A5ControlBarVert\">');tLines.push('</div>');}else{tLines.unshift('<div class=\"A5ControlBarHorz\">');tLines.push('</div>');}\ntLines=tLines.join('');if(edge=='left'||edge=='right'){tLines=tLines.replace(/A5CONTROLBARITEMSIZE/gi,'height');tLines=tLines.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.verticalClassName);}else{tLines=tLines.replace(/A5CONTROLBARITEMSIZE/gi,'width');tLines=tLines.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.horizontalClassName);}\ncl._t[edge]=A5.u.template.parse(tLines);}}});};;__replaceatruntime_controlbardefaultcontainer\nA5._windowDefaults={title:{tools:{defaults:{'close':{action:'close',name:'close',image:'images/$$window.button.close.png.a5image'}}}}}\nA5.serverSideDateFormat = 'dd-MM-yyyy';\nif(typeof {UXPRERENDEREDALIAS}_DlgObj == 'object') {UXPRERENDEREDALIAS}_DlgObj._destroy();\nwindow['{UXPRERENDEREDALIAS}_DlgObj'] = new A5.DialogComponentHelper('{UXPRERENDEREDALIAS}',{\n\tajaxURL: '{UXPRERENDERAJAXURL}',\n\t_embeddedMode: false,\n\t_livePreviewInBuilder: false,\n\tcomponentGUID: 'efbf6da1-ab3a-40d2-b3fc-e0826f3f0662',\n\tcolumnInfo: {'DROPDOWNBOX1': {info: {controlType: 'DropdownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMES_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMES_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CANTMES_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'NOCOMENZADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ENCURSO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPLETADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TERMINADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADOMESACTUAL': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADO_3': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADO_2': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PREFACTURADO_1': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }},\n\toriginalValues: [{\n\t'CANTMESACTUAL': 'session.cantMesActual',\n\t'CANTMES_1': 'session.cantMes_1',\n\t'CANTMES_2': 'session.cantMes_2',\n\t'CANTMES_3': 'session.cantMes_3',\n\t'NOCOMENZADOMESACTUAL': 'session.noComenzadoMesActual',\n\t'NOCOMENZADO_1': 'session.noComenzado_1',\n\t'NOCOMENZADO_2': 'session.noComenzado_2',\n\t'NOCOMENZADO_3': 'session.noComenzado_3',\n\t'ENCURSOMESACTUAL': 'session.enCursoMesActual',\n\t'ENCURSO_1': 'session.enCurso_1',\n\t'ENCURSO_2': 'session.enCurso_2',\n\t'ENCURSO_3': 'session.enCurso_3',\n\t'COMPLETADOMESACTUAL': 'session.completadoMesActual',\n\t'COMPLETADO_1': 'session.completado_1',\n\t'COMPLETADO_2': 'session.completado_2',\n\t'COMPLETADO_3': 'session.completado_3',\n\t'TERMINADOMESACTUAL': 'session.terminadoMesActual',\n\t'TERMINADO_3': 'session.terminado_3',\n\t'TERMINADO_2': 'session.terminado_2',\n\t'TERMINADO_1': 'session.terminado_1',\n\t'PREFACTURADOMESACTUAL': 'session.prefacturadoMesActual',\n\t'PREFACTURADO_3': 'session.prefacturado_3',\n\t'PREFACTURADO_2': 'session.prefacturado_2',\n\t'PREFACTURADO_1': 'session.prefacturado_1',\n\t'DROPDOWNBOX1': ''\n}],\n\tdefaultValues: {\n\tCANTMESACTUAL: 'session.cantMesActual',\n\tCANTMES_1: 'session.cantMes_1',\n\tCANTMES_2: 'session.cantMes_2',\n\tCANTMES_3: 'session.cantMes_3',\n\tNOCOMENZADOMESACTUAL: 'session.noComenzadoMesActual',\n\tNOCOMENZADO_1: 'session.noComenzado_1',\n\tNOCOMENZADO_2: 'session.noComenzado_2',\n\tNOCOMENZADO_3: 'session.noComenzado_3',\n\tENCURSOMESACTUAL: 'session.enCursoMesActual',\n\tENCURSO_1: 'session.enCurso_1',\n\tENCURSO_2: 'session.enCurso_2',\n\tENCURSO_3: 'session.enCurso_3',\n\tCOMPLETADOMESACTUAL: 'session.completadoMesActual',\n\tCOMPLETADO_1: 'session.completado_1',\n\tCOMPLETADO_2: 'session.completado_2',\n\tCOMPLETADO_3: 'session.completado_3',\n\tTERMINADOMESACTUAL: 'session.terminadoMesActual',\n\tTERMINADO_3: 'session.terminado_3',\n\tTERMINADO_2: 'session.terminado_2',\n\tTERMINADO_1: 'session.terminado_1',\n\tPREFACTURADOMESACTUAL: 'session.prefacturadoMesActual',\n\tPREFACTURADO_3: 'session.prefacturado_3',\n\tPREFACTURADO_2: 'session.prefacturado_2',\n\tPREFACTURADO_1: 'session.prefacturado_1',\n\tDROPDOWNBOX1: ''\n},\n\tdatePickerMonthNames: ['January','February','March','April','May','June','July','August','September','October','November','December'],\n\tdatePickerDayNames: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],\n\tdatePickerTodayButton: 'Today',\n\tdatePickerCloseButton: '',\n\tdatePickerFirstDayOfWeek: 1,\n\tresetFormMessage: 'Are you sure you want to reset the form?',\n\tresetFormTitle: 'Warning',\n\tresetFormIcon: 'css/GrBlue/MessageQuestion.png',\n\tdirtyFormMessage: 'You must first save your changes or cancel changes by clicking the Reset button.',\n\tdirtyFormTitle: 'Notice',\n\tdirtyFormIcon: 'css/GrBlue/MessageInfo.png',\n\tdeleteRecordDialogTitle: 'Delete Record',\n\tdeleteRecordDialogMessage: 'Are you sure you want to delete this record?',\t\n\tssDateFormat: 'dd-MM-yyyy',\n\tstyleName: 'GrBlue',\n\t_fieldHelpers_DIALOG2: [],\n\tparentComponentAlias: '',\n\tsubmitIfHasClientSideErrors: true, \n\trowErrors: {\n\t\t\t\tshowMessageBox: false,\n\t\t\t\tmessageBoxTitle: 'Error',\n\t\t\t\tstyle: 'color: red; width: 6in; height: 2in;'\n\t\t},\n\tfieldErrors: {\n\t\ttype: 'block', \n\t\tclassName: 'errorText',\n\t\tinputClassName: 'GrBlueEditError',\n\t\tedit: { \n\t\t\tcontainer: { className: 'GrBlueEditBGError'}\n\t\t},\n\t\ticon: 'css/GrBlue/EditError.png',\n\t\tglobal: {\n\t\t\tcontId: '{UXPRERENDEREDALIAS}.GLOBALERRORS',\n\t\t\thoverClassName: 'errorTextHighlight',\n\t\t\thoverInputClassName: 'errorInputHighlight'\n\t\t}\n\t}\n\t});\nA5.__componentObj = {UXPRERENDEREDALIAS}_DlgObj;\n__replaceAtRuntime_SystemAfterInitialize\n__replaceAtRuntime_SystemBeforePrepare\n__replaceDataForRadioOrCheckBoxRenderedAsButtonListAtRuntime__\n;\n\tif(typeof A5.map.defaults == 'undefined') A5.map.defaults = {};\n\tif(typeof A5.map.defaults.staticMap == 'undefined') A5.map.defaults.staticMap = {};\nA5.map.defaults.staticMap.key='AIzaSyCwJ3t4qfu7_Z0VQdc0XrFDse_3mWRQADk';\n{UXPRERENDEREDALIAS}_DlgObj._tabObjects = [];\n{UXPRERENDEREDALIAS}_DlgObj.lookups = {\n};\n{UXPRERENDEREDALIAS}_DlgObj._onOrientationChange =  function(e) {   };\n{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({\n\t\"__dtfmt\": \"dd/MM/yyyy\",\n\t\"__tfmt\": \"\",\n\t\"__dialogGuid\": \"efbf6da1-ab3a-40d2-b3fc-e0826f3f0662\",\n\t\"argumentsBoundToCotrols\": \"\",\n\t\"__sgr\": \"\"\n});\n{UXPRERENDEREDALIAS}_DlgObj._cascadingControls = [];\n{UXPRERENDEREDALIAS}_DlgObj._cascadingControlsChildren = [];\n{UXPRERENDEREDALIAS}_DlgObj.setStateInfo({ });\nA5.msgBox.theme = 'GrBlue';\nA5.msgBox.buttonWidth = '1in';\n{UXPRERENDEREDALIAS}_DlgObj._defaultWindowTitleDirection = 'ltr';\n{UXPRERENDEREDALIAS}_DlgObj._controlContainers = {}\n{UXPRERENDEREDALIAS}_DlgObj._buttons = {};\n{UXPRERENDEREDALIAS}_DlgObj._buttons['BUTTON_1'] = new A5.Button({\n\tlayout: 'text',\n\tstyle: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',\n\thtml: 'Buscar',\n\tonClick: function() { \n},\n\ttheme: 'GrBlue'\n});\n{UXPRERENDEREDALIAS}_DlgObj._buttons['BUTTON_1'].bind('{UXPRERENDEREDALIAS}.V.R1.BUTTON_1');\n{UXPRERENDEREDALIAS}_DlgObj.setVariables({ });\n{UXPRERENDEREDALIAS}_DlgObj._dataBoundControls = [];\n{UXPRERENDEREDALIAS}_DlgObj._primaryTableAlias = '';\n{UXPRERENDEREDALIAS}_DlgObj._hasPanels = false;\n{UXPRERENDEREDALIAS}_DlgObj._hasOnSynchronizeEvent = false;\nA5.__dtfmt = 'dd/MM/yyyy';A5.__tfmt = '';\nA5.__flagWorkingPreview = false;\nA5.__flagIIS = false;\nA5.__flagSimulateIIS = true;\n{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation = function() {\n\tif(typeof {UXPRERENDEREDALIAS}_DlgObj == 'undefined') return '';\n\tvar orientation = {UXPRERENDEREDALIAS}_DlgObj.getOrientation();\n\tif( orientation == 'landscape') {\n\t\t\t//landscape\n\t\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != 'landscape') {\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = 'landscape';\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onOrientationChange',{orientation: 'landscape'});\n\t\t\t}\n\t} else {\n\t\t//portrait\n\t\tif({UXPRERENDEREDALIAS}_DlgObj._orientation != 'portrait') {\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._orientation = 'portrait';\n\t\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onOrientationChange',{orientation: 'portrait'});\n\t\t\t}\n\t}\n}\n\tA5.flags.cordovaLoaded = true;\n\ttry {\n\t\tdocument.addEventListener('deviceready', function() {\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;\n\t\t\t//alert('fire on cordova ready 2')\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onCordovaReady',{});\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onPhoneGapReady',{});\n\t\t\tnavigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {\n\tvar _lastCheckedPosition = null;\n\tvar _locationEventCount = 0;\n\toptions = options || {};\n\toptions.context = this;\n    function _checkLocation(pos) {\n        _lastCheckedPosition = pos;\n        _locationEventCount++;\n        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {\n            clearTimeout(_timerID);\n            navigator.geolocation.clearWatch(_watchID);\n            _foundPosition(pos);\n        } \n    }\n    function _stopLocationCheck() {\n    \t var error = {};\n    \t error.code = 0;\n    \t error.message = 'Timeout: No results';\n        navigator.geolocation.clearWatch(_watchID);\n        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);\n    }\n    function _onError(error) {\n        clearTimeout(_timerID);\n        navigator.geolocation.clearWatch(_watchID);\n        geolocationError.call(options.context,error);\n    }\n    function _foundPosition(pos) {\n        geolocationSuccess.call(options.context,pos);\n    }\n    if (!options.maxWait) {            \n    \toptions.maxWait = 10000; \n    }\t\n    if (!options.desiredAccuracy) {\n    \t  options.desiredAccuracy = 20; \n    }\n    if (!options.timeout) {\n        options.timeout = options.maxWait;\n\t }\n\t if (!options.ignoreResultCount) {\n\t \t\toptions.ignoreResultCount = 1;\n\t }\n    options.maximumAge = 0; \n    options.enableHighAccuracy = true; \n    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);\n    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); \n}\n\t\t} , false);\n\t\t{UXPRERENDEREDALIAS}_DlgObj._onPhoneGapReady = function() { \n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._executePhoneGapDelayed(); \n\t\t\tif({UXPRERENDEREDALIAS}_DlgObj) {\n\t\t\t\tvar obj = {UXPRERENDEREDALIAS}_DlgObj.getPanelObject();\n\t\t\t\tobj.resize();\n\t\t\t};\n\t\t}\n\t}\n\tcatch(err) {}\n{UXPRERENDEREDALIAS}_DlgObj._waitGif = 'css/A5System/Images/wait.gif';\n;\nif(typeof A5 == 'undefined') A5 = {};\nA5.makeArrayOfArrays = function() {\n\tvar _t = null;\n\t\tvar _r = [];\n\t\tfor(var i = 0; i < arguments[0].length; i++) {\n\t\t\t_t = [];\n\t\t\tfor(var k = 0; k < arguments.length; k++) {\n\t\t\t\t_t.push(arguments[k][i])\n\t\t\t}\n\t\t\t_r.push(_t);\n\t\t}\n\treturn _r;\n}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartResize =  function(chartId,width,height) {\n\t\tvar method = arguments[3];\n\t\tvar args = arguments[4];\n\t\tvar ele = this.getPointer(chartId);\n\t\tif(!ele) return false;\n\t\tvar ele2 = $(ele.id + '.JSCHART');\n\t\tif(!(width == '' || width == null || typeof width == 'undefined')) ele2.style.width = width;\n\t\tif(!(height == '' || height == null || typeof height == 'undefined')) ele2.style.height = height;\n\t\tif(width == '100%') {\n\t\t\tele.style.width = width;\n\t\t}\n\t\tvar obj = this.jsChartRedraw(chartId,method,args);\n\t}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartSetProperties = function(chartId, properties) {\n\t\tvar _dm = null;\n\t\tvar _dmp = null;\n\t\tif(typeof arguments[2] != 'undefined') _dm = arguments[2];\n\t\tif(typeof arguments[3] != 'undefined') _dmp = arguments[3];\n\t\tif(properties.constructor != Array) {\n\t\t\tproperties = [properties];\n\t\t}\n\t\tvar _o = [];\n\t\tfor(var i = 0; i < properties.length; i++) {\n\t\t\t_o.push({ options: properties[i]});\n\t\t}\n\t\tthis.jsChartRedraw(chartId,_dm,_dmp,_o);\n\t}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartRefreshData = function(chartId) {\n\t\tif(chartId.indexOf(',') > -1) {\n\t\t\tchartId = chartId.split(',');\n\t\t}\n\t\tif(typeof chartId == 'string') {\n\t\t\tchartId = [chartId];\n\t\t}\n\t\tvar _ds = [];\n\t\tfor(var j = 0; j < chartId.length; j++) {\n\t\t\tvar obj = this.getControl(chartId[j]);\n\t\t\tif(obj) {\n\t\t\t\tfor(var i = 0; i < obj.length; i++) {\n\t\t\t\t\t_ds.push(this._jsCharts[chartId[j]].dataSeries);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(_ds.toString() == '') {\n\t\t\tfor(var i = 0; i < chartId.length; i++) {\n\t\t\t\tthis.jsChartRedraw(chartId[i]);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\tvar id = this.dialogId;\n\t\tvar _redraw = function() {\n\t\t\tfor(var i = 0; i < chartId.length; i++) {\n\t\t\t\twindow[id + '_DlgObj'].jsChartRedraw(chartId[i]);\n\t\t\t}\n\t\t}\n\t\tvar _data='_seriesNames=' + _ds.join(',');\n\t\tvar _onAjaxError = function() { }\n\t\tvar _onOffline = function() { }\n\t\tvar _onComplete = function() {\n\t\t\t_redraw();\n\t\t}\n\t\tvar obj = {errorFunction: _onAjaxError, onComplete: _onComplete, deviceOfflineFunction: _onOffline};\n\t\tthis.ajaxCallback('','','system:refreshDataSeriesData','',_data,obj);\n\t}\n\t{UXPRERENDEREDALIAS}_DlgObj.jsChartRedraw = function(chartId) {\n\t\tvar obj = this.getControl(chartId);\n\t\tvar method = 'draw';\n\t\tvar flagMethodPassedIn = false;\n\t\tif( !(typeof arguments[1] == 'undefined' || arguments[1] == null)  ) {\n\t\t\tmethod = arguments[1];\n\t\t\tflagMethodPassedIn = true;\n\t\t}\n\t\tvar drawSettings = null;\n\t\tif(typeof arguments[2] != 'undefined') drawSettings = arguments[2];\n\t\tvar _overrides = false;\n\t\tif(typeof arguments[3] != 'undefined') _overrides = arguments[3];\n\t\tif(!obj) return false;\n\t\tfor(var i = 0; i < obj.length; i++) {\n\t\t\tvar _s = this._jsCharts[chartId].settings[i];\n\t\t\tvar type = obj[i].type;\n\t\t\tvar id = _s().id;\n\t\t\tvar ele = $(id);\n\t\t\tif(i == 0) {\n\t\t\t\tdelete ele.__svg__;\n\t\t\t\tele.innerHTML = '';\n\t\t\t}\n\t\t\tif(!flagMethodPassedIn) {\n\t\t\t\tvar method_i = this._jsCharts[chartId].drawMethod[i];\n\t\t\t\tvar methodArgs_i = this._jsCharts[chartId].drawMethodArgument[i];\n\t\t\t\tif(typeof method_i != 'undefined') {\n\t\t\t\t\tmethodLocal = method_i;\n\t\t\t\t} else {\n\t\t\t\t\tmethodLocal = method;\n\t\t\t\t}\n\t\t\t\tif(typeof methodArgs_i != 'undefined') {\n\t\t\t\t\tmethodArgsLocal = methodArgs_i;\n\t\t\t\t} else {\n\t\t\t\t\tmethodArgsLocal = drawSettings;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmethodLocal = method;\n\t\t\t\tmethodArgsLocal = drawSettings;\n\t\t\t}\n\t\t\tvar _settings = _s();\n\t\t\tif(!_overrides || typeof _overrides == 'object') {\n\t\t\t\tvar _o = _overrides[i];\n\t\t\t\tif(typeof _o != 'undefined') {\n\t\t\t\t\t$u.o.assign(_settings,_o);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(type == 'bar') {\n\t\t\t\tobj[i] = new RGraph.SVG.Bar(_settings);\n\t\t\t} else if(type == 'hbar') {\n\t\t\t\tobj[i] = new RGraph.SVG.HBar(_settings);\n\t\t\t} else if(type == 'scatter') {\n\t\t\t\tobj[i] = new RGraph.SVG.Scatter(_settings);\n\t\t\t} else if(type == 'pie') {\n\t\t\t\tobj[i] = new RGraph.SVG.Pie(_settings);\n\t\t\t} else if(type == 'line') {\n\t\t\t\tobj[i] = new RGraph.SVG.Line(_settings);\n\t\t\t} else if(type == 'waterfall') {\n\t\t\t\tobj[i] = new RGraph.SVG.Waterfall(_settings);\n\t\t\t} else if(type == 'semicircularprogress') {\n\t\t\t\tobj[i] = new RGraph.SVG.SemiCircularProgress(_settings);\n\t\t\t}\n\t\t\tobj[i][methodLocal](methodArgsLocal);\n\t\t}\n\t}\n;\n    /**\n    * o--------------------------------------------------------------------------------o\n    * | This file is part of the RGraph package - you can learn more at:               |\n    * |                                                                                |\n    * |                          http://www.rgraph.net                                 |\n    * |                                                                                |\n    * | RGraph is licensed under the Open Source MIT license. That means that it's     |\n    * | totally free to use and there are no restrictions on what you can do with it!  |\n    * o--------------------------------------------------------------------------------o\n    */\n    RGraph        = window.RGraph || {isRGraph: true,isRGraphSVG: true};\n    RGraph.SVG    = RGraph.SVG    || {};\n    RGraph.SVG.FX = RGraph.SVG.FX || {};\n// Module pattern\n(function (win, doc, undefined)\n{\n    var RG  = RGraph,\n        ua  = navigator.userAgent,\n        ma  = Math;\n    RG.SVG.REG = {\n        store: []\n    };\n    // ObjectRegistry\n    RG.SVG.OR = {objects: []};\n    // Used to categorise trigonometery functions\n    RG.SVG.TRIG        = {};\n    RG.SVG.TRIG.HALFPI = ma.PI * .4999;\n    RG.SVG.TRIG.PI     = RG.SVG.TRIG.HALFPI * 2;\n    RG.SVG.TRIG.TWOPI  = RG.SVG.TRIG.PI * 2;\n    RG.SVG.ISIE = ua.indexOf('rident') > 0;\n    RG.SVG.ISFF = ua.indexOf('irefox') > 0;\n    RG.SVG.events = [];\n    // This allows you to set globalconfiguration values that are copied to\n    // all objects automatically.\n    RG.SVG.GLOBALS = {};\n    RG.SVG.ISFF     = ua.indexOf('Firefox') != -1;\n    RG.SVG.ISOPERA  = ua.indexOf('Opera') != -1;\n    RG.SVG.ISCHROME = ua.indexOf('Chrome') != -1;\n    RG.SVG.ISSAFARI = ua.indexOf('Safari') != -1 && !RG.ISCHROME;\n    RG.SVG.ISWEBKIT = ua.indexOf('WebKit') != -1;\n    RG.SVG.ISIE     = ua.indexOf('Trident') > 0 || navigator.userAgent.indexOf('MSIE') > 0;\n    RG.SVG.ISIE6    = ua.indexOf('MSIE 6') > 0;\n    RG.SVG.ISIE7    = ua.indexOf('MSIE 7') > 0;\n    RG.SVG.ISIE8    = ua.indexOf('MSIE 8') > 0;\n    RG.SVG.ISIE9    = ua.indexOf('MSIE 9') > 0;\n    RG.SVG.ISIE10   = ua.indexOf('MSIE 10') > 0;\n    RG.SVG.ISIE11UP = ua.indexOf('MSIE') == -1 && ua.indexOf('Trident') > 0;\n    RG.SVG.ISIE10UP = RG.SVG.ISIE10 || RG.SVG.ISIE11UP;\n    RG.SVG.ISIE9UP  = RG.SVG.ISIE9 || RG.SVG.ISIE10UP;\n    //\n    // Create an SVG tag\n    //\n    RG.SVG.createSVG = function (opt)\n    {\n        var container = opt.container,\n            obj       = opt.object;\n        if (container.__svg__) {\n            return container.__svg__;\n        }\n        var svg = doc.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n            svg.setAttribute('style', 'top: 0; left: 0; position: absolute');\n            svg.setAttribute('width', container.offsetWidth);\n            svg.setAttribute('height', container.offsetHeight);\n            svg.setAttribute('version', '1.1');\n            svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", 'xmlns', 'http://www.w3.org/2000/svg');\n            svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n        container.appendChild(svg);\n        container.__svg__ = svg;\n        var style = getComputedStyle(container);\n        if (style.position !== 'absolute' && style.position !== 'fixed' && style.position !== 'sticky') {\n            container.style.position = 'relative';\n        }\n        // Add the groups that facilitate \"background layers\"\n        var numLayers = 10;\n        for (var i=1; i<=numLayers; ++i) {\n            var group = RG.SVG.create({\n                svg: svg,\n                type: 'g',\n                attr: {\n                    className: 'background' + i\n                }\n            });\n            // Store a reference to the group\n            obj.layers['background' + i] = group;\n            svg['background' + i]        = group;\n        }\n        // Add the group tag to the SVG that contains all of the elements\n        var group = RG.SVG.create({\n            svg: svg,\n            type: 'g',\n            attr: {\n                className: 'all-elements'\n            }\n        });\n        container.__svg__.all = group;\n        return svg;\n    };\n    //\n    // Create a defs tag inside the SVG\n    //\n    RG.SVG.createDefs = function (obj)\n    {\n        if (!obj.svg.defs) {\n            var defs = RG.SVG.create({\n                svg: obj.svg,\n                type: 'defs'\n            });\n            obj.svg.defs = defs;\n        }\n        return defs;\n    };\n    //\n    // Creates a tag depending on the args that you give\n    //\n    //@param opt object The options for the function\n    //\n    RG.SVG.create = function (opt)\n    {\n        var ns  = \"http://www.w3.org/2000/svg\",\n            tag = doc.createElementNS(ns, opt.type);\n        // Add the attributes\n        for (var o in opt.attr) {\n            if (typeof o === 'string') {\n                var name = o;\n                if (o === 'className') {\n                    name = 'class';\n                }\n                if ( (opt.type === 'a' || opt.type === 'image') && o === 'xlink:href') {\n                    tag.setAttributeNS('http://www.w3.org/1999/xlink', o, String(opt.attr[o]));\n                } else {\n                    tag.setAttribute(name, String(opt.attr[o]));\n                }\n            }\n        }\n        // Add the style\n        for (var o in opt.style) {\n            if (typeof o === 'string') {\n                tag.style[o] = String(opt.style[o]);\n            }\n        }\n        if (opt.parent) {\n            opt.parent.appendChild(tag);\n        } else {\n            opt.svg.appendChild(tag);\n        }\n        return tag;\n    };\n    //\n    // Function that adds up all of the offsetLeft and offsetTops to get\n    // X/Y coords for the mouse\n    //\n    //@param object e The event object\n    //@return array   The X/Y coordinate pair representing the mouse\n    //                location in relation to the SVG tag.\n    //\n    RG.SVG.getMouseXY = function(e)\n    {\n        // This is necessary for IE9\n        if (!e.target) {\n            return;\n        }\n        var el = e.target, offsetX = 0, offsetY = 0, x, y;\n        if (typeof el.offsetParent !== 'undefined') { \n            do {\n                offsetX += el.offsetLeft;\n                offsetY += el.offsetTop;\n            } while ((el = el.offsetParent));\n        }\n        x = e.pageX;\n        y = e.pageY;\n        x -= (2 * (parseInt(document.body.style.borderLeftWidth) || 0));\n        y -= (2 * (parseInt(document.body.style.borderTopWidth) || 0));\n        // We return a javascript array with x and y defined\n        return [x, y];\n    };\n    //\n    // Draws an X axis\n    //\n    //@param The chart object\n    //\n    RG.SVG.drawXAxis = function (obj)\n    {\n        var prop = obj.properties;\n        // Draw the axis\n        if (prop.xaxis) {\n            var y = obj.type === 'hbar' ? obj.height - prop.gutterBottom : obj.getYCoord(obj.scale.min < 0 && obj.scale.max < 0 ? obj.scale.max : (obj.scale.min > 0 && obj.scale.max > 0 ? obj.scale.min : 0));\n            var axis = RG.SVG.create({\n                svg: obj.svg,\n                parent: obj.svg.all,\n                type: 'path',\n                attr: {\n                    d: 'M{1} {2} L{3} {4}'.format(\n                        prop.gutterLeft,\n                        y,\n                        obj.width - prop.gutterRight,\n                        y\n                    ),\n                    fill: prop.xaxisColor,\n                    stroke: prop.xaxisColor,\n                    'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                    'shape-rendering': 'crispEdges',\n                    'stroke-linecap': 'square'\n                }\n            });\n            // HBar X axis\n            if (obj.type === 'hbar') {\n                var width  = obj.graphWidth / obj.data.length,\n                    x      = prop.gutterLeft,\n                    startY = (obj.height - prop.gutterBottom),\n                    endY   = (obj.height - prop.gutterBottom) + prop.xaxisTickmarksLength;\n            // Line/Bar/Waterfall/Scatter X axis\n            } else {\n                var width  = obj.graphWidth / obj.data.length,\n                    x      = prop.gutterLeft,\n                    startY = obj.getYCoord(0) - (prop.yaxisMin < 0 ? prop.xaxisTickmarksLength : 0),\n                    endY   = obj.getYCoord(0) + prop.xaxisTickmarksLength;\n                if (obj.scale.min < 0 && obj.scale.max <= 0) {\n                    startY = prop.gutterTop;\n                    endY   = prop.gutterTop - prop.xaxisTickmarksLength;\n                }\n                if (obj.scale.min > 0 && obj.scale.max > 0) {\n                    startY = obj.getYCoord(obj.scale.min);\n                    endY   = obj.getYCoord(obj.scale.min) + prop.xaxisTickmarksLength;\n                }\n            }\n            // Draw the tickmarks\n            if (prop.xaxisTickmarks) {\n                // The HBar uses a scale\n                if (prop.xaxisScale) {\n                    for (var i=0; i<(typeof prop.xaxisLabelsPositionEdgeTickmarksCount === 'number' ? prop.xaxisLabelsPositionEdgeTickmarksCount : (obj.scale.numlabels + (prop.yaxis && prop.xaxisMin === 0 ? 0 : 1))); ++i) {\n                        if (obj.type === 'hbar') {\n                            var dataPoints = obj.data.length;\n                        }\n                        x = prop.gutterLeft + ((i+(prop.yaxis && prop.xaxisMin === 0 ? 1 : 0)) * (obj.graphWidth / obj.scale.numlabels));\n                        // Allow Manual specification of number of tickmarks\n                        if (typeof prop.xaxisLabelsPositionEdgeTickmarksCount === 'number') {\n                            dataPoints = prop.xaxisLabelsPositionEdgeTickmarksCount;\n                            var gap    = (obj.graphWidth / prop.xaxisLabelsPositionEdgeTickmarksCount);\n                            x          = (gap * i) + prop.gutterLeft + gap;\n                        }\n                        RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    x,\n                                    startY,\n                                    x,\n                                    endY\n                                ),\n                                stroke: prop.xaxisColor,\n                                'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                    }\n                } else {\n                    // This style is used by Bar and Scatter charts\n                    if (prop.xaxisLabelsPosition === 'section') {\n                        if (obj.type === 'bar' || obj.type === 'waterfall') {\n                            var dataPoints = obj.data.length;\n                        } else if (obj.type === 'line'){\n                            var dataPoints = obj.data[0].length;\n                        } else if (obj.type === 'scatter') {\n                            var dataPoints = prop.xaxisLabels ? prop.xaxisLabels.length : 10;\n                        }\n                        // Allow Manual specification of number of tickmarks\n                        if (typeof prop.xaxisLabelsPositionSectionTickmarksCount === 'number') {\n                            dataPoints = prop.xaxisLabelsPositionSectionTickmarksCount;\n                        }\n                        for (var i=0; i<dataPoints; ++i) {\n                            x = prop.gutterLeft + ((i+1) * (obj.graphWidth / dataPoints));\n                            RG.SVG.create({\n                                svg: obj.svg,\n                                parent: obj.svg.all,\n                                type: 'path',\n                                attr: {\n                                    d: 'M{1} {2} L{3} {4}'.format(\n                                        x + 0.001,\n                                        startY,\n                                        x,\n                                        endY\n                                    ),\n                                    stroke: prop.xaxisColor,\n                                    'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                                    'shape-rendering': \"crispEdges\"\n                                }\n                            });\n                        }\n                    // This style is used by line charts\n                    } else if (prop.xaxisLabelsPosition === 'edge') {\n                        if (typeof prop.xaxisLabelsPositionEdgeTickmarksCount === 'number') {\n                            var len = prop.xaxisLabelsPositionEdgeTickmarksCount;\n                        } else {\n                            var len = obj.data && obj.data[0] && obj.data[0].length ? obj.data[0].length : 0;\n                        }\n                        for (var i=0; i<len; ++i) {\n                            var gap = ( (obj.graphWidth) / (len - 1)),\n                                x   = prop.gutterLeft + ((i+1) * gap);\n                            RG.SVG.create({\n                                svg: obj.svg,\n                                parent: obj.svg.all,\n                                type: 'path',\n                                attr: {\n                                    d: 'M{1} {2} L{3} {4}'.format(\n                                        x + 0.001,\n                                        startY,\n                                        x,\n                                        endY\n                                    ),\n                                    stroke: prop.xaxisColor,\n                                    'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                                    'shape-rendering': \"crispEdges\"\n                                }\n                            });\n                        }\n                    }\n                }\n                // Draw an extra tick if the Y axis is not being shown\n                if (prop.yaxis === false) {\n                    RG.SVG.create({\n                        svg: obj.svg,\n                        parent: obj.svg.all,\n                        type: 'path',\n                        attr: {\n                            d: 'M{1} {2} L{3} {4}'.format(\n                                prop.gutterLeft + 0.001,\n                                startY,\n                                prop.gutterLeft,\n                                endY\n                            ),\n                            stroke: obj.properties.xaxisColor,\n                            'stroke-width': typeof prop.xaxisLinewidth === 'number' ? prop.xaxisLinewidth : 1,\n                            'shape-rendering': \"crispEdges\",\n                            parent: obj.svg.all,\n                        }\n                    });\n                }\n            }\n        }\n        //\n        // Draw an X axis scale\n        //\n        if (prop.xaxisScale) {\n            if (obj.type === 'scatter') {\n                obj.xscale = RG.SVG.getScale({\n                    object:    obj,\n                    numlabels: prop.xaxisLabelsCount,\n                    unitsPre:  prop.xaxisUnitsPre,\n                    unitsPost: prop.xaxisUnitsPost,\n                    max:       prop.xaxisMax,\n                    min:       prop.xaxisMin,\n                    point:     prop.xaxisPoint,\n                    round:     prop.xaxisRound,\n                    thousand:  prop.xaxisThousand,\n                    decimals:  prop.xaxisDecimals,\n                    strict:    typeof prop.xaxisMax === 'number',\n                    formatter: prop.xaxisFormatter\n                });\n                var segment = obj.graphWidth / prop.xaxisLabelsCount\n                for (var i=0; i<obj.xscale.labels.length; ++i) {\n                    var x = prop.gutterLeft + (segment * i) + segment + prop.xaxisLabelsOffsetx;\n                    var y = (obj.height - prop.gutterBottom) + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                    RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text:   obj.xscale.labels[i],\n                        x:      x,\n                        y:      y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n                // Add the minimum label if labels are enabled\n                if (prop.xaxisLabelsCount > 0) {\n                    var y   = obj.height - prop.gutterBottom + prop.xaxisLabelsOffsety + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10),\n                        str = RG.SVG.numberFormat({\n                            object:     obj,\n                            num:        prop.xaxisMin.toFixed(prop.xaxisDecimals),\n                            prepend:    prop.xaxisUnitsPre,\n                            append:     prop.xaxisUnitsPost,\n                            point:      prop.xaxisPoint,\n                            thousand:   prop.xaxisThousand,\n                            formatter:  prop.xaxisFormatter\n                        });\n                    var text = RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text: typeof prop.xaxisFormatter === 'function' ? (prop.xaxisFormatter)(this, prop.xaxisMin) : str,\n                        x: prop.gutterLeft + prop.xaxisLabelsOffsetx,\n                        y: y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n            // =========================================================================\n            } else {\n                var segment = obj.graphWidth / prop.xaxisLabelsCount,\n                    scale   = obj.scale;\n                for (var i=0; i<scale.labels.length; ++i) {\n                    var x = prop.gutterLeft + (segment * i) + segment + prop.xaxisLabelsOffsetx;\n                    var y = (obj.height - prop.gutterBottom) + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                    RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text:   obj.scale.labels[i],\n                        x:      x,\n                        y:      y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n                // Add the minimum label if labels are enabled\n                if (prop.xaxisLabelsCount > 0) {\n                    var y   = obj.height - prop.gutterBottom + prop.xaxisLabelsOffsety + (prop.xaxis ? prop.xaxisTickmarksLength + 6 : 10),\n                        str = RG.SVG.numberFormat({\n                            object:     obj,\n                            num:        prop.xaxisMin.toFixed(prop.xaxisDecimals),\n                            prepend:    prop.xaxisUnitsPre,\n                            append:     prop.xaxisUnitsPost,\n                            point:      prop.xaxisPoint,\n                            thousand:   prop.xaxisThousand,\n                            formatter:  prop.xaxisFormatter\n                        });\n                    var text = RG.SVG.text({\n                        object: obj,\n                        parent: obj.svg.all,\n                        text: typeof prop.xaxisFormatter === 'function' ? (prop.xaxisFormatter)(this, prop.xaxisMin) : str,\n                        x: prop.gutterLeft + prop.xaxisLabelsOffsetx,\n                        y: y,\n                        halign: 'center',\n                        valign: 'top',\n                        tag:    'labels.xaxis',\n                        font:   prop.xaxisTextFont   || prop.textFont,\n                        size:   prop.xaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                        bold:   prop.xaxisTextBold   || prop.textBold,\n                        italic: prop.xaxisTextItalic || prop.textItalic,\n                        color:  prop.xaxisTextColor  || prop.textColor\n                    });\n                }\n            }\n        //\n        // Draw the X axis labels\n        //\n        } else {\n            if (typeof prop.xaxisLabels === 'object' && !RG.SVG.isNull(prop.xaxisLabels) ) {\n                var angle = prop.xaxisTextAngle;\n                // Loop through the X labels\n                if (prop.xaxisLabelsPosition === 'section') {\n                    var segment = (obj.width - prop.gutterLeft - prop.gutterRight) / prop.xaxisLabels.length;\n                    for (var i=0; i<prop.xaxisLabels.length; ++i) {\n                        var x = prop.gutterLeft + (segment / 2) + (i * segment);\n                        if (obj.scale.max <=0 && obj.scale.min < obj.scale.max) {\n                            var y = prop.gutterTop - (RG.SVG.ISFF ? 5 : 10)  - (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                            var valign = 'bottom';\n                        } else {\n                            var y = obj.height - prop.gutterBottom + (RG.SVG.ISFF ? 5 : 10) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                            var valign = 'top';\n                        }\n                        RG.SVG.text({\n                            object: obj,\n                            parent: obj.svg.all,\n                            text: prop.xaxisLabels[i],\n                            x: x + prop.xaxisLabelsOffsetx,\n                            y: y,\n                            valign: (typeof angle === 'number' && angle) ? 'center' : valign,\n                            halign: (typeof angle === 'number' && angle) ? 'right' : 'center',\n                            angle: angle,\n                            tag:    'labels.xaxis',\n                            size:   prop.xaxisTextSize   || prop.textSize,\n                            italic: prop.xaxisTextItalic || prop.textItalic,\n                            font:   prop.xaxisTextFont   || prop.textFont,\n                            bold:   prop.xaxisTextBold   || prop.textBold,\n                            color:  prop.xaxisTextColor  || prop.textColor\n                        });\n                    }\n                } else if (prop.xaxisLabelsPosition === 'edge') {\n                    if (obj.type === 'line') {\n                        var hmargin = prop.hmargin;\n                    } else {\n                        var hmargin = 0;\n                    }\n                    var segment = (obj.graphWidth - hmargin - hmargin) / (prop.xaxisLabels.length - 1);\n                    for (var i=0; i<prop.xaxisLabels.length; ++i) {\n                        var x = prop.gutterLeft + (i * segment) + hmargin;\n                        if (obj.scale.max <= 0 && obj.scale.min < 0) {\n                            valign = 'bottom';\n                            y = prop.gutterTop - (RG.SVG.ISFF ? 5 : 10) - (prop.xaxisTickmarksLength - 5)  - (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety\n                        } else {\n                            valign = 'top';\n                            y = obj.height - prop.gutterBottom + (RG.SVG.ISFF ? 5 : 10) + (prop.xaxisTickmarksLength - 5) + (prop.xaxisLinewidth || 1) + prop.xaxisLabelsOffsety;\n                        }\n                        RG.SVG.text({\n                            object: obj,\n                            parent: obj.svg.all,\n                            text: prop.xaxisLabels[i],\n                            x: x + prop.xaxisLabelsOffsetx,\n                            y: y,\n                            valign: (typeof angle === 'number' && angle) ? 'center' : valign,\n                            halign: (typeof angle === 'number' && angle) ? 'right' : 'center',\n                            angle: angle,\n                            tag:    'labels.xaxis',\n                            size:   prop.xaxisTextSize   ||  prop.textSize,\n                            italic: prop.xaxisTextItalic ||  prop.textItalic,\n                            font:   prop.xaxisTextFont   ||  prop.textFont,\n                            bold:   prop.xaxisTextBold   ||  prop.textBold,\n                            color:  prop.xaxisTextColor  ||  prop.textColor\n                        });\n                    }\n                }\n            }\n        }\n    };\n    //\n    // Draws an Y axis\n    //\n    //@param The chart object\n    //\n    RG.SVG.drawYAxis = function (obj)\n    {\n        var prop = obj.properties;\n        if (prop.yaxis) {\n            // The X coordinate that the Y axis is positioned at\n            if (obj.type === 'hbar') {\n                var x = obj.getXCoord(prop.xaxisMin > 0 ? prop.xaxisMin : 0);\n                if (prop.xaxisMin < 0 && prop.xaxisMax <= 0) {\n                    x = obj.getXCoord(prop.xaxisMax);\n                }\n            } else {\n                var x = prop.gutterLeft;\n            }\n            var axis = RG.SVG.create({\n                svg: obj.svg,\n                parent: obj.svg.all,\n                type: 'path',\n                attr: {\n                    d: 'M{1} {2} L{3} {4}'.format(\n                        x,\n                        prop.gutterTop,\n                        x,\n                        obj.height - prop.gutterBottom\n                    ),\n                    stroke: prop.yaxisColor,\n                    fill: prop.yaxisColor,\n                    'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                    'shape-rendering': \"crispEdges\",\n                    'stroke-linecap': 'square'\n                }\n            });\n            if (obj.type === 'hbar') {\n                var height = (obj.graphHeight - prop.vmarginTop - prop.vmarginBottom) / prop.yaxisLabels.length,\n                    y      = prop.gutterTop + prop.vmarginTop,\n                    len    = prop.yaxisLabels.length,\n                    startX = obj.getXCoord(0) + (prop.xaxisMin < 0 ? prop.yaxisTickmarksLength : 0),\n                    endX   = obj.getXCoord(0) - prop.yaxisTickmarksLength;\n                if (prop.xaxisMin < 0 && prop.xaxisMax <=0) {\n                    startX = obj.getXCoord(prop.xaxisMax);\n                    endX   = obj.getXCoord(prop.xaxisMax) + 5;\n                }\n                // A custom number of tickmarks\n                if (typeof prop.yaxisLabelsPositionSectionTickmarksCount === 'number') {\n                    len    = prop.yaxisLabelsPositionSectionTickmarksCount;\n                    height = (obj.graphHeight - prop.vmarginTop - prop.vmarginBottom) / len;\n                }\n                //\n                // Draw the tickmarks\n                //\n                if (prop.yaxisTickmarks) {\n                    for (var i=0; i<len; ++i) {\n                        // Draw the axis\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    startX,\n                                    y,\n                                    endX,\n                                    y + 0.001\n                                ),\n                                stroke: prop.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                        y += height;\n                    }\n                    // Draw an extra tick if the X axis position is not zero or\n                    // if the xaxis is not being shown\n                    if (prop.xaxis === false) {\n                        if (obj.type === 'hbar' && prop.xaxisMin <= 0 && prop.xaxisMax < 0) {\n                            var startX = obj.getXCoord(prop.xaxisMax);\n                            var endX   = obj.getXCoord(prop.xaxisMax) + prop.yaxisTickmarksLength;\n                        } else {\n                            var startX = obj.getXCoord(0) - prop.yaxisTickmarksLength;\n                            var endX   = obj.getXCoord(0) + (prop.xaxisMin < 0 ? prop.yaxisTickmarksLength : 0);\n                        }\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    startX,\n                                    ma.round(obj.height - prop.gutterBottom - parseFloat(prop.vmarginBottom)),\n                                    endX,\n                                    ma.round(obj.height - prop.gutterBottom - parseFloat(prop.vmarginBottom))\n                                ),\n                                stroke: obj.properties.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                    }\n                }\n            //\n            // Bar, Line etc types of chart\n            //\n            } else {\n                var height = obj.graphHeight / prop.yaxisLabelsCount,\n                    y      = prop.gutterTop,\n                    len    = prop.yaxisLabelsCount,\n                    startX = prop.gutterLeft,\n                    endX   = prop.gutterLeft - prop.yaxisTickmarksLength;\n                // A custom number of tickmarks\n                if (typeof prop.yaxisLabelsPositionEdgeTickmarksCount === 'number') {\n                    len    = prop.yaxisLabelsPositionEdgeTickmarksCount;\n                    height = obj.graphHeight / len;\n                }\n                //\n                // Draw the tickmarks\n                //\n                if (prop.yaxisTickmarks) {\n                    for (var i=0; i<len; ++i) {\n                        // Draw the axis\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    startX,\n                                    y,\n                                    endX,\n                                    y\n                                ),\n                                stroke: prop.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                        y += height;\n                    }\n                    // Draw an extra tick if the X axis position is not zero or\n                    //if the xaxis is not being shown\n                    if (    (prop.yaxisMin !== 0 || prop.xaxis === false)\n                        && !(obj.scale.min > 0 && obj.scale.max > 0) ) {\n                        var axis = RG.SVG.create({\n                            svg: obj.svg,\n                            parent: obj.svg.all,\n                            type: 'path',\n                            attr: {\n                                d: 'M{1} {2} L{3} {4}'.format(\n                                    prop.gutterLeft - prop.yaxisTickmarksLength,\n                                    obj.height - prop.gutterBottom,\n                                    prop.gutterLeft,\n                                    obj.height - prop.gutterBottom - 0.001\n                                ),\n                                stroke: prop.yaxisColor,\n                                'stroke-width': typeof prop.yaxisLinewidth === 'number' ? prop.yaxisLinewidth : 1,\n                                'shape-rendering': \"crispEdges\"\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        //\n        // Draw the Y axis labels\n        //\n        if (prop.yaxisScale) {\n            var segment = (obj.height - prop.gutterTop - prop.gutterBottom) / prop.yaxisLabelsCount;\n            for (var i=0; i<obj.scale.labels.length; ++i) {\n                var y = obj.height - prop.gutterBottom - (segment * i) - segment;\n                RG.SVG.text({\n                    object: obj,\n                    parent: obj.svg.all,\n                    text:   obj.scale.labels[i],\n                    x:      prop.gutterLeft - 7 - (prop.yaxis ? (prop.yaxisTickmarksLength - 3) : 0) + prop.yaxisLabelsOffsetx,\n                    y:      y + prop.yaxisLabelsOffsety,\n                    halign: prop.yaxisLabelsHalign || 'right',\n                    valign: prop.yaxisLabelsValign || 'center',\n                    tag:    'labels.yaxis',\n                    font:   prop.yaxisTextFont   || prop.textFont,\n                    size:   prop.yaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                    bold:   prop.yaxisTextBold   || prop.textBold,\n                    italic: prop.yaxisTextItalic || prop.textItalic,\n                    color:  prop.yaxisTextColor  || prop.textColor\n                });\n            }\n            //\n            // Add the minimum label\n            //\n            var y   = obj.height - prop.gutterBottom,\n                str = (prop.yaxisUnitsPre + prop.yaxisMin.toFixed(prop.yaxisDecimals).replace(/\\./, prop.yaxisPoint) + prop.yaxisUnitsPost);\n            var text = RG.SVG.text({\n                object: obj,\n                parent: obj.svg.all,\n                text: typeof prop.yaxisFormatter === 'function' ? (prop.yaxisFormatter)(this, prop.yaxisMin) : str,\n                x: prop.gutterLeft - 7 - (prop.yaxis ? (prop.yaxisTickmarksLength - 3) : 0) + prop.yaxisLabelsOffsetx,\n                y: y + prop.yaxisLabelsOffsety,\n                halign: 'right',\n                valign: 'center',\n                tag:    'labels.yaxis',\n                font:   prop.yaxisTextFont   || prop.textFont,\n                size:   prop.yaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                bold:   prop.yaxisTextBold   || prop.textBold,\n                italic: prop.yaxisTextItalic || prop.textItalic,\n                color:  prop.yaxisTextColor  || prop.textColor\n            });\n        //\n        // Draw Y axis labels (eg when specific labels are defined or\n        //the chart is an HBar\n        //\n        } else if (prop.yaxisLabels && prop.yaxisLabels.length) {\n            for (var i=0; i<prop.yaxisLabels.length; ++i) {\n                var segment = (obj.graphHeight - (prop.vmarginTop || 0) - (prop.vmarginBottom || 0) ) / prop.yaxisLabels.length,\n                    y       = prop.gutterTop + (prop.vmarginTop || 0) + (segment * i) + (segment / 2) + prop.yaxisLabelsOffsety,\n                    x       = prop.gutterLeft - 7 /*- (prop.yaxis ? (prop.yaxisTickmarksLength) : 0)*/ - (prop.yaxisLinewidth || 1) + prop.yaxisLabelsOffsetx,\n                    halign  = 'right';\n                // HBar labels\n                if (obj.type === 'hbar' && obj.scale.min < obj.scale.max && obj.scale.max <= 0) {\n                    halign = 'left';\n                    x      = obj.width - prop.gutterRight + 7 + prop.yaxisLabelsOffsetx;\n                // HBar labels (again?)\n                } else if (obj.type === 'hbar' && !prop.yaxisLabelsSpecific) {\n                    var segment = (obj.graphHeight - (prop.vmarginTop || 0) - (prop.vmarginBottom || 0) ) / (prop.yaxisLabels.length);\n                    y = prop.gutterTop + (prop.vmarginTop || 0) + (segment * i) + (segment / 2) + prop.yaxisLabelsOffsety;\n                // Specific scale\n                } else {\n                    var segment = (obj.graphHeight - (prop.vmarginTop || 0) - (prop.vmarginBottom || 0) ) / (prop.yaxisLabels.length - 1);\n                    y = obj.height - prop.gutterBottom - (segment * i) + prop.yaxisLabelsOffsety;\n                }\n                var text = RG.SVG.text({\n                    object: obj,\n                    parent: obj.svg.all,\n                    text:   prop.yaxisLabels[i] ? prop.yaxisLabels[i] : '',\n                    x:      x,\n                    y:      y,\n                    halign: halign,\n                    valign: 'center',\n                    tag:    'labels.yaxis',\n                    font:   prop.yaxisTextFont   || prop.textFont,\n                    size:   prop.yaxisTextSize   || (typeof prop.textSize === 'number' ? prop.textSize + 'pt' : prop.textSize),\n                    bold:   typeof prop.yaxisTextBold === 'boolean' ? prop.yaxisTextBold : prop.textBold,\n                    italic: typeof prop.yaxisTextItalic === 'boolean' ? prop.yaxisTextItalic : prop.textItalic,\n                    color:  prop.yaxisTextColor  || prop.textColor\n                });\n            }\n        }\n    };\n    //\n    // Draws the background\n    //\n    //@param The chart object\n    //\n    RG.SVG.drawBackground = function (obj)\n    {\n        var prop = obj.properties;\n        // Set these properties so that if it doesn't exist things don't fail\n        if (typeof prop.variant3dOffsetx !== 'number') prop.variant3dOffsetx = 0;\n        if (typeof prop.variant3dOffsety !== 'number') prop.variant3dOffsety = 0;\n        if (prop.backgroundColor) {\n            RG.SVG.create({\n                svg:  obj.svg,\n                parent: obj.svg.all,\n                type: 'rect',\n                attr: {\n                    x: -1 + prop.variant3dOffsetx + prop.gutterLeft,\n                    y: -1 - prop.variant3dOffsety + prop.gutterTop,\n                    width: parseFloat(obj.svg.getAttribute('width')) + 2 - prop.gutterLeft - prop.gutterRight,\n                    height: parseFloat(obj.svg.getAttribute('height')) + 2 - prop.gutterTop - prop.gutterBottom,\n                    fill: prop.backgroundColor\n                }\n            });\n        }\n        // Render a background image\n        // <image xlink:href=\"firefox.jpg\" x=\"0\" y=\"0\" height=\"50px\" width=\"50px\"/>\n        if (prop.backgroundImage) {\n            var attr = {\n                'xlink:href': prop.backgroundImage,\n                //preserveAspectRatio: 'xMidYMid slice',\n                preserveAspectRatio: prop.backgroundImageAspect || 'none',\n                x: prop.gutterLeft,\n                y: prop.gutterTop\n            };\n            if (prop.backgroundImageStretch) {\n                attr.x      = prop.gutterLeft + prop.variant3dOffsetx;\n                attr.y      = prop.gutterTop + prop.variant3dOffsety;\n                attr.width  = obj.width - prop.gutterLeft - prop.gutterRight;\n                attr.height = obj.height - prop.gutterTop - prop.gutterBottom;\n            } else {\n                if (typeof prop.backgroundImageX === 'number') {\n                    attr.x =  prop.backgroundImageX + prop.variant3dOffsetx;\n                } else {\n                    attr.x =  prop.gutterLeft + prop.variant3dOffsetx;\n                }\n                if (typeof prop.backgroundImageY === 'number') {\n                    attr.y =  prop.backgroundImageY + prop.variant3dOffsety;\n                } else {\n                    attr.y =  prop.gutterTop + prop.variant3dOffsety;\n                }\n                if (typeof prop.backgroundImageW === 'number') {\n                    attr.width =  prop.backgroundImageW;\n                }\n                if (typeof prop.backgroundImageH === 'number') {\n                    attr.height =  prop.backgroundImageH;\n                }\n            }\n            //\n            // Account for the chart being 3d\n            //\n            if (prop.variant === '3d') {\n                attr.x += prop.variant3dOffsetx;\n                attr.y -= prop.variant3dOffsety;\n            }\n            var img = RG.SVG.create({\n                svg:  obj.svg,\n                parent: obj.svg.all,\n                type: 'image',\n                attr: attr,\n                style: {\n                    opacity: typeof prop.backgroundImageOpacity === 'number' ? prop.backgroundImageOpacity : 1\n                }\n            });\n            // Set the width and height if necessary\n            if (!prop.backgroundImageStretch) {\n                var img2    = new Image();\n                img2.src    = prop.backgroundImage;\n                img2.onload = function ()\n                {\n                    img.setAttribute('width', typeof prop.backgroundImageW === 'number' ? prop.backgroundImageW : img2.width);\n                    img.setAttribute('height', typeof prop.backgroundImageH === 'number' ? prop.backgroundImageH : img2.height);\n                };\n            }\n        }\n        if (prop .backgroundGrid) {\n            var parts = [];\n            // Add the horizontal lines to the path\n            if (prop.backgroundGridHlines) {\n                if (typeof prop.backgroundGridHlinesCount === 'number') {\n                    var count = prop.backgroundGridHlinesCount;\n                } else if (obj.type === 'hbar' || obj.type === 'bipolar') {\n                    if (typeof prop.yaxisLabels === 'object' && !RG.SVG.isNull(prop.yaxisLabels) && prop.yaxisLabels.length) {\n                        var count = prop.yaxisLabels.length;\n                    } else if (obj.type === 'hbar') {\n                        var count = obj.data.length;\n                    } else if (obj.type === 'bipolar') {\n                        var count = obj.left.length;\n                    }\n                } else {\n                    var count = prop.yaxisLabelsCount || 5;\n                }\n                for (var i=0; i<=count; ++i) {\n                    parts.push('M{1} {2} L{3} {4}'.format(\n                        prop.gutterLeft + prop.variant3dOffsetx,\n                        prop.gutterTop + (obj.graphHeight / count) * i - prop.variant3dOffsety,\n                        obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                        prop.gutterTop + (obj.graphHeight / count) * i - prop.variant3dOffsety\n                    ));\n                }\n                // Add an extra background grid line to the path - this its\n                // underneath the X axis and shows up if its not there.\n                parts.push('M{1} {2} L{3} {4}'.format(\n                    prop.gutterLeft + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety,\n                    obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety\n                ));\n            }\n            // Add the vertical lines to the path\n            if (prop.backgroundGridVlines) {\n                if (obj.type === 'line' && RG.SVG.isArray(obj.data[0])) {\n                    var len = obj.data[0].length;\n                } else if (obj.type === 'hbar') {\n                    var len = prop.xaxisLabelsCount || 10;\n                } else if (obj.type === 'bipolar') {\n                    var len = prop.xaxisLabelsCount || 10;\n                } else if (obj.type === 'scatter') {\n                    var len = (prop.xaxisLabels && prop.xaxisLabels.length) || 10;\n                } else if (obj.type === 'waterfall') {\n                    var len = obj.data[0].length;\n                } else {\n                    var len = obj.data.length;\n                }\n                var count = typeof prop.backgroundGridVlinesCount === 'number' ? prop.backgroundGridVlinesCount : len;\n                if (prop.xaxisLabelsPosition === 'edge') {\n                    count--;\n                }\n                for (var i=0; i<=count; ++i) {\n                    parts.push('M{1} {2} L{3} {4}'.format(\n                        prop.gutterLeft + ((obj.graphWidth / count) * i) + prop.variant3dOffsetx,\n                        prop.gutterTop - prop.variant3dOffsety,\n                        prop.gutterLeft + ((obj.graphWidth / count) * i) + prop.variant3dOffsetx,\n                        obj.height - prop.gutterBottom - prop.variant3dOffsety\n                    ));\n                }\n            }\n            // Add the box around the grid\n            if (prop.backgroundGridBorder) {\n                parts.push('M{1} {2} L{3} {4} L{5} {6} L{7} {8} z'.format(\n                    prop.gutterLeft + prop.variant3dOffsetx,\n                    prop.gutterTop  - prop.variant3dOffsety,\n                    obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                    prop.gutterTop - prop.variant3dOffsety,\n                    obj.width - prop.gutterRight + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety,\n                    prop.gutterLeft + prop.variant3dOffsetx,\n                    obj.height - prop.gutterBottom - prop.variant3dOffsety\n                ));\n            }\n            // Get the dash array if its defined to be dotted or dashed\n            var dasharray;\n            if (prop.backgroundGridDashed) {\n                dasharray = [3,5];\n            } else if (prop.backgroundGridDotted) {\n                dasharray = [1,3];\n            } else if (prop.backgroundGridDashArray) {\n                dasharray = prop.backgroundGridDashArray;\n            } else {\n                dasharray = '';\n            }\n            // Now draw the path\n            var grid = RG.SVG.create({\n                svg: obj.svg,\n                parent: obj.svg.all,\n                type: 'path',\n                attr: {\n                    className: 'rgraph_background_grid',\n                    d: parts.join(' '),\n                    stroke: prop.backgroundGridColor,\n                    fill: 'rgba(0,0,0,0)',\n                    'stroke-width': prop.backgroundGridLinewidth,\n                    'shape-rendering': \"crispEdges\",\n                    'stroke-dasharray': dasharray\n                },\n                style: {\n                    pointerEvents: 'none'\n                }\n            });\n        }\n        // Draw the title and subtitle\n        if (obj.type !== 'bipolar') {\n            RG.SVG.drawTitle(obj);\n        }\n    };\n    /**\n    * Returns true/false as to whether the given variable is null or not\n    * \n    * @param mixed arg The argument to check\n    */\n    RG.SVG.isNull = function (arg)\n    {\n        // must BE DOUBLE EQUALS - NOT TRIPLE\n        if (arg == null || typeof arg === 'object' && !arg) {\n            return true;\n        }\n        return false;\n    };\n    /**\n    * Returns an appropriate scale. The return value is actualy an object consisting of:\n    *  scale.max\n    *  scale.min\n    *  scale.scale\n    * \n    * @param  obj object  The graph object\n    * @param  prop object An object consisting of configuration properties\n    * @return     object  An object containg scale information\n    */\n    RG.SVG.getScale = function (opt)\n    {\n        var obj          = opt.object,\n            prop         = obj.properties,\n            numlabels    = opt.numlabels,\n            unitsPre     = opt.unitsPre,\n            unitsPost    = opt.unitsPost,\n            max          = Number(opt.max),\n            min          = Number(opt.min),\n            strict       = opt.strict,\n            decimals     = Number(opt.decimals),\n            point        = opt.point,\n            thousand     = opt.thousand,\n            originalMax  = max,\n            round        = opt.round,\n            scale        = {max:1,labels:[],values:[]},\n            formatter    = opt.formatter;\n        /**\n        * Special case for 0\n        * \n        * ** Must be first **\n        */\n        if (max === 0 && min === 0) {\n            var max = 1;\n            for (var i=0; i<numlabels; ++i) {\n                var label = ((((max - min) / numlabels) * (i + 1)) + min).toFixed(decimals);\n                scale.labels.push(unitsPre + label + unitsPost);\n                scale.values.push(parseFloat(label))\n            }\n        /**\n        * Manually do decimals\n        */\n        } else if (max <= 1 && !strict) {\n            var arr = [\n                1,0.5,\n                0.10,0.05,\n                0.010,0.005,\n                0.0010,0.0005,\n                0.00010,0.00005,\n                0.000010,0.000005,\n                0.0000010,0.0000005,\n                0.00000010,0.00000005,\n                0.000000010,0.000000005,\n                0.0000000010,0.0000000005,\n                0.00000000010,0.00000000005,\n                0.000000000010,0.000000000005,\n                0.0000000000010,0.0000000000005\n            ], vals = [];\n            for (var i=0; i<arr.length; ++i) {\n                if (max > arr[i]) {\n                    i--;\n                    break;\n                }\n            }\n            scale.max    = arr[i]\n            scale.labels = [];\n            scale.values = [];\n            for (var j=0; j<numlabels; ++j) {\n                var value = ((((arr[i] - min) / numlabels) * (j + 1)) + min).toFixed(decimals);\n                scale.values.push(value);\n                scale.labels.push(RG.SVG.numberFormat({\n                    object: obj,\n                    num: value,\n                    prepend: unitsPre,\n                    append: unitsPost,\n                    point: prop.yaxisPoint,\n                    thousand: prop.yaxisThousand,\n                    formatter: formatter\n                }));\n            }\n        } else if (!strict) {\n            /**\n            * Now comes the scale handling for integer values\n            */\n            // This accomodates decimals by rounding the max up to the next integer\n            max = ma.ceil(max);\n            var interval = ma.pow(10, ma.max(1, Number(String(Number(max) - Number(min)).length - 1)) );\n            var topValue = interval;\n            while (topValue < max) {\n                topValue += (interval / 2);\n            }\n            // Handles cases where the max is (for example) 50.5\n            if (Number(originalMax) > Number(topValue)) {\n                topValue += (interval / 2);\n            }\n            // Custom if the max is greater than 5 and less than 10\n            if (max <= 10) {\n                topValue = (Number(originalMax) <= 5 ? 5 : 10);\n            }\n            // Added 02/11/2010 to create \"nicer\" scales\n            if (obj && typeof(round) == 'boolean' && round) {\n                topValue = 10 * interval;\n            }\n            scale.max = topValue;\n            for (var i=0; i<numlabels; ++i) {\n                var label = RG.SVG.numberFormat({\n                    object: obj,\n                    num: ((((i+1) / numlabels) * (topValue - min)) + min).toFixed(decimals),\n                    prepend: unitsPre,\n                    append: unitsPost,\n                    point: point,\n                    thousand: thousand,\n                    formatter: formatter\n                });\n                scale.labels.push(label);\n                scale.values.push(((((i+1) / numlabels) * (topValue - min)) + min).toFixed(decimals));\n            }\n        } else if (typeof max === 'number' && strict) {\n            /**\n            * ymax is set and also strict\n            */\n            for (var i=0; i<numlabels; ++i) {\n                scale.labels.push(RG.SVG.numberFormat({\n                    object: obj,\n                    formatter: formatter,\n                    num: ((((i+1) / numlabels) * (max - min)) + min).toFixed(decimals),\n                    prepend: unitsPre,\n                    append: unitsPost,\n                    point: point,\n                    thousand: thousand\n                }));\n                scale.values.push(\n                    ((((i+1) / numlabels) * (max - min)) + min).toFixed(decimals)\n                );\n            }\n            // ???\n            scale.max = max;\n        }\n        scale.unitsPre  = unitsPre;\n        scale.unitsPost = unitsPost;\n        scale.point     = point;\n        scale.decimals  = decimals;\n        scale.thousand  = thousand;\n        scale.numlabels = numlabels;\n        scale.round     = Boolean(round);\n        scale.min       = min;\n        //\n        // Convert all of the scale values to numbers\n        //\n        for (var i=0; i<scale.values.length; ++i) {\n            scale.values[i] = parseFloat(scale.values[i]);\n        }\n        return scale;\n    };\n    /**\n    * Pads/fills the array\n    * \n    * @param  array arr The array\n    * @param  int   len The length to pad the array to\n    * @param  mixed     The value to use to pad the array (optional)\n    */\n    RG.SVG.arrayFill = \n    RG.SVG.arrayPad  = function (opt)\n    {\n        var arr   = opt.array,\n            len   = opt.length,\n            value = (typeof opt.value === 'undefined' ? null : opt.value);\n        if (arr.length < len) {            \n            for (var i=arr.length; i<len; i+=1) {\n                arr[i] = value;\n            }\n        }\n        return arr;\n    };\n    /**\n    * An array sum function\n    * \n    * @param  array arr The  array to calculate the total of\n    * @return int       The summed total of the arrays elements\n    */\n    RG.SVG.arraySum = function (arr)\n    {\n        // Allow integers\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        // Account for null\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        var i, sum, len = arr.length;\n        for(i=0,sum=0;i<len;sum+=arr[i++]);\n        return sum;\n    };\n    /**\n    * Returns the maximum numeric value which is in an array. This function IS NOT\n    * recursive\n    * \n    * @param  array arr The array (can also be a number, in which case it's returned as-is)\n    * @param  int       Whether to ignore signs (ie negative/positive)\n    * @return int       The maximum value in the array\n    */\n    RG.SVG.arrayMax = function (arr)\n    {\n        var max = null\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        for (var i=0,len=arr.length; i<len; ++i) {\n            if (typeof arr[i] === 'number') {\n                var val = arguments[1] ? ma.abs(arr[i]) : arr[i];\n                if (typeof max === 'number') {\n                    max = ma.max(max, val);\n                } else {\n                    max = val;\n                }\n            }\n        }\n        return max;\n    };\n    /**\n    * Returns the minimum numeric value which is in an array\n    * \n    * @param  array arr The array (can also be a number, in which case it's returned as-is)\n    * @param  int       Whether to ignore signs (ie negative/positive)\n    * @return int       The minimum value in the array\n    */\n    RG.SVG.arrayMin = function (arr)\n    {\n        var max = null,\n            min = null,\n            ma  = Math;\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        for (var i=0,len=arr.length; i<len; ++i) {\n            if (typeof arr[i] === 'number') {\n                var val = arguments[1] ? ma.abs(arr[i]) : arr[i];\n                if (typeof min === 'number') {\n                    min = ma.min(min, val);\n                } else {\n                    min = val;\n                }\n            }\n        }\n        return min;\n    };\n    /**\n    * Returns the maximum value which is in an array\n    * \n    * @param  array arr The array\n    * @param  int   len The length to pad the array to\n    * @param  mixed     The value to use to pad the array (optional)\n    */\n    RG.SVG.arrayPad = function (arr, len)\n    {\n        if (arr.length < len) {\n            var val = arguments[2] ? arguments[2] : null;\n            for (var i=arr.length; i<len; i+=1) {\n                arr[i] = val;\n            }\n        }\n        return arr;\n    };\n    /**\n    * An array sum function\n    * \n    * @param  array arr The  array to calculate the total of\n    * @return int       The summed total of the arrays elements\n    */\n    RG.SVG.arraySum = function (arr)\n    {\n        // Allow integers\n        if (typeof arr === 'number') {\n            return arr;\n        }\n        // Account for null\n        if (RG.SVG.isNull(arr)) {\n            return 0;\n        }\n        var i, sum, len = arr.length;\n        for(i=0,sum=0;i<len;sum+=arr[i++]);\n        return sum;\n    };\n    /**\n    * Takes any number of arguments and adds them to one big linear array\n    * which is then returned\n    * \n    * @param ... mixed The data to linearise. You can strings, booleans, numbers or arrays\n    */\n    RG.SVG.arrayLinearize = function ()\n    {\n        var arr  = [],\n            args = arguments\n        for (var i=0,len=args.length; i<len; ++i) {\n            if (typeof args[i] === 'object' && args[i]) {\n                for (var j=0,len2=args[i].length; j<len2; ++j) {\n                    var sub = RG.SVG.arrayLinearize(args[i][j]);\n                    for (var k=0,len3=sub.length; k<len3; ++k) {\n                        arr.push(sub[k]);\n                    }\n                }\n            } else {\n                arr.push(args[i]);\n            }\n        }\n        return arr;\n    };\n    /**\n    * Takes one off the front of the given array and returns the new array.\n    * \n    * @param array arr The array from which to take one off the front of array \n    * \n    * @return array The new array\n    */\n    RG.SVG.arrayShift = function(arr)\n    {\n        var ret = [];\n        for(var i=1,len=arr.length; i<len; ++i) {\n            ret.push(arr[i]);\n        }\n        return ret;\n    };\n    /**\n    * Reverses the order of an array\n    * \n    * @param array arr The array to reverse\n    */\n    RG.SVG.arrayReverse = function (arr)\n    {\n        if (!arr) {\n            return;\n        }\n        var newarr=[];\n        for(var i=arr.length - 1; i>=0; i-=1) {\n            newarr.push(arr[i]);\n        }\n        return newarr;\n    };\n    /**\n    * Makes a clone of an object\n    * \n    * @param obj val The object to clone\n    */\n    RG.SVG.arrayClone = function (obj)\n    {\n        if(obj === null || typeof obj !== 'object') {\n            return obj;\n        }\n        if (RG.SVG.isArray(obj)) {\n            var temp = [];\n            for (var i=0,len=obj.length;i<len; ++i) {\n                if (typeof obj[i]  === 'number') {\n                    temp[i] = (function (arg) {return Number(arg);})(obj[i]);\n                } else if (typeof obj[i]  === 'string') {\n                    temp[i] = (function (arg) {return String(arg);})(obj[i]);\n                } else if (typeof obj[i] === 'function') {\n                    temp[i] = obj[i];\n                } else {\n                    temp[i] = RG.SVG.arrayClone(obj[i]);\n                }\n            }\n        } else if (typeof obj === 'object') {\n            var temp = {};\n            for (var i in obj) {\n                if (typeof i === 'string') {\n                    temp[i] = obj[i];\n                }\n            }\n        }\n        return temp;\n    };\n    //\n    // Converts an the truthy values to falsey values and vice-versa\n    //\n    RG.SVG.arrayInvert = function (arr)\n    {\n        for (var i=0,len=arr.length; i<len; ++i) {\n            arr[i] = !arr[i];\n        }\n        return arr;\n    };\n    //\n    // An array_trim function that removes the empty elements off\n    //both ends\n    //\n    RG.SVG.arrayTrim = function (arr)\n    {\n        var out = [], content = false;\n        // Trim the start\n        for (var i=0; i<arr.length; i++) {\n            if (arr[i]) {\n                content = true;\n            }\n            if (content) {\n                out.push(arr[i]);\n            }\n        }\n        // Reverse the array and trim the start again\n        out = RG.SVG.arrayReverse(out);\n        var out2 = [], content = false ;\n        for (var i=0; i<out.length; i++) {\n            if (out[i]) {\n                content = true;\n            }\n            if (content) {\n                out2.push(out[i]);\n            }\n        }\n        // Now reverse the array and return it\n        out2 = RG.SVG.arrayReverse(out2);\n        return out2;\n    };\n    /**\n    * Determines if the given object is an array or not\n    * \n    * @param mixed obj The variable to test\n    */\n    RG.SVG.isArray = function (obj)\n    {\n        if (obj && obj.constructor) {\n            var pos = obj.constructor.toString().indexOf('Array');\n        } else {\n            return false;\n        }\n        return obj != null &&\n               typeof pos === 'number' &&\n               pos > 0 &&\n               pos < 20;\n    };\n    /**\n    * Returns the absolute value of a number. You can also pass in an\n    * array and it will run the abs() function on each element. It\n    * operates recursively so sub-arrays are also traversed.\n    * \n    * @param array arr The number or array to work on\n    */\n    RG.SVG.abs = function (value)\n    {\n        if (typeof value === 'string') {\n            value = parseFloat(value) || 0;\n        }\n        if (typeof value === 'number') {\n            return ma.abs(value);\n        }\n        if (typeof value === 'object') {\n            for (i in value) {\n                if (   typeof i === 'string'\n                    || typeof i === 'number'\n                    || typeof i === 'object') {\n                    value[i] = RG.SVG.abs(value[i]);\n                }\n            }\n            return value;\n        }\n        return 0;\n    };\n    //\n    // Formats a number with thousand seperators so it's easier to read\n    //\n    // @param opt object The options to the function\n    //\n    RG.SVG.numberFormat = function (opt)\n    {\n        var obj                = opt.object,\n            prepend            = opt.prepend ? String(opt.prepend) : '',\n            append             = opt.append ? String(opt.append) : '',\n            output             = '',\n            decimal_seperator  = typeof opt.point === 'string' ? opt.point : '.',\n            thousand_seperator = typeof opt.thousand === 'string' ? opt.thousand : ',',\n            num                = opt.num\n            decimals_trim      = opt.decimals_trim;\n        RegExp.$1   = '';\n        if (typeof opt.formatter === 'function') {\n            return opt.formatter(obj, num);\n        }\n        // Ignore the preformatted version of \"1e-2\"\n        if (String(num).indexOf('e') > 0) {\n            return String(prepend + String(num) + append);\n        }\n        // We need then number as a string\n        num = String(num);\n        // Take off the decimal part - we re-append it later\n        if (num.indexOf('.') > 0) {\n            var tmp = num;\n            num     = num.replace(/\\.(.*)/, ''); // The front part of the number\n            decimal = tmp.replace(/(.*)\\.(.*)/, '$2'); // The decimal part of the number\n        } else {\n            decimal = '';\n        }\n        // Thousand seperator\n        //var seperator = arguments[1] ? String(arguments[1]) : ',';\n        var seperator = thousand_seperator;\n        /**\n        * Work backwards adding the thousand seperators\n        */\n        var foundPoint;\n        for (i=(num.length - 1),j=0; i>=0; j++,i--) {\n            var character = num.charAt(i);\n            if ( j % 3 == 0 && j != 0) {\n                output += seperator;\n            }\n            /**\n            * Build the output\n            */\n            output += character;\n        }\n        /**\n        * Now need to reverse the string\n        */\n        var rev = output;\n        output = '';\n        for (i=(rev.length - 1); i>=0; i--) {\n            output += rev.charAt(i);\n        }\n        // Tidy up\n        //output = output.replace(/^-,/, '-');\n        if (output.indexOf('-' + thousand_seperator) == 0) {\n            output = '-' + output.substr(('-' + thousand_seperator).length);\n        }\n        // Reappend the decimal\n        if (decimal.length) {\n            output =  output + decimal_seperator + decimal;\n            decimal = '';\n            RegExp.$1 = '';\n        }\n        //\n        // Trim the decimals if it's all zeros\n        //\n        if (decimals_trim) {\n            output = output.replace(/0+$/,'');\n            output = output.replace(/\\.$/,'');\n        }\n        // Minor bugette\n        if (output.charAt(0) == '-') {\n            output = output.replace(/-/, '');\n            prepend = '-' + prepend;\n        }\n        return prepend + output + append;\n    };\n    //\n    // A function that adds text to the chart\n    //\n    RG.SVG.text = function (opt)\n    {\n        var obj        = opt.object,\n            parent     = opt.parent || opt.object.svg.all,\n            size       = typeof opt.size === 'number' ? opt.size + 'pt' : (typeof opt.size === 'string' ? opt.size.replace(/pt$/,'') : 12) + 'pt',\n            bold       = opt.bold ? 'bold' : 'normal',\n            font       = opt.font ? opt.font : 'sans-serif',\n            italic     = opt.italic ? 'italic' : 'normal',\n            halign     = opt.halign,\n            valign     = opt.valign,\n            str        = opt.text,\n            x          = opt.x,\n            y          = opt.y,\n            color      = opt.color ? opt.color : 'black',\n            background = opt.background || null,\n            padding    = opt.padding || 0,\n            link       = opt.link || '',\n            linkTarget = opt.linkTarget || '_blank',\n            events     = (opt.events === false ? false : true),\n            angle      = opt.angle;\n        //\n        // Change numbers to strings\n        //\n        if (typeof str === 'number') {\n            str = String(str);\n        }\n        //\n        // If the string starts with a carriage return add a unicode non-breaking\n        // space to the start of it.\n        //\n        if (str.substr(0,2) == '\\r\\n' || str.substr(0,1) === '\\n') {\n            str = \"\\u00A0\" + str;\n        }\n        // Horizontal alignment\n        if (halign === 'right') {\n            halign = 'end';\n        } else if (halign === 'center' || halign === 'middle') {\n            halign = 'middle';\n        } else {\n            halign = 'start';\n        }\n        // Vertical alignment\n        if (valign === 'top') {\n            valign = 'hanging';\n        } else if (valign === 'center' || valign === 'middle') {\n            valign = 'central';\n            valign = 'middle';\n        } else {\n            valign = 'bottom';\n        }\n        //\n        // If a link has been specified then the text node should\n        // be a child of an a node\n        if (link) {\n            var a = RGraph.SVG.create({\n                svg: obj.svg,\n                type: 'a',\n                parent: parent,\n                attr: {\n                    'xlink:href': link,\n                    target: linkTarget\n                }\n            });\n        }\n        //\n        // Text does not include carriage returns\n        //\n        if (str && str.indexOf && str.indexOf(\"\\n\") === -1) {\n            var text = RG.SVG.create({\n                svg: obj.svg,\n                parent: link ? a : opt.parent,\n                type: 'text',\n                attr: {\n                    tag: opt.tag ? opt.tag : '',\n                    fill: color,\n                    x: x,\n                    y: y,\n                    'font-size':         size,\n                    'font-weight':       bold,\n                    'font-family':       font,\n                    'font-style':        italic,\n                    'text-anchor':       halign,\n                    'dominant-baseline': valign\n                }\n            });\n            var textNode = document.createTextNode(str);\n            text.appendChild(textNode);\n            if (!events) {\n                text.style.pointerEvents = 'none';\n            }\n        //\n        // Includes carriage returns\n        //\n        } else if (str && str.indexOf) {\n            // Measure the text\n            var dimensions = RG.SVG.measureText({\n                text: 'My',\n                bold: bold,\n                font: font,\n                size: size\n            });\n            var lineHeight = dimensions[1];\n            str = str.split(/\\r?\\n/);\n            //\n            // Account for the carriage returns and move the text\n            // up as required\n            //\n            if (valign === 'bottom') {\n                y -= str.length * lineHeight;\n            }\n            if (valign === 'center' || valign === 'middle') {\n                y -= (str.length * lineHeight) / 2;\n            }\n            var text = RG.SVG.create({\n                svg: obj.svg,\n                parent: link ? a : opt.parent,\n                type: 'text',\n                attr: {\n                    tag: opt.tag ? opt.tag : '',\n                    fill: color,\n                    x: x,\n                    y: y,\n                    'font-size':         size,\n                    'font-weight':       bold,\n                    'font-family':       font,\n                    'font-style':        italic,\n                    'text-anchor':       halign,\n                    'dominant-baseline': valign\n                }\n            });\n            if (!events) {\n                text.style.pointerEvents = 'none';\n            }\n            for (var i=0; i<str.length; ++i) {\n                var tspan = RG.SVG.create({\n                    svg: obj.svg,\n                    parent: text,\n                    type: 'tspan',\n                    attr: {\n                        x: x,\n                        dy: dimensions ? (dimensions[1] * (i ? 1 : 0)) + 3 : 0\n                    }\n                });\n                var textNode = document.createTextNode(str[i]);\n                tspan.appendChild(textNode);\n                if (!events) {\n                    tspan.style.pointerEvents = 'none';\n                }\n                var dimensions = RG.SVG.measureText({\n                    text: str[i],\n                    bold: bold,\n                    font: font,\n                    size: parseInt(size)\n                });\n            }\n        }\n        // Now add the rotation if necessary\n        if (typeof angle === 'number' && angle && text) {\n            text.setAttribute('x', 0);\n            text.setAttribute('y', 0);\n            text.setAttribute('transform', 'translate({1} {2}) rotate({3})'.format(x, y, -1 * angle));\n        }\n        //\n        // Add a background color if specified\n        //\n        if (typeof background === 'string') {\n            var parent = link ? a : parent;\n            var bbox = text.getBBox(),\n                rect = RG.SVG.create({\n                    svg:    obj.svg,\n                    parent: parent,\n                    type:   'rect',\n                    attr: {\n                        x:      bbox.x - padding,\n                        y:      bbox.y - padding,\n                        width:  bbox.width + (padding * 2),\n                        height: bbox.height + (padding * 2),\n                        fill:   background\n                    }\n                });\n                if (!events) {\n                    rect.style.pointerEvents = 'none';\n                }\n            text.parentNode.insertBefore(rect, text);\n        }\n        if (RG.SVG.ISIE && (valign === 'hanging') && text) {\n            text.setAttribute('y', y + (text.scrollHeight / 2));\n        } else if (RG.SVG.ISIE && valign === 'middle') {\n            text.setAttribute('y', y + (text.scrollHeight / 3));\n        }\n        if (RG.SVG.ISFF && text) {\n            Y = y + (text.scrollHeight / 3);\n        }\n        return text;\n    };\n    //\n    // Helps you get hold of the SPAN tag nodes that hold the text on the chart\n    //\n    RG.SVG.text.find = function (opt)\n    {\n        // Search criteria should include:\n        //  o text (literal string and regex)\n        if (typeof opt.object === 'object' && opt.object.isRGraph) {\n            var svg = opt.object.svg;\n        } else if (typeof opt.svg === 'object' && opt.svg.all) {\n            var svg = opt.svg;\n        }\n        // Look for text nodes based on the text\n        var nodes = svg.getElementsByTagName('text');\n        var found = [];\n        for (var i=0,len=nodes.length; i<len; ++i) {\n            var text = false,\n                tag  = false;\n            // Exact match or regex on the text\n            if (typeof opt.text === 'string' && nodes[i].innerHTML === opt.text) {\n                text = true;\n            } else if (typeof opt.text === 'object' && nodes[i].innerHTML.match(opt.text)) {\n                text = true;\n            } else if (typeof opt.text === 'undefined') {\n                text = true;\n            }\n            // Exact match or regex on the tag\n            if (typeof opt.tag === 'string' && nodes[i].getAttribute('tag') === opt.tag) {\n                tag = true;\n            } else if (typeof opt.tag === 'object' && nodes[i].getAttribute('tag').match(opt.tag)) {\n                tag = true;\n            } else if (typeof opt.tag === 'undefined') {\n                tag = true;\n            }\n            // Did all of the conditions pass?\n            if (text === true && tag === true) {\n                found.push(nodes[i])\n            }\n        }\n        return found;\n    };\n    //\n    // Creates a UID that is applied to the object\n    //\n    RG.SVG.createUID = function ()\n    {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c)\n        {\n            var r = ma.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n            return v.toString(16);\n        });\n    };\n    //\n    // Determines if the SVG DIV container is fixed\n    //\n    RG.SVG.isFixed = function (svg)\n    {\n        var obj = svg.parentNode,\n            i   = 0;\n        while (obj && obj.tagName.toLowerCase() != 'body' && i < 99) {\n            if (obj.style.position === 'fixed') {\n                return obj;\n            }\n            obj = obj.offsetParent;\n        }\n        return false;\n    };\n    /**\n    * Sets an object in the RGraph registry\n    * \n    * @param string name The name of the value to set\n    */\n    RG.SVG.REG.set = function (name, value)\n    {\n        RG.SVG.REG.store[name] = value;\n        return value;\n    };\n    /**\n    * Gets an object from the RGraph registry\n    * \n    * @param string name The name of the value to fetch\n    */\n    RG.SVG.REG.get = function (name)\n    {\n        return RG.SVG.REG.store[name];\n    };\n    /**\n    * Removes white-space from the start aqnd end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.trim = function (str)\n    {\n        return RG.SVG.ltrim(RG.SVG.rtrim(str));\n    };\n    /**\n    * Trims the white-space from the start of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.ltrim = function (str)\n    {\n        return str.replace(/^(\\s|\\0)+/, '');\n    };\n    /**\n    * Trims the white-space off of the end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.rtrim = function (str)\n    {\n        return str.replace(/(\\s|\\0)+$/, '');\n    };\n    //\n    // Hides the currently shown tooltip\n    //\n    RG.SVG.hideTooltip = function ()\n    {\n        var tooltip = RG.SVG.REG.get('tooltip');\n        if (tooltip && tooltip.parentNode /*&& (!uid || uid == tooltip.__canvas__.uid)*/) {\n            tooltip.parentNode.removeChild(tooltip);\n            tooltip.style.display = 'none';                \n            tooltip.style.visibility = 'hidden';\n            RG.SVG.REG.set('tooltip', null);\n        }\n        if (tooltip && tooltip.__object__) {\n            RG.SVG.removeHighlight(tooltip.__object__);\n        }\n    };\n    //\n    // Creates a shadow\n    //\n    RG.SVG.setShadow = function (options)\n    {\n        var obj     = options.object,\n            offsetx = options.offsetx  || 0,\n            offsety = options.offsety || 0,\n            blur    = options.blur || 0,\n            opacity = options.opacity || 0,\n            id      = options.id;\n        var filter = RG.SVG.create({\n            svg: obj.svg,\n            parent: obj.svg.defs,\n            type: 'filter',\n            attr: {\n                id: id,\n                 width: \"130%\",\n                 height: \"130%\"\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feOffset',\n            attr: {\n                result: 'offOut',\n                'in': 'SourceGraphic',\n                dx: offsetx,\n                dy: offsety\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feColorMatrix',\n            attr: {\n                result: 'matrixOut',\n                'in': 'offOut',\n                type: 'matrix',\n                values: '0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 {1} 0'.format(\n                    opacity\n                )\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feGaussianBlur',\n            attr: {\n                result: 'blurOut',\n                'in': 'matrixOut',\n                stdDeviation: blur\n            }\n        });\n        RG.SVG.create({\n            svg: obj.svg,\n            parent: filter,\n            type: 'feBlend',\n            attr: {\n                'in': 'SourceGraphic',\n                'in2': 'blurOut',\n                mode: 'normal'\n            }\n        });\n    };\n    /**\n    * Takes a sequential index and returns the group/index variation of it. Eg if you have a\n    * sequential index from a grouped bar chart this function can be used to convert that into\n    * an appropriate group/index combination\n    * \n    * @param nindex number The sequential index\n    * @param data   array  The original data (which is grouped)\n    * @return              The group/index information\n    */\n    RG.SVG.sequentialIndexToGrouped = function (index, data)\n    {\n        var group         = 0,\n            grouped_index = 0;\n        while (--index >= 0) {\n            if (RG.SVG.isNull(data[group])) {\n                group++;\n                grouped_index = 0;\n                continue;\n            }\n            // Allow for numbers as well as arrays in the dataset\n            if (typeof data[group] == 'number') {\n                group++\n                grouped_index = 0;\n                continue;\n            }\n            grouped_index++;\n            if (grouped_index >= data[group].length) {\n                group++;\n                grouped_index = 0;\n            }\n        }\n        return [group, grouped_index];\n    };\n    //\n    // This is the reverse of the above function - converting\n    // group/index to a sequential index\n    //\n    // @return number The sequential index\n    //\n    RG.SVG.groupedIndexToSequential = function (opt)\n    {\n        var dataset = opt.dataset,\n            index   = opt.index,\n            obj     = opt.object;\n        for (var i=0,seq=0; i<=dataset; ++i) {\n            for (var j=0; j<obj.data[dataset].length; ++j) {\n                if (i === dataset && j === index) {\n                    return seq;\n                }\n                seq++;\n            }\n        }\n        return seq;\n    };\n    //\n    // This function converts coordinates into the type understood by\n    // SVG for drawing arcs\n    //\n    RG.SVG.TRIG.toCartesian = function (options)\n    {\n        return {\n            x: options.cx + (options.r * ma.cos(options.angle)),\n            y: options.cy + (options.r * ma.sin(options.angle))\n        };\n    };\n    //\n    // Gets a path that is usable by the SVG A path command\n    //\n    // @patam object options The options/arg to the function\n    //\n    // NB ** Still used by the Pie chart and the semi-circular Meter **\n    //\n    RG.SVG.TRIG.getArcPath = function (options)\n    {\n        //\n        // Make circles start at the top instead of the right hand side\n        //\n        options.start -= 1.57;\n        options.end   -= 1.57;\n        var start = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.start}\n        );\n        var end = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.end\n        });\n        var diff = options.end - options.start;\n        // Initial values\n        var largeArc = '0';\n        var sweep    = '0';\n        if (options.anticlockwise && diff > 3.14) {\n            largeArc = '0';\n            sweep    = '0';\n        } else if (options.anticlockwise && diff <= 3.14) {\n            largeArc = '1';\n            sweep    = '0';\n        } else if (!options.anticlockwise && diff > 3.14) {\n            largeArc = '1';\n            sweep    = '1';\n        } else if (!options.anticlockwise && diff <= 3.14) {\n            largeArc = '0';\n            sweep    = '1';\n        }\n        if (options.start > options.end && options.anticlockwise && diff <= 3.14) {\n            largeArc = '0';\n            sweep    = '0';\n        }\n        if (options.start > options.end && options.anticlockwise && diff > 3.14) {\n            largeArc = '1';\n            sweep    = '1';\n        }\n        if (typeof options.moveto === 'boolean' && options.moveto === false) {\n            var d = [\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        } else {\n            var d = [\n                \"M\", start.x, start.y, \n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        }\n        if (options.array === true) {\n            return d;\n        } else {\n            return d.join(\" \");\n        }\n    };\n    //\n    // Gets a path that is usable by the SVG A path command\n    //\n    // @patam object options The options/arg to the function\n    //\n    RG.SVG.TRIG.getArcPath2 = function (options)\n    {\n        //\n        // Make circles start at the top instead of the right hand side\n        //\n        options.start -= 1.57;\n        options.end   -= 1.57;\n        var start = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.start\n        });\n        var end = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.end\n        });\n        var diff = ma.abs(options.end - options.start);\n        // Initial values\n        var largeArc = '0';\n        var sweep    = '0';\n        //TODO Put various options here for the correct combination of flags to use\n        if (!options.anticlockwise) {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '1';\n            } else {\n                largeArc = '0';\n                sweep    = '1';\n            }\n        } else {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '0';\n            } else {\n                largeArc = '0';\n                sweep    = '0';\n            }\n        }\n        if (typeof options.lineto === 'boolean' && options.lineto === false) {\n            var d = [\n                \"M\", start.x, start.y,\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        } else {\n            var d = [\n                \"M\", options.cx, options.cy,\n                \"L\", start.x, start.y, \n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        }\n        if (options.array === true) {\n            return d;\n        } else {\n            return d.join(\" \");\n        }\n    };\n    //\n    // Gets a path that is usable by the SVG A path command\n    //\n    // @param object options The options/arg to the function\n    //\n    RG.SVG.TRIG.getArcPath3 = function (options)\n    {\n        //\n        // Make circles start at the top instead of the right hand side\n        //\n        options.start -= (ma.PI / 2);\n        options.end   -= (ma.PI / 2);\n        var start = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.start\n        });\n        var end = RG.SVG.TRIG.toCartesian({\n            cx:    options.cx,\n            cy:    options.cy,\n            r:     options.r,\n            angle: options.end\n        });\n        var diff = ma.abs(options.end - options.start);\n        // Initial values\n        var largeArc = '0';\n        var sweep    = '0';\n        //TODO Put various options here for the correct combination of flags to use\n        if (!options.anticlockwise) {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '1';\n            } else {\n                largeArc = '0';\n                sweep    = '1';\n            }\n        } else {\n            if (diff > RG.SVG.TRIG.PI) {\n                largeArc = '1';\n                sweep    = '0';\n            } else {\n                largeArc = '0';\n                sweep    = '0';\n            }\n        }\n        if (typeof options.lineto === 'boolean' && options.lineto === false) {\n            var d = [\n                \"M\", start.x, start.y,\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        } else {\n            var d = [\n                \"L\", start.x, start.y,\n                \"A\", options.r, options.r, 0, largeArc, sweep, end.x, end.y\n            ];\n        }\n        if (options.array === true) {\n            return d;\n        } else {\n            return d.join(\" \");\n        }\n    };\n    /**\n    * This function gets the end point (X/Y coordinates) of a given radius.\n    * You pass it the center X/Y and the radius and this function will return\n    * the endpoint X/Y coordinates.\n    * \n    * @param number cx    The center X coord\n    * @param number cy    The center Y coord\n    * @param number r     The length of the radius\n    * @param number angle The anle to use\n    */\n    RG.SVG.TRIG.getRadiusEndPoint = function (opt)\n    {\n        // Allow for two arguments style\n        if (arguments.length === 1) {\n            var angle = opt.angle,\n                r     = opt.r;\n        } else if (arguments.length === 4) {\n            var angle = arguments[0],\n                r     = arguments[1];\n        }\n        var x = ma.cos(angle) * r,\n            y = ma.sin(angle) * r;\n        return [x, y];\n    };\n    /**\n    * This function draws the title. This function also draws the subtitle.\n    */\n    RG.SVG.drawTitle = function (obj)\n    {\n        var prop                   = obj.properties,\n            valign                 = 'bottom',\n            originalTitleX         = prop.titleX,\n            originalTitleY         = prop.titleY,\n            originalTitleSubtitleX = prop.titleSubtitleX,\n            originalTitleSubtitleY = prop.titleSubtitleY;\n        if (typeof originalTitleX === 'string')         originalTitleX.replace(/^\\+/,'');\n        if (typeof originalTitleY === 'string')         originalTitleY.replace(/^\\+/,'');\n        if (typeof originalTitleSubtitleX === 'string') originalTitleSubtitleX.replace(/^\\+/,'');\n        if (typeof originalTitleSubtitleY === 'string') originalTitleSubtitleY.replace(/^\\+/,'');\n        //\n        // The Pie chart title should default to being above the centerx\n        //\n        if (obj.type === 'pie') {\n            if (RG.SVG.isNull(prop.titleX)) {\n                prop.titleX         = obj.centerx;\n                prop.titleSubtitleX = obj.centerx;\n            }\n            if (RG.SVG.isNull(prop.titleY)) {\n                prop.titleY = obj.centery - obj.radius - 10;\n            }\n        }\n        if (obj.scale && obj.scale.max <= 0 && obj.scale.min < 0 && typeof prop.titleY !== 'number' && obj.type !== 'hbar') {\n            prop.titleY = obj.height - prop.gutterBottom + 10;\n            var positionBottom = true;\n            valign = 'top';\n        } else if (typeof prop.titleY !== 'number') {\n            var positionBottom = false;\n            prop.titleY = prop.gutterTop - 10;\n            valign      = 'bottom';\n            // Account for the key\n            if (!RG.SVG.isNull(prop.key)) {\n                prop.titleY -= (2 * (prop.keyTextSize || prop.textSize));\n            }\n        }\n        // If a subtitle is specified move the title up a bit in\n        // order to accommodate it\n        if (prop.titleSubtitle && typeof prop.titleSubtitleY !== 'number' && !positionBottom) {\n            prop.titleY = prop.titleY - (prop.titleSubtitleSize * 1.5);\n        }\n        // Work out the subtitle size\n        prop.titleSubTitleSize = prop.titleSubTitleSize || prop.textSize;\n        // Work out the subtitle Y position\n        prop.titleSubtitleY = prop.titleSubtitleY || prop.titleY + 18;\n        if (positionBottom && typeof prop.titleSubtitleY !== 'number') {\n            prop.titleSubtitleY = prop.titleY + 26;\n        }\n        // Draw the title\n        if (prop.title) {\n            var x = typeof prop.titleX === 'number' ? prop.titleX + (prop.variant3dOffsetx || 0) : prop.gutterLeft + (obj.graphWidth / 2) + (prop.variant3dOffsetx || 0);\n            var y = prop.titleY + (prop.variant3dOffsety || 0);\n            // Add any adjustment to the positioning\n            if (typeof originalTitleX === 'string') {\n                x += parseFloat(originalTitleX);\n            }\n            if (typeof originalTitleY === 'string') {\n                y += parseFloat(originalTitleY);\n            }\n            RG.SVG.text({\n                object: obj,\n                svg:    obj.svg,\n                parent: obj.svg.all,\n                tag:    'title',\n                text:   prop.title.toString(),\n                size:   prop.titleSize   || (prop.textSize + 4) || 16,\n                x:      x,\n                y:      y,\n                halign: prop.titleHalign || 'center',\n                valign: prop.titleValign || valign,\n                color:  prop.titleColor  || prop.textColor || 'black',\n                bold:   prop.titleBold   || false,\n                italic: prop.titleItalic || false,\n                font:   prop.titleFont   || prop.textFont || 'Arial'\n            });\n        }\n        // Draw the subtitle\n        if (typeof prop.title === 'string' && typeof prop.titleSubtitle === 'string') {\n            // By default, the X and Y coordinates place the subtitle\n            // underneath the title. Though the y coord is now adjusted\n            // so that the subtitle sits underneath the title.\n            y += (prop.titleSubtitleSize * 1.5);\n            // Is the subtitleX or subtitleY are numbers then just use those\n            if (typeof originalTitleSubtitleX === 'number') {\n                x = originalTitleSubtitleX;\n            }\n            if (typeof originalTitleSubtitleY === 'number') {\n                y = originalTitleSubtitleY;\n            }\n            // Add the subtitles adjustment to the position\n            if (typeof originalTitleSubtitleX === 'string') {\n                x += parseFloat(originalTitleSubtitleX);\n            }\n            // Add the subtitles adjustment to the position\n            if (typeof originalTitleSubtitleY === 'string') {\n                y += parseFloat(originalTitleSubtitleY);\n            }\n            RG.SVG.text({\n                object: obj,\n                svg: obj.svg,\n                parent: obj.svg.all,\n                tag:    'subtitle',\n                text:   prop.titleSubtitle,\n                size:   prop.titleSubtitleSize,\n                x:      x,\n                y:      y,\n                halign: prop.titleSubtitleHalign || 'center',\n                valign: prop.titleSubtitleValign || valign,\n                color:  prop.titleSubtitleColor  || prop.textColor || '#aaa',\n                bold:   prop.titleSubtitleBold   || false,\n                italic: prop.titleSubtitleItalic || false,\n                font:   prop.titleSubtitleFont   || prop.textFont || 'Arial'\n            });\n        }\n    };\n    /**\n    * Removes white-space from the start and end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.trim = function (str)\n    {\n        return RG.SVG.ltrim(RG.SVG.rtrim(str));\n    };\n    /**\n    * Trims the white-space from the start of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.ltrim = function (str)\n    {\n        return String(str).replace(/^(\\s|\\0)+/, '');\n    };\n    /**\n    * Trims the white-space off of the end of a string\n    * \n    * @param string str The string to trim\n    */\n    RG.SVG.rtrim = function (str)\n    {\n        return String(str).replace(/(\\s|\\0)+$/, '');\n    };\n    /**\n    * This parses a single color value\n    */\n    RG.SVG.parseColorLinear = function (opt)\n    {\n        var obj   = opt.object,\n            color = opt.color;\n        if (!color || typeof color !== 'string') {\n            return color;\n        }\n        if (color.match(/^gradient\\((.*)\\)$/i)) {\n            var parts = RegExp.$1.split(':'),\n                diff  = 1 / (parts.length - 1);\n            if (opt && opt.direction && opt.direction === 'horizontal') {\n                var grad = RG.SVG.create({\n                    type: 'linearGradient',\n                    parent: obj.svg.defs,\n                    attr: {\n                        id: 'RGraph-linear-gradient-' + obj.uid + '-' + obj.gradientCounter,\n                        x1: opt.start || 0,\n                        x2: opt.end || '100%',\n                        y1: 0,\n                        y2: 0,\n                        gradientUnits: \"userSpaceOnUse\"\n                    }\n                });\n            } else {\n                var grad = RG.SVG.create({\n                    type: 'linearGradient',\n                    parent: obj.svg.defs,\n                    attr: {\n                        id: 'RGraph-linear-gradient-' + obj.uid + '-' + obj.gradientCounter,\n                        x1: 0,\n                        x2: 0,\n                        y1: opt.start || 0,\n                        y2: opt.end || '100%',\n                        gradientUnits: \"userSpaceOnUse\"\n                    }\n                });\n            }\n            // Add the first color stop\n            var stop = RG.SVG.create({\n                type: 'stop',\n                parent: grad,\n                attr: {\n                    offset: '0%',\n                    'stop-color': RG.SVG.trim(parts[0])\n                }\n            });\n            // Add the rest of the color stops\n            for (var j=1,len=parts.length; j<len; ++j) {\n                RG.SVG.create({\n                    type: 'stop',\n                    parent: grad,\n                    attr: {\n                        offset: (j * diff * 100) + '%',\n                        'stop-color': RG.SVG.trim(parts[j])\n                    }\n                });\n            }\n        }\n        color = grad ? 'url(#RGraph-linear-gradient-' + obj.uid + '-' + (obj.gradientCounter++) + ')' : color;\n        return color;\n    };\n    /**\n    * This parses a single color value\n    */\n    RG.SVG.parseColorRadial = function (opt)\n    {\n        var obj   = opt.object,\n            color = opt.color;\n        if (!color || typeof color !== 'string') {\n            return color;\n        }\n        if (color.match(/^gradient\\((.*)\\)$/i)) {\n            var parts = RegExp.$1.split(':'),\n                diff  = 1 / (parts.length - 1);\n            var grad = RG.SVG.create({\n                type: 'radialGradient',\n                parent: obj.svg.defs,\n                attr: {\n                    id: 'RGraph-radial-gradient-' + obj.uid + '-' + obj.gradientCounter,\n                    gradientUnits: opt.gradientUnits || 'userSpaceOnUse',\n                    cx: opt.cx || obj.centerx,\n                    cy: opt.cy || obj.centery,\n                    fx: opt.fx || obj.centerx,\n                    fy: opt.fy || obj.centery,\n                    r:  opt.r  || obj.radius\n                }\n            });\n            // Add the first color stop\n            var stop = RG.SVG.create({\n                type: 'stop',\n                parent: grad,\n                attr: {\n                    offset: '0%',\n                    'stop-color': RG.SVG.trim(parts[0])\n                }\n            });\n            // Add the rest of the color stops\n            for (var j=1,len=parts.length; j<len; ++j) {\n                RG.SVG.create({\n                    type: 'stop',\n                    parent: grad,\n                    attr: {\n                        offset: (j * diff * 100) + '%',\n                        'stop-color': RG.SVG.trim(parts[j])\n                    }\n                });\n            }\n        }\n        color = grad ? 'url(#RGraph-radial-gradient-' + obj.uid + '-' + (obj.gradientCounter++) + ')' : color;\n        return color;\n    };\n    /**\n    * Reset all of the color values to their original values\n    * \n    * @param object\n    */\n    RG.SVG.resetColorsToOriginalValues = function (opt)\n    {\n        var obj = opt.object;\n        if (obj.originalColors) {\n            // Reset the colors to their original values\n            for (var j in obj.originalColors) {\n                if (typeof j === 'string') {\n                    obj.properties[j] = RG.SVG.arrayClone(obj.originalColors[j]);\n                }\n            }\n        }\n        /**\n        * If the function is present on the object to reset specific\n        * colors - use that\n        */\n        if (typeof obj.resetColorsToOriginalValues === 'function') {\n            obj.resetColorsToOriginalValues();\n        }\n        // Hmmm... Should this be necessary? I don't think it will\n        // do any harm to leave it in.\n        obj.originalColors = {};\n        // Reset the colorsParsed flag so that they're parsed for gradients again\n        obj.colorsParsed = false;\n        // Reset the gradient counter\n        obj.gradientCounter = 1;\n    };\n    //\n    // Clear the SVG tag by deleting all of its\n    // child nodes\n    //\n    // @param object svg The SVG tag (same as what is returned\n    //                   by document.getElementById() )\n    //\n    RG.SVG.clear = function (svg)\n    {\n        // Clear all the layer nodes\n        for (var i=1; i<=100; ++i) {\n            if (svg['background' + i]) {\n                // Clear all the nodes within this group\n                while (svg['background' + i].lastChild) {\n                    svg['background' + i].removeChild(svg['background' + i].lastChild);\n                }\n            } else {\n                break;\n            }\n        }\n        // Clear all the node within the \"all\" group\n        while (svg.all.lastChild) {\n            svg.all.removeChild(svg.all.lastChild);\n        }\n        // Clear Line chart hotspots\n        if (svg.all.line_tooltip_hotspots) {\n            while (svg.all.line_tooltip_hotspots.lastChild) {\n                svg.all.line_tooltip_hotspots.removeChild(svg.all.line_tooltip_hotspots.lastChild);\n            }\n        }\n    };\n    /**\n    * Adds an event listener\n    * \n    * @param object obj   The graph object\n    * @param string event The name of the event, eg ontooltip\n    * @param object func  The callback function\n    */\n    RG.SVG.addCustomEventListener = function (obj, name, func)\n    {\n        // Initialise the events array if necessary\n        if (typeof RG.SVG.events[obj.uid] === 'undefined') {\n            RG.SVG.events[obj.uid] = [];\n        }\n        // Prepend \"on\" if necessary\n        if (name.substr(0, 2) !== 'on') {\n            name = 'on' + name;\n        }\n        RG.SVG.events[obj.uid].push({\n            object: obj,\n            event:  name,\n            func:   func\n        });\n        return RG.SVG.events[obj.uid].length - 1;\n    };\n    /**\n    * Used to fire one of the RGraph custom events\n    * \n    * @param object obj   The graph object that fires the event\n    * @param string event The name of the event to fire\n    */\n    RG.SVG.fireCustomEvent = function (obj, name)\n    {\n        if (obj && obj.isRGraph) {\n            var uid = obj.uid;\n            if (   typeof uid === 'string'\n                && typeof RG.SVG.events === 'object'\n                && typeof RG.SVG.events[uid] === 'object'\n                && RG.SVG.events[uid].length > 0) {\n                for(var j=0,len=RG.SVG.events[uid].length; j<len; ++j) {\n                    if (RG.SVG.events[uid][j] && RG.SVG.events[uid][j].event === name) {\n                        RG.SVG.events[uid][j].func(obj);\n                    }\n                }\n            }\n        }\n    };\n    /**\n    * Clears all the custom event listeners that have been registered\n    * \n    * @param string optional Limits the clearing to this object UID\n    */\n    RG.SVG.removeAllCustomEventListeners = function ()\n    {\n        var uid = arguments[0];\n        if (uid && RG.SVG.events[uid]) {\n            RG.SVG.events[uid] = {};\n        } else {\n            RG.SVG.events = [];\n        }\n    };\n    /**\n    * Clears a particular custom event listener\n    * \n    * @param object obj The graph object\n    * @param number i   This is the index that is return by .addCustomEventListener()\n    */\n    RG.SVG.removeCustomEventListener = function (obj, i)\n    {\n        if (   typeof RG.SVG.events === 'object'\n            && typeof RG.SVG.events[obj.uid] === 'object'\n            && typeof RG.SVG.events[obj.uid][i] === 'object') {\n            RG.SVG.events[obj.uid][i] = null;\n        }\n    };\n    //\n    // Removes the highlight from the chart added by tooltips (possibly others too)\n    //\n    RG.SVG.removeHighlight = function (obj)\n    {\n        var highlight = RG.SVG.REG.get('highlight');\n        if (highlight && RG.SVG.isArray(highlight) && highlight.length) {\n            for (var i=0,len=highlight.length; i<len; ++i) {\n                if (highlight[i].parentNode) {\n                    //obj.svg.removeChild(highlight[i]);\n                    highlight[i].parentNode.removeChild(highlight[i]);\n                }\n            }\n        } else if (highlight && highlight.parentNode) {\n            if (obj.type === 'scatter') {\n                highlight.setAttribute('fill', 'transparent');\n            } else {\n                highlight.parentNode.removeChild(highlight);\n            }\n        }\n    };\n    //\n    // Removes the highlight from the chart added by tooltips (possibly others too)\n    //\n    RG.SVG.redraw = function ()\n    {\n        if (arguments.length === 1) {\n            var svg = arguments[0];\n            RG.SVG.clear(svg);\n            var objects = RG.SVG.OR.get('id:' + svg.parentNode.id);\n            for (var i=0,len=objects.length; i<len; ++i) {\n                // Reset the colors to the original values\n                RG.SVG.resetColorsToOriginalValues({object: objects[i]});\n                objects[i].draw();\n            }\n        } else {\n            var tags = RG.SVG.OR.tags();\n            for (var i in tags) {\n                RG.SVG.redraw(tags[i]);\n            }\n        }\n    };\n    //\n    // A better, more flexible, date parsing function\n    //\n    //@param  string str The string to parse\n    //@return number     A number, as returned by Date.parse()\n    //\n    RG.SVG.parseDate = function (str)\n    {\n        var d = new Date();\n        // Initialise the default values\n        var defaults = {\n            seconds: '00',\n            minutes: '00',\n            hours: '00',\n            date: d.getDate(),\n            month: d.getMonth() + 1,\n            year: d.getFullYear()\n        };\n        // Create the months array for turning textual months back to numbers\n        var months       = ['january','february','march','april','may','june','july','august','september','october','november','december'],\n            months_regex = months.join('|');\n        for (var i=0; i<months.length; ++i) {\n            months[months[i]] = i;\n            months[months[i].substring(0,3)] = i;\n            months_regex = months_regex + '|' + months[i].substring(0,3);\n        }\n        // These are the seperators allowable for d/m/y and y/m/d dates\n        // (Its part of a regexp so the position of the square brackets\n        //  is crucial)\n        var sep = '[-./_=+~#:;,]+';\n        // Tokenise the string\n        var tokens = str.split(/ +/);\n        // Loop through each token checking what is is\n        for (var i=0,len=tokens.length; i<len; ++i) {\n            if (tokens[i]) {\n                // Year\n                if (tokens[i].match(/^\\d\\d\\d\\d$/)) {\n                    defaults.year = tokens[i];\n                }\n                // Month\n                var res = isMonth(tokens[i]);\n                if (typeof res === 'number') {\n                    defaults.month = res + 1; // Months are zero indexed\n                }\n                // Date\n                if (tokens[i].match(/^\\d?\\d(?:st|nd|rd|th)?$/)) {\n                    defaults.date = parseInt(tokens[i]);\n                }\n                // Time\n                if (tokens[i].match(/^(\\d\\d):(\\d\\d):?(?:(\\d\\d))?$/)) {\n                    defaults.hours   = parseInt(RegExp.$1);\n                    defaults.minutes = parseInt(RegExp.$2);\n                    if (RegExp.$3) {\n                        defaults.seconds = parseInt(RegExp.$3);\n                    }\n                }\n                // Dateformat: XXXX-XX-XX\n                if (tokens[i].match(new RegExp('^(\\\\d\\\\d\\\\d\\\\d)' + sep + '(\\\\d\\\\d)' + sep + '(\\\\d\\\\d)$', 'i'))) {\n                    defaults.date  = parseInt(RegExp.$3);\n                    defaults.month = parseInt(RegExp.$2);\n                    defaults.year  = parseInt(RegExp.$1);\n                }\n                // Dateformat: XX-XX-XXXX\n                if (tokens[i].match(new RegExp('^(\\\\d\\\\d)' + sep + '(\\\\d\\\\d)' + sep + '(\\\\d\\\\d\\\\d\\\\d)$','i') )) {\n                    defaults.date  = parseInt(RegExp.$1);\n                    defaults.month = parseInt(RegExp.$2);\n                    defaults.year  = parseInt(RegExp.$3);\n                }\n            }\n        }\n        // Now put the defaults into a format thats recognised by Date.parse()\n        str = '{1}/{2}/{3} {4}:{5}:{6}'.format(\n            defaults.year,\n            String(defaults.month).length     === 1 ? '0' + (defaults.month) : defaults.month,\n            String(defaults.date).length      === 1 ? '0' + (defaults.date)      : defaults.date,\n            String(defaults.hours).length     === 1 ? '0' + (defaults.hours)     : defaults.hours,\n            String(defaults.minutes).length   === 1 ? '0' + (defaults.minutes)   : defaults.minutes,\n            String(defaults.seconds).length   === 1 ? '0' + (defaults.seconds)   : defaults.seconds\n        );\n        return Date.parse(str);\n        //\n        // Support functions\n        //\n        function isMonth(str)\n        {\n            var res = str.toLowerCase().match(months_regex);\n            return res ? months[res[0]] : false;\n        }\n    };\n    // The ObjectRegistry add function\n    RG.SVG.OR.add = function (obj)\n    {\n        RG.SVG.OR.objects.push(obj);\n        return obj;\n    };\n    // The ObjectRegistry function that returns all of the objects. Th argument\n    // can aither be:\n    //\n    // o omitted  All of the registered objects are returned\n    // o id:XXX  All of the objects on that SVG tag are returned\n    // o type:XXX All the objects of that type are returned\n    //\n    RG.SVG.OR.get = function ()\n    {\n        // Fetch objects that are on a particular SVG tag\n        if (typeof arguments[0] === 'string' && arguments[0].substr(0, 3).toLowerCase() === 'id:') {\n            var ret = [];\n            for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n                if (RG.SVG.OR.objects[i].id === arguments[0].substr(3)) {\n                    ret.push(RG.SVG.OR.objects[i]);\n                }\n            }\n            return ret;\n        }\n        // Fetch objects that are of a particular type\n        //\n        // TODO Allow multiple types to be specified\n        if (typeof arguments[0] === 'string' && arguments[0].substr(0, 4).toLowerCase() === 'type') {\n            var ret = [];\n            for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n                if (RG.SVG.OR.objects[i].type === arguments[0].substr(5)) {\n                    ret.push(RG.SVG.OR.objects[i]);\n                }\n            }\n            return ret;\n        }\n        // Fetch an object that has a specific UID\n        if (typeof arguments[0] === 'string' && arguments[0].substr(0, 3).toLowerCase() === 'uid') {\n            var ret = [];\n            for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n                if (RG.SVG.OR.objects[i].uid === arguments[0].substr(4)) {\n                    ret.push(RG.SVG.OR.objects[i]);\n                }\n            }\n            return ret;\n        }\n        return RG.SVG.OR.objects;\n    };\n    // The ObjectRegistry function that returns all of the registeredt SVG tags\n    //\n    RG.SVG.OR.tags = function ()\n    {\n        var tags = [];\n        for (var i=0; i<RG.SVG.OR.objects.length; ++i) {\n            if (!tags[RG.SVG.OR.objects[i].svg.parentNode.id]) {\n                tags[RG.SVG.OR.objects[i].svg.parentNode.id] = RG.SVG.OR.objects[i].svg;\n            }\n        }\n        return tags;\n    };\n    //\n    // This function returns a two element array of the SVG x/y position in\n    // relation to the page\n    // \n    // @param object svg\n    //\n    RG.SVG.getSVGXY = function (svg)\n    {\n        var x  = 0,\n            y  = 0,\n            el = svg.parentNode; // !!!\n        do {\n            x += el.offsetLeft;\n            y += el.offsetTop;\n            // Account for tables in webkit\n            if (el.tagName.toLowerCase() == 'table' && (RG.SVG.ISCHROME || RG.SVG.ISSAFARI)) {\n                x += parseInt(el.border) || 0;\n                y += parseInt(el.border) || 0;\n            }\n            el = el.offsetParent;\n        } while (el && el.tagName && el.tagName.toLowerCase() != 'body');\n        var paddingLeft = svg.style.paddingLeft ? parseInt(svg.style.paddingLeft) : 0,\n            paddingTop  = svg.style.paddingTop ? parseInt(svg.style.paddingTop) : 0,\n            borderLeft  = svg.style.borderLeftWidth ? parseInt(svg.style.borderLeftWidth) : 0,\n            borderTop   = svg.style.borderTopWidth  ? parseInt(svg.style.borderTopWidth) : 0;\n        if (navigator.userAgent.indexOf('Firefox') > 0) {\n            x += parseInt(document.body.style.borderLeftWidth) || 0;\n            y += parseInt(document.body.style.borderTopWidth) || 0;\n        }\n        return [x + paddingLeft + borderLeft, y + paddingTop + borderTop];\n    };\n    //\n    // This function is a compatibility wrapper around\n    // the requestAnimationFrame function.\n    //\n    // @param function func The function to give to the\n    //                      requestAnimationFrame function\n    //\n    RG.SVG.FX.update = function (func)\n    {\n        win.requestAnimationFrame =\n            win.requestAnimationFrame ||\n            win.webkitRequestAnimationFrame ||\n            win.msRequestAnimationFrame ||\n            win.mozRequestAnimationFrame ||\n            (function (func){setTimeout(func, 16.666);});\n        win.requestAnimationFrame(func);\n    };\n    /**\n    * This function returns an easing multiplier for effects so they eas out towards the\n    * end of the effect.\n    * \n    * @param number frames The total number of frames\n    * @param number frame  The frame number\n    */\n    RG.SVG.FX.getEasingMultiplier = function (frames, frame)\n    {\n        var multiplier = ma.pow(ma.sin((frame / frames) * RG.SVG.TRIG.HALFPI), 3);\n        return multiplier;\n    };\n    /**\n    * Measures text by creating a DIV in the document and adding the relevant\n    * text to it, then checking the .offsetWidth and .offsetHeight.\n    * \n    * @param  object opt An object containing the following:\n    *                        o text( string) The text to measure\n    *                        o bold (bool)   Whether the text is bold or not\n    *                        o font (string) The font to use\n    *                        o size (number) The size of the text (in pts)\n    * \n    * @return array         A two element array of the width and height of the text\n    */\n    RG.SVG.measureText = function (opt)\n    {\n        //text, bold, font, size\n        var text = opt.text || '',\n            bold = opt.bold || false,\n            font = opt.font || 'Arial',\n            size = opt.size || 10,\n            str  = text + ':' + bold + ':' + font + ':' + size;\n        // Add the sizes to the cache as adding DOM elements is costly and causes slow downs\n        if (typeof RG.SVG.measuretext_cache === 'undefined') {\n            RG.SVG.measuretext_cache = [];\n        }\n        if (typeof RG.SVG.measuretext_cache == 'object' && RG.SVG.measuretext_cache[str]) {\n            return RG.SVG.measuretext_cache[str];\n        }\n        if (!RG.SVG.measuretext_cache['text-span']) {\n            var span = document.createElement('SPAN');\n                span.style.position = 'absolute';\n                //span.style.backgroundColor = 'red';\n                span.style.padding    = 0;\n                span.style.display    = 'inline';\n                span.style.top        = '-200px';\n                span.style.left       = '-200px';\n                span.style.lineHeight = '1em';\n            document.body.appendChild(span);\n            // Now store the newly created DIV\n            RG.SVG.measuretext_cache['text-span'] = span;\n        } else if (RG.SVG.measuretext_cache['text-span']) {\n            var span = RG.SVG.measuretext_cache['text-span'];\n        }\n        span.innerHTML        = text.replace(/\\r?\\n/g, '<br />');\n        span.style.fontFamily = font;\n        span.style.fontWeight = bold ? 'bold' : 'normal';\n        span.style.fontSize   = String(size).replace(/pt$/, '') + 'pt';\n        var sizes = [span.offsetWidth, span.offsetHeight];\n        //document.body.removeChild(span);\n        RG.SVG.measuretext_cache[str] = sizes;\n        return sizes;\n    };\n    /**\n    * This function converts an array of strings to an array of numbers. Its used by the meter/gauge\n    * style charts so that if you want you can pass in a string. It supports various formats:\n    * \n    * '45.2'\n    * '-45.2'\n    * ['45.2']\n    * ['-45.2']\n    * '45.2,45.2,45.2' // A CSV style string\n    * \n    * @param number frames The string or array to parse\n    */\n    RG.SVG.stringsToNumbers = function (str)\n    {\n        // An optional seperator to use intead of a comma\n        var sep = arguments[1] || ',';\n        // If it's already a number just return it\n        if (typeof str === 'number') {\n            return str;\n        }\n        if (typeof str === 'string') {\n            if (str.indexOf(sep) != -1) {\n                str = str.split(sep);\n            } else {\n                str = parseFloat(str);\n            }\n        }\n        if (typeof str === 'object') {\n            for (var i=0,len=str.length; i<len; i+=1) {\n                str[i] = parseFloat(str[i]);\n            }\n        }\n        return str;\n    };\n    // This function allows for numbers that are given as a +/- adjustment\n    RG.SVG.getAdjustedNumber = function (opt)\n    {\n        var value = opt.value,\n            prop  = opt.prop;\n        if (typeof prop === 'string' && match(/^(\\+|-)([0-9.]+)/)) {\n            if (RegExp.$1 === '+') {\n                value += parseFloat(RegExp.$2);\n            } else if (RegExp.$1 === '-') {\n                value -= parseFloat(RegExp.$2);\n            }\n        }\n        return value;\n    };\n    // NOT USED ANY MORE\n    RG.SVG.attribution=function(){return;};\n    /**\n    * Parse a gradient and returns the various parts\n    * \n    * @param string str The gradient string\n    */\n    RG.SVG.parseGradient = function (str)\n    {\n    };\n    /**\n    * Generates a random number between the minimum and maximum\n    * \n    * @param number min The minimum value\n    * @param number max The maximum value\n    * @param number     OPTIONAL Number of decimal places\n    */\n    RG.SVG.random = function (opt)\n    {\n        var min = opt.min,\n            max = opt.max,\n            dp  = opt.dp || opt.decimals || 0,\n            r   = ma.random();\n        return Number((((max - min) * r) + min).toFixed(dp));\n    };\n    /**\n    * Fill an array full of random numbers\n    */\n    RG.SVG.arrayRand    =\n    RG.SVG.arrayRandom  =\n    RG.SVG.random.array = function (opt)\n    {\n        var num = opt.num,\n            min = opt.min,\n            max = opt.max,\n            dp  = opt.dp || opt.decimals || 0;\n        for(var i=0,arr=[]; i<num; i+=1) {\n            arr.push(RG.SVG.random({min: min, max: max, dp: dp}));\n        }\n        return arr;\n    };\n    //\n    // This function is called by each objects setter so that common BC\n    // and adjustments are centralised. And there's less typing for me too.\n    //\n    // @param object opt An object of options to the function, which are:\n    //                    object: The chart object\n    //                    name:   The name of the config parameter\n    //                    value:  The value thats being set\n    //\n    RG.SVG.commonSetter = function (opt)\n    {\n        var obj   = opt.object,\n            name  = opt.name,\n            value = opt.value;\n        // The default event for tooltips is click\n        if (name === 'tooltipsEvent'&& value !== 'click' && value !== 'mousemove') {\n            value = 'click';\n        }\n        return {\n            name:  name,\n            value: value\n        };\n    };\n    //\n    // Generates logs for... log charts\n    //\n    // @param object opt The options:\n    //                     o num  The number\n    //                     o base The base\n    //\n    RG.SVG.log = function (opt)\n    {\n        var num  = opt.num,\n            base = opt.base;\n        return ma.log(num) / (base ? ma.log(base) : 1);\n    };\n    RG.SVG.donut = function (opt)\n    {\n        var arcPath1 = RG.SVG.TRIG.getArcPath3({\n            cx: opt.cx,\n            cy: opt.cy,\n            r: opt.outerRadius,\n            start: 0,\n            end: RG.SVG.TRIG.TWOPI,\n            anticlockwise: false,\n            lineto: false\n        });\n        var arcPath2 = RG.SVG.TRIG.getArcPath3({\n            cx: opt.cx,\n            cy: opt.cy,\n            r: opt.innerRadius,\n            start: RG.SVG.TRIG.TWOPI,\n            end: 0,\n            anticlockwise: true,\n            lineto: false\n        });\n        //\n        // Create the red circle\n        //\n        var path = RG.SVG.create({\n            svg: opt.svg,\n            type: 'path',\n            attr: {\n                d: arcPath1 + arcPath2,\n                stroke: opt.stroke,\n                fill: opt.fill\n            }\n        });\n        return path;\n    };\n    //\n    // Copy the globals (if any have been set) from the global object to\n    // this instances configuration\n    //\n    RG.SVG.getGlobals = function (obj)\n    {\n        var prop = obj.properties;\n        for (i in RG.SVG.GLOBALS) {\n            if (typeof i === 'string') {\n                prop[i] = RG.SVG.arrayClone(RG.SVG.GLOBALS[i]);\n            }\n        }\n    };\n    //\n    // This function adds a link to the SVG document\n    //\n    // @param object opt The various options to the function\n    //\n    RG.SVG.link = function (opt)\n    {\n        var a = RGraph.SVG.create({\n            svg: bar.svg,\n            type: 'a',\n            parent: bar.svg.all,\n            attr: {\n                'xlink:href': href,\n                target:       target\n            }\n        });\n        var text = RGraph.SVG.create({\n            svg: bar.svg,\n            type: 'text',\n            parent: a,\n            attr: {\n                x: x,\n                y: y,\n                fill: fill\n            }\n        });\n        text.innerHTML = text;\n    };\n    // This function is used to get the errorbar MAXIMUM value. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsMaxValue = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        if (typeof prop.errorbars === 'object' && !RG.SVG.isNull(prop.errorbars) && typeof prop.errorbars[index] === 'number') {\n            var value = prop.errorbars[index];\n        } else if (   typeof prop.errorbars === 'object'\n                   && !RG.SVG.isNull(prop.errorbars)\n                   && typeof prop.errorbars[index] === 'object'\n                   && !RG.SVG.isNull(prop.errorbars[index])\n                   && typeof prop.errorbars[index].max === 'number'\n                  ) {\n            var value = prop.errorbars[index].max;\n        } else {\n            var value = 0;\n        }\n        return value;\n    };\n    // This function is used to get the errorbar MINIMUM value. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsMinValue = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        if (   typeof prop.errorbars === 'object'\n            && !RG.SVG.isNull(prop.errorbars)\n            && typeof prop.errorbars[index] === 'object'\n            && !RG.SVG.isNull(prop.errorbars[index])\n            && typeof prop.errorbars[index].min === 'number'\n           ) {\n            var value = prop.errorbars[index].min;\n        } else {\n            var value = null;\n        }\n        return value;\n    };\n    // This function is used to get the errorbar color. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsColor = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        var color = prop.errorbarsColor || 'black';\n        if (typeof prop.errorbars === 'object' && !RG.SVG.isNull(prop.errorbars) && typeof prop.errorbars[index] === 'object' && !RG.SVG.isNull(prop.errorbars[index]) && typeof prop.errorbars[index].color === 'string') {\n            color = prop.errorbars[index].color;\n        }\n        return color;\n    };\n    // This function is used to get the errorbar linewidth. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsLinewidth = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        var linewidth = prop.errorbarsLinewidth || 1\n        if (typeof prop.errorbars === 'object' && !RG.SVG.isNull(prop.errorbars) && typeof prop.errorbars[index] === 'object' && !RG.SVG.isNull(prop.errorbars[index]) && typeof prop.errorbars[index].linewidth === 'number') {\n            linewidth = prop.errorbars[index].linewidth;\n        }\n        return linewidth;\n    };\n    // This function is used to get the errorbar capWidth. Its in the common\n    // file because it's used by multiple chart libraries\n    //\n    // @param object opt An object containing the arguments to the function\n    //         o object: The chart object\n    //         o index:  The index to fetch\n    RG.SVG.getErrorbarsCapWidth = function (opt)\n    {\n        var obj   = opt.object,\n            prop  = obj.properties,\n            index = opt.index;\n        var capwidth = prop.errorbarsCapwidth || 10\n        if (   typeof prop.errorbars === 'object'\n            && !RG.SVG.isNull(prop.errorbars)\n            && typeof prop.errorbars[index] === 'object'\n            && !RG.SVG.isNull(prop.errorbars[index])\n            && typeof prop.errorbars[index].capwidth === 'number'\n            ) {\n            capwidth = prop.errorbars[index].capwidth;\n        }\n        return capwidth;\n    };\n    //\n    // This is here so that if the tooltip library has not\n    // been included, this function will show an alert\n    //informing the user\n    //\n    if (typeof RG.SVG.tooltip !== 'function') {\n        RG.SVG.tooltip = function ()\n        {\n            $$a('The tooltip library has not been included!');\n        };\n    }\n// End module pattern\n})(window, document);\n/**\n* Loosly mimicks the PHP function print_r();\n*/\nwindow.$p = function (obj)\n{\n    var indent = (arguments[2] ? arguments[2] : '    ');\n    var str    = '';\n    var counter = typeof arguments[3] == 'number' ? arguments[3] : 0;\n    if (counter >= 5) {\n        return '';\n    }\n    switch (typeof obj) {\n        case 'string':    str += obj + ' (' + (typeof obj) + ', ' + obj.length + ')'; break;\n        case 'number':    str += obj + ' (' + (typeof obj) + ')'; break;\n        case 'boolean':   str += obj + ' (' + (typeof obj) + ')'; break;\n        case 'function':  str += 'function () {}'; break;\n        case 'undefined': str += 'undefined'; break;\n        case 'null':      str += 'null'; break;\n        case 'object':\n            // In case of null\n            if (RGraph.SVG.isNull(obj)) {\n                str += indent + 'null\\n';\n            } else {\n                str += indent + 'Object {' + '\\n'\n                for (j in obj) {\n                    str += indent + '    ' + j + ' => ' + window.$p(obj[j], true, indent + '    ', counter + 1) + '\\n';\n                }\n                str += indent + '}';\n            }\n            break;\n        default:\n            str += 'Unknown type: ' + typeof obj + '';\n            break;\n    }\n    /**\n    * Finished, now either return if we're in a recursed call, or alert()\n    * if we're not.\n    */\n    if (!arguments[1]) {\n        alert(str);\n    }\n    return str;\n};\n/**\n* A shorthand for the default alert() function\n*/\nwindow.$$a = function (v)\n{\n    alert(v);\n};\n/**\n* Short-hand for console.log\n* \n* @param mixed v The variable to log to the console\n*/\nwindow.$cl = function (v)\n{\n    return console.log(v);\n};\n/**\n* A basic string formatting function. Use it like this:\n* \n* var str = '{1} {2} {3}'.format('a', 'b', 'c');\n* \n* Outputs: a b c\n*/\nif (!String.prototype.format) {\n  String.prototype.format = function()\n  {\n    var args = arguments;\n    return this.replace(/{(\\d+)}/g, function(str, idx)\n    {\n      return typeof args[idx - 1] !== 'undefined' ? args[idx - 1] : str;\n    });\n  };\n};\n// version: 2018-06-24-143455\n    /**\n    * o--------------------------------------------------------------------------------o\n    * | This file is part of the RGraph package - you can learn more at:               |\n    * |                                                                                |\n    * |                          http://www.rgraph.net                                 |\n    * |                                                                                |\n    * | RGraph is licensed under the Open Source MIT license. That means that it's     |\n    * | totally free to use and there are no restrictions on what you can do with it!  |\n    * o--------------------------------------------------------------------------------o\n    */\n    RGraph     = window.RGraph || {isRGraph: true,isRGraphSVG: true};\n    RGraph.SVG = RGraph.SVG || {};\n// Module pattern\n(function (win, doc, undefined)\n{\n    var RG  = RGraph,\n        ua  = navigator.userAgent,\n        ma  = Math;\n    /**\n    * This is used in two functions, hence it's here\n    */\n    RG.SVG.tooltips       = {};\n    RG.SVG.tooltips.style = {\n        display:    'inline-block',\n        position:   'absolute',\n        padding:    '6px',\n        fontFamily: 'Arial',\n        fontSize:   '12pt',\n        fontWeight: 'normal',\n        textAlign:  'center',\n        left:       0,\n        top:        0,\n        backgroundColor: 'rgb(255,255,239)',\n        color:      'black',\n        visibility: 'visible',\n        zIndex:     3,\n        borderRadius: '5px',\n        boxShadow:  'rgba(96,96,96,0.5) 0 0 5px',\n        transition: 'left ease-out .25s, top ease-out .25s'\n    };\n    //\n    // Shows a tooltip\n    //\n    // @param obj The chart object\n    // @param opt The options\n    //\n    RG.SVG.tooltip = function (opt)\n    {\n        var obj = opt.object;\n        // Fire the beforetooltip event\n        RG.SVG.fireCustomEvent(obj, 'onbeforetooltip');\n        if (!opt.text || typeof opt.text === 'undefined' || RG.SVG.trim(opt.text).length === 0) {\n            return;\n        }\n        var prop = obj.properties;\n        /**\n        * chart.tooltip.override allows you to totally take control of rendering the tooltip yourself\n        */\n        if (typeof prop.tooltipsOverride === 'function') {\n            // Add the body click handler that clears the highlight if necessary\n            //\n            document.body.addEventListener('mouseup', function (e)\n            {\n                obj.removeHighlight();\n            }, false);\n            return (prop.tooltipsOverride)(obj, opt);\n        }\n        // Create the tooltip DIV element\n        if (!RG.SVG.REG.get('tooltip')) {\n            var tooltipObj        = document.createElement('DIV');\n            tooltipObj.className  = prop.tooltipsCssClass;\n            // Add the default CSS to the tooltip\n            for (var i in RG.SVG.tooltips.style) {\n                if (typeof i === 'string') {\n                    tooltipObj.style[i] = RG.SVG.tooltips.style[i];\n                }\n            }\n        // Reuse an existing tooltip\n        } else {\n            var tooltipObj = RG.SVG.REG.get('tooltip');\n            tooltipObj.__object__.removeHighlight();\n            // This prevents the object from continuously growing\n            tooltipObj.style.width = '';\n        }\n        if (RG.SVG.REG.get('tooltip-lasty')) {\n            tooltipObj.style.left = RG.SVG.REG.get('tooltip-lastx') + 'px';\n            tooltipObj.style.top  = RG.SVG.REG.get('tooltip-lasty') + 'px';\n        }\n        tooltipObj.innerHTML  = opt.text;\n        tooltipObj.__text__   = opt.text; // This is set because the innerHTML can change when it's set\n        tooltipObj.id         = '__rgraph_tooltip_' + obj.id + '_' + obj.uid + '_'+  opt.index;\n        tooltipObj.__event__  = prop.tooltipsEvent || 'click';\n        tooltipObj.__object__ = obj;\n        // Add the index\n        if (typeof opt.index === 'number') {\n            tooltipObj.__index__ = opt.index;\n        }\n        // Add the dataset\n        if (typeof opt.dataset === 'number') {\n            tooltipObj.__dataset__ = opt.dataset;\n        }\n        // Add the group\n        if (typeof opt.group === 'number' || RG.SVG.isNull(opt.group)) {\n            tooltipObj.__group__ = opt.group;\n        }\n        // Add the sequentialIndex\n        if (typeof opt.sequentialIndex === 'number') {\n            tooltipObj.__sequentialIndex__ = opt.sequentialIndex;\n        }\n        // Add the tooltip to the document\n        document.body.appendChild(tooltipObj);\n        var width  = tooltipObj.offsetWidth,\n            height = tooltipObj.offsetHeight;\n        // Move the tooltip into position\n        tooltipObj.style.left = opt.event.pageX - (width / 2) + 'px';\n        tooltipObj.style.top  = opt.event.pageY - height - 15 + 'px';\n        /**\n        * Set the width on the tooltip so it doesn't resize if the window is resized\n        */\n        tooltipObj.style.width = width + 'px';\n        // Fade the tooltip in if the tooltip is not the first view\n        if (!RG.SVG.REG.get('tooltip-lastx')) {\n            for (var i=0; i<=30; ++i) {\n                (function (idx)\n                {\n                    setTimeout(function ()\n                    {\n                        tooltipObj.style.opacity = (idx / 30) * 1;\n                    }, (idx / 30) * 200);\n                })(i);\n            }\n        }\n        // If the left is less than zero - set it to 5\n        if (parseFloat(tooltipObj.style.left) <= 5) {\n            tooltipObj.style.left = '5px';\n        }\n        // If the tooltip goes over the right hand edge then\n        // adjust the positioning\n        if (parseFloat(tooltipObj.style.left) + parseFloat(tooltipObj.style.width) > window.innerWidth) {\n            tooltipObj.style.left  = ''\n            tooltipObj.style.right = '5px'\n        }\n        // If the canvas has fixed positioning then set the tooltip position to\n        // fixed too\n        if (RG.SVG.isFixed(obj.svg)) {\n            var scrollTop = window.scrollY || document.documentElement.scrollTop;\n            tooltipObj.style.position = 'fixed';\n            tooltipObj.style.top      = opt.event.pageY - scrollTop - height - 10 + 'px';\n        }\n        // Cancel the mousedown event\n        tooltipObj.onmousedown = function (e)\n        {\n            e.stopPropagation();\n        };\n        // Cancel the mouseup event\n        tooltipObj.onmouseup = function (e)\n        {\n            e.stopPropagation();\n        };\n        // Cancel the click event\n        tooltipObj.onclick  = function (e)\n        {\n            if (e.button == 0) {\n                e.stopPropagation();\n            }\n        };\n        // Add the body click handler that clears the tooltip\n        document.body.addEventListener('mouseup', function (e)\n        {\n            RG.SVG.hideTooltip();\n        }, false);\n        /**\n        * Keep a reference to the tooltip in the registry\n        */\n        RG.SVG.REG.set('tooltip', tooltipObj);\n        RG.SVG.REG.set('tooltip-lastx', parseFloat(tooltipObj.style.left));\n        RG.SVG.REG.set('tooltip-lasty', parseFloat(tooltipObj.style.top));\n        //\n        // Fire the tooltip event\n        //\n        RG.SVG.fireCustomEvent(obj, 'ontooltip');\n    };\n// End module pattern\n})(window, document);;\n// version: 2018-06-24-143455\n    /**\n    * o--------------------------------------------------------------------------------o\n    * | This file is part of the RGraph package - you can learn more at:               |\n    * |                                                                                |\n    * |                          http://www.rgraph.net                                 |\n    * |                                                                                |\n    * | RGraph is licensed under the Open Source MIT license. That means that it's     |\n    * | totally free to use and there are no restrictions on what you can do with it!  |\n    * o--------------------------------------------------------------------------------o\n    */\n    RGraph = window.RGraph || {isRGraph: true};\n    RGraph.SVG = RGraph.SVG || {};\n// Module pattern\n(function (win, doc, undefined)\n{\n    var RG  = RGraph,\n        ua  = navigator.userAgent,\n        ma  = Math,\n        win = window,\n        doc = document;\n    RG.SVG.Bar = function (conf)\n    {\n        //\n        // A setter that the constructor uses (at the end)\n        // to set all of the properties\n        //\n        // @param string name  The name of the property to set\n        // @param string value The value to set the property to\n        //\n        this.set = function (name, value)\n        {\n            if (arguments.length === 1 && typeof name === 'object') {\n                for (i in arguments[0]) {\n                    if (typeof i === 'string') {\n                        var ret = RG.SVG.commonSetter({\n                            object: this,\n                            name:   i,\n                            value:  arguments[0][i]\n                        });\n                        name  = ret.name;\n                        value = ret.value;\n                        this.set(name, value);\n                    }\n                }\n            } else {\n                var ret = RG.SVG.commonSetter({\n                    object: this,\n                    name:   name,\n                    value:  value\n                });\n                name  = ret.name;\n                value = ret.value;\n                this.properties[name] = value;\n                // If setting the colors, update the originalColors\n                // property too\n                if (name === 'colors') {\n                    this.originalColors = RG.SVG.arrayClone(value);\n                    this.colorsParsed = false;\n                }\n            }\n            return this;\n        };\n        this.id               = conf.id;\n        this.uid              = RG.SVG.createUID();\n        this.container        = document.getElementById(this.id);\n        this.layers           = {}; // MUST be before the SVG tag is created!\n        this.svg              = RG.SVG.createSVG({object: this,container: this.container});\n        this.isRGraph         = true;\n        this.data             = conf.data;\n        this.type             = 'bar';\n        this.coords           = [];\n        this.coords2          = [];\n        this.stackedBackfaces = [];\n        this.originalColors   = {};\n        this.gradientCounter  = 1;\n        // Add this object to the ObjectRegistry\n        RG.SVG.OR.add(this);\n        this.container.style.display = 'inline-block';\n        this.properties =\n        {\n            gutterLeft:   35,\n            gutterRight:  35,\n            gutterTop:    35,\n            gutterBottom: 35,\n            variant:          null,\n            variant3dOffsetx: 10,\n            variant3dOffsety: 5,\n            backgroundColor:            null,\n            backgroundImage:            null,\n            backgroundImageAspect:      'none',\n            backgroundImageStretch:     true,\n            backgroundImageOpacity:     null,\n            backgroundImageX:           null,\n            backgroundImageY:           null,\n            backgroundImageW:           null,\n            backgroundImageH:           null,\n            backgroundGrid:             true,\n            backgroundGridColor:        '#ddd',\n            backgroundGridLinewidth:    1,\n            backgroundGridHlines:       true,\n            backgroundGridHlinesCount:  null,\n            backgroundGridVlines:       true,\n            backgroundGridVlinesCount:  null,\n            backgroundGridBorder:       true,\n            backgroundGridDashed:       false,\n            backgroundGridDotted:       false,\n            backgroundGridDashArray:    null,\n            // 20 colors. If you need more you need to set the colors property\n            colors: [\n                'red', '#0f0', '#00f', '#ff0', '#0ff', '#0f0','pink','orange','gray','black',\n                'red', '#0f0', '#00f', '#ff0', '#0ff', '#0f0','pink','orange','gray','black'\n            ],\n            colorsSequential:     false,\n            strokestyle:          'rgba(0,0,0,0)',\n            errorbars:            null,\n            hmargin:              3,\n            hmarginGrouped:       2,\n            yaxis:                true,\n            yaxisTickmarks:       true,\n            yaxisTickmarksLength: 3,\n            yaxisColor:           'black',\n            yaxisScale:           true,\n            yaxisLabels:          null,\n            yaxisLabelsOffsetx:   0,\n            yaxisLabelsOffsety:   0,\n            yaxisLabelsCount:     5,\n            yaxisUnitsPre:        '',\n            yaxisUnitsPost:       '',\n            yaxisStrict:          false,\n            yaxisDecimals:        0,\n            yaxisPoint:           '.',\n            yaxisThousand:        ',',\n            yaxisRound:           false,\n            yaxisMax:             null,\n            yaxisMin:             0,\n            yaxisFormatter:       null,\n            xaxis:                true,\n            xaxisTickmarks:       true,\n            xaxisTickmarksLength: 5,\n            xaxisLabels:          null,\n            xaxisLabelsPosition:  'section',\n            xaxisLabelsPositionSectionTickmarksCount: null,\n            xaxisColor:           'black',\n            xaxisLabelsOffsetx:   0,\n            xaxisLabelsOffsety:   0,\n            labelsAbove:                  false,\n            labelsAboveFont:              null,\n            labelsAboveSize:              null,\n            labelsAboveBold:              null,\n            labelsAboveItalic:            null,\n            labelsAboveColor:             null,\n            labelsAboveBackground:        null,\n            labelsAboveBackgroundPadding: 0,\n            labelsAboveUnitsPre:          null,\n            labelsAboveUnitsPost:         null,\n            labelsAbovePoint:             null,\n            labelsAboveThousand:          null,\n            labelsAboveFormatter:         null,\n            labelsAboveDecimals:          null,\n            labelsAboveOffsetx:           0,\n            labelsAboveOffsety:           0,\n            labelsAboveHalign:            'center',\n            labelsAboveValign:            'bottom',\n            labelsAboveSpecific:          null,\n            textColor:            'black',\n            textFont:             'sans-serif',\n            textSize:             12,\n            textBold:             false,\n            textItalic:           false,\n            linewidth:            1,\n            grouping:             'grouped',\n            tooltips:             null,\n            tooltipsOverride:     null,\n            tooltipsEffect:       'fade',\n            tooltipsCssClass:     'RGraph_tooltip',\n            tooltipsEvent:        'click',\n            highlightStroke:      'rgba(0,0,0,0)',\n            highlightFill:        'rgba(255,255,255,0.7)',\n            highlightLinewidth:   1,\n            title:                '',\n            titleSize:            16,\n            titleX:               null,\n            titleY:               null,\n            titleHalign:          'center',\n            titleValign:          null,\n            titleColor:           'black',\n            titleFont:            null,\n            titleBold:            false,\n            titleItalic:          false,\n            titleSubtitle:        null,\n            titleSubtitleSize:    10,\n            titleSubtitleX:       null,\n            titleSubtitleY:       null,\n            titleSubtitleHalign:  'center',\n            titleSubtitleValign:  null,\n            titleSubtitleColor:   '#aaa',\n            titleSubtitleFont:    null,\n            titleSubtitleBold:    false,\n            titleSubtitleItalic:  false,\n            shadow:               false,\n            shadowOffsetx:        2,\n            shadowOffsety:        2,\n            shadowBlur:           2,\n            shadowOpacity:        0.25,\n            errorbars:            null,\n            errorbarsColor:       'black',\n            errorbarsLinewidth:   1,\n            errorbarsCapwidth:    10,\n            key:            null,\n            keyColors:      null,\n            keyOffsetx:     0,\n            keyOffsety:     0,\n            keyTextOffsetx: 0,\n            keyTextOffsety: -1,\n            keyTextSize:    null,\n            keyTextBold:    null,\n            keyTextItalic:  null,\n            keyTextFont:    null\n        };\n        //\n        // Copy the global object properties to this instance\n        //\n        RG.SVG.getGlobals(this);\n        /**\n        * \"Decorate\" the object with the generic effects if the effects library has been included\n        */\n        if (RG.SVG.FX && typeof RG.SVG.FX.decorate === 'function') {\n            RG.SVG.FX.decorate(this);\n        }\n        var prop = this.properties;\n        //\n        // The draw method draws the Bar chart\n        //\n        this.draw = function ()\n        {\n            // Fire the beforedraw event\n            RG.SVG.fireCustomEvent(this, 'onbeforedraw');\n            // Should the first thing that's done inthe.draw() function\n            // except for the onbeforedraw event\n            this.width  = Number(this.svg.getAttribute('width'));\n            this.height = Number(this.svg.getAttribute('height'));\n            // Zero these if the 3D effect is not wanted\n            if (prop.variant !== '3d') {\n                prop.variant3dOffsetx = 0;\n                prop.variant3dOffsety = 0;\n            } else {\n                // Set the skew transform on the all group if necessary\n                this.svg.all.setAttribute('transform', 'skewY(5)');\n            }\n            // Create the defs tag if necessary\n            RG.SVG.createDefs(this);\n            // Reset the coords array\n            this.coords  = [];\n            this.coords2 = [];\n            this.graphWidth  = this.width - prop.gutterLeft - prop.gutterRight;\n            this.graphHeight = this.height - prop.gutterTop - prop.gutterBottom;\n            /**\n            * Parse the colors. This allows for simple gradient syntax\n            */\n            // Parse the colors for gradients\n            RG.SVG.resetColorsToOriginalValues({object:this});\n            this.parseColors();\n            // Go through the data and work out the maximum value\n            // This now also accounts for errorbars\n            var values = [];\n            for (var i=0,max=0; i<this.data.length; ++i) {\n                // Errorbars affect the max value\n                if (prop.errorbars && typeof prop.errorbars[i] === 'number') {\n                    var errorbar = prop.errorbars[i];\n                } else if (prop.errorbars && typeof prop.errorbars[i] === 'object' && typeof  prop.errorbars[i].max === 'number') {\n                    var errorbar = prop.errorbars[i].max;\n                } else {\n                    var errorbar = 0;\n                }\n                if (typeof this.data[i] === 'number') {\n                    values.push(this.data[i] + errorbar);\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'grouped') {\n                    values.push(RG.SVG.arrayMax(this.data[i]) + errorbar);\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'stacked') {\n                    values.push(RG.SVG.arraySum(this.data[i]) + errorbar);\n                }\n            }\n            var max = RG.SVG.arrayMax(values);\n            // A custom, user-specified maximum value\n            if (typeof prop.yaxisMax === 'number') {\n                max = prop.yaxisMax;\n            }\n            // Set the ymin to zero if it's szet mirror\n            if (prop.yaxisMin === 'mirror' || prop.yaxisMin === 'middle' || prop.yaxisMin === 'center') {\n                var mirrorScale = true;\n                prop.yaxisMin   = 0;\n            }\n            //\n            // Generate an appropiate scale\n            //\n            this.scale = RG.SVG.getScale({\n                object:    this,\n                numlabels: prop.yaxisLabelsCount,\n                unitsPre:  prop.yaxisUnitsPre,\n                unitsPost: prop.yaxisUnitsPost,\n                max:       max,\n                min:       prop.yaxisMin,\n                point:     prop.yaxisPoint,\n                round:     prop.yaxisRound,\n                thousand:  prop.yaxisThousand,\n                decimals:  prop.yaxisDecimals,\n                strict:    typeof prop.yaxisMax === 'number',\n                formatter: prop.yaxisFormatter\n            });\n            //\n            // Get the scale a second time if the ymin should be mirored\n            //\n            // Set the ymin to zero if it's szet mirror\n            if (mirrorScale) {\n                this.scale = RG.SVG.getScale({\n                    object: this,\n                    numlabels: prop.yaxisLabelsCount,\n                    unitsPre:  prop.yaxisUnitsPre,\n                    unitsPost: prop.yaxisUnitsPost,\n                    max:       this.scale.max,\n                    min:       this.scale.max * -1,\n                    point:     prop.yaxisPoint,\n                    round:     false,\n                    thousand:  prop.yaxisThousand,\n                    decimals:  prop.yaxisDecimals,\n                    strict:    typeof prop.yaxisMax === 'number',\n                    formatter: prop.yaxisFormatter\n                });\n            }\n            // Now the scale has been generated adopt its max value\n            this.max      = this.scale.max;\n            this.min      = this.scale.min;\n            prop.yaxisMax = this.scale.max;\n            prop.yaxisMin = this.scale.min;\n            // Draw the background first\n            RG.SVG.drawBackground(this);\n            // Draw the threeD axes here so everything else is drawn on top of\n            // it, but after the scale generation\n            if (prop.variant === '3d') {\n                // Draw the 3D Y axis\n                RG.SVG.create({\n                    svg: this.svg,\n                    parent: this.svg.all,\n                    type: 'path',\n                    attr: {\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            prop.gutterLeft,\n                            prop.gutterTop,\n                            prop.gutterLeft + prop.variant3dOffsetx,\n                            prop.gutterTop - prop.variant3dOffsety,\n                            prop.gutterLeft + prop.variant3dOffsetx,\n                            this.height - prop.gutterBottom - prop.variant3dOffsety,\n                            prop.gutterLeft,\n                            this.height - prop.gutterBottom,\n                            prop.gutterLeft,\n                            prop.gutterTop\n                        ),\n                        fill: '#ddd',\n                        stroke: '#ccc'\n                    }\n                });\n                // Add the group that the negative bars are added to. This makes them\n                // appear below the axes\n                this.threed_xaxis_group = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'g',\n                    parent: this.svg.all,\n                    attr: {\n                        className: 'rgraph_3d_bar_xaxis_negative'\n                    }\n                });\n                // Draw the 3D X axis\n                RG.SVG.create({\n                    svg: this.svg,\n                    parent: this.svg.all,\n                    type: 'path',\n                    attr: {\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            prop.gutterLeft,\n                            this.getYCoord(0),\n                            prop.gutterLeft + prop.variant3dOffsetx,\n                            this.getYCoord(0) - prop.variant3dOffsety,\n                            this.width - prop.gutterRight + prop.variant3dOffsetx,\n                            this.getYCoord(0) - prop.variant3dOffsety,\n                            this.width - prop.gutterRight,\n                            this.getYCoord(0),\n                            prop.gutterLeft,\n                            this.getYCoord(0)\n                        ),\n                        fill: '#ddd',\n                        stroke: '#ccc'\n                    }\n                });\n            }\n            // Draw the bars\n            this.drawBars();\n            // Draw the axes over the bars\n            RG.SVG.drawXAxis(this);\n            RG.SVG.drawYAxis(this);\n            // Draw the labelsAbove labels\n            this.drawLabelsAbove();\n            // Draw the key\n            if (typeof prop.key !== null && RG.SVG.drawKey) {\n                RG.SVG.drawKey(this);\n            } else if (!RGraph.SVG.isNull(prop.key)) {\n                alert('The drawKey() function does not exist - have you forgotten to include the key library?');\n            }\n            // Add the attribution link. If you're adding this elsewhere on your page/site\n            // and you don't want it displayed then there are options available to not\n            // show it.\n            RG.SVG.attribution(this);\n            // Add the event listener that clears the highlight rect if\n            // there is any. Must be MOUSEDOWN (ie before the click event)\n            //var obj = this;\n            //document.body.addEventListener('mousedown', function (e)\n            //{\n            //    //RG.SVG.removeHighlight(obj);\n            //\n            //}, false);\n            // Fire the draw event\n            RG.SVG.fireCustomEvent(this, 'ondraw');\n            return this;\n        };\n        //\n        // Draws the bars\n        //\n        this.drawBars = function ()\n        {\n            var y = this.getYCoord(0);\n            if (prop.shadow) {\n                RG.SVG.setShadow({\n                    object:  this,\n                    offsetx: prop.shadowOffsetx,\n                    offsety: prop.shadowOffsety,\n                    blur:    prop.shadowBlur,\n                    opacity: prop.shadowOpacity,\n                    id:      'dropShadow'\n                });\n            }\n            // Go through the bars\n            for (var i=0,sequentialIndex=0; i<this.data.length; ++i,++sequentialIndex) {\n                //\n                // REGULAR BARS\n                //\n                if (typeof this.data[i] === 'number') {\n                    var outerSegment = this.graphWidth / this.data.length,\n                        height       = (ma.abs(this.data[i]) - ma.abs(this.scale.min)) / (ma.abs(this.scale.max) - ma.abs(this.scale.min)) * this.graphHeight,\n                        width        = (this.graphWidth / this.data.length) - prop.hmargin - prop.hmargin,\n                        x            = prop.gutterLeft + prop.hmargin + (outerSegment * i);\n                    // Work out the height and the Y coord of the Bar\n                    if (this.scale.min >= 0 && this.scale.max > 0) {\n                        y = this.getYCoord(this.scale.min) - height;\n                    } else if (this.scale.min < 0 && this.scale.max > 0) {\n                        height = (ma.abs(this.data[i]) / (this.scale.max - this.scale.min)) * this.graphHeight;\n                        y      = this.getYCoord(0) - height;\n                        if (this.data[i] < 0) {\n                            y = this.getYCoord(0);\n                        }\n                    } else if (this.scale.min < 0 && this.scale.max < 0) {\n                        height = (ma.abs(this.data[i]) - ma.abs(this.scale.max)) / (ma.abs(this.scale.min) - ma.abs(this.scale.max)) * this.graphHeight;\n                        y = prop.gutterTop;\n                    }\n                    var rect = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'rect',\n                        parent: prop.variant === '3d' && this.data[i] < 0 ? this.threed_xaxis_group : this.svg.all, \n                        attr: {\n                            stroke: prop.strokestyle,\n                            fill: prop.colorsSequential ? (prop.colors[sequentialIndex] ? prop.colors[sequentialIndex] : prop.colors[prop.colors.length - 1]) : prop.colors[0],\n                            x: x,\n                            y: y,\n                            width: width < 0 ? 0 : width,\n                            height: height,\n                            'stroke-width': prop.linewidth,\n                            'data-original-x': x,\n                            'data-original-y': y,\n                            'data-original-width': width,\n                            'data-original-height': height,\n                            'data-tooltip': (!RG.SVG.isNull(prop.tooltips) && prop.tooltips.length) ? prop.tooltips[i] : '',\n                            'data-index': i,\n                            'data-sequential-index': sequentialIndex,\n                            'data-value': this.data[i],\n                            filter: prop.shadow ? 'url(#dropShadow)' : ''\n                        }\n                    });\n                    // Draw the errorbar if required\n                    this.drawErrorbar({\n                        object:    this,\n                        element:   rect,\n                        index:     i,\n                        value:     this.data[i],\n                        type:      'normal'\n                    });\n                    this.coords.push({\n                        object:  this,\n                        element: rect,\n                        x:      parseFloat(rect.getAttribute('x')),\n                        y:      parseFloat(rect.getAttribute('y')),\n                        width:  parseFloat(rect.getAttribute('width')),\n                        height: parseFloat(rect.getAttribute('height'))\n                    });\n                    if (!this.coords2[0]) {\n                        this.coords2[0] = [];\n                    }\n                    this.coords2[0].push({\n                        object:  this,\n                        element: rect,\n                        x:      parseFloat(rect.getAttribute('x')),\n                        y:      parseFloat(rect.getAttribute('y')),\n                        width:  parseFloat(rect.getAttribute('width')),\n                        height: parseFloat(rect.getAttribute('height'))\n                    });\n                    //\n                    // Add the 3D faces if required\n                    //\n                    if (prop.variant === '3d') {\n                        this.drawTop3dFace({rect: rect, value: this.data[i]});\n                        this.drawSide3dFace({rect: rect, value: this.data[i]});\n                    }\n                    // Add the tooltip data- attribute\n                    if (!RG.SVG.isNull(prop.tooltips) && prop.tooltips[sequentialIndex]) {\n                        var obj = this;\n                        //\n                        // Add tooltip event listeners\n                        //\n                        (function (idx, seq)\n                        {\n                            rect.addEventListener(prop.tooltipsEvent.replace(/^on/, ''), function (e)\n                            {\n                                obj.removeHighlight();\n                                // Show the tooltip\n                                RG.SVG.tooltip({\n                                    object: obj,\n                                    index: idx,\n                                    group: null,\n                                    sequentialIndex: seq,\n                                    text: prop.tooltips[seq],\n                                    event: e\n                                });\n                                // Highlight the rect that has been clicked on\n                                obj.highlight(e.target);\n                            }, false);\n                            rect.addEventListener('mousemove', function (e)\n                            {\n                                e.target.style.cursor = 'pointer'\n                            }, false);\n                        })(i, sequentialIndex);\n                    }\n                //\n                // GROUPED BARS\n                //\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'grouped') {\n                    var outerSegment = (this.graphWidth / this.data.length),\n                        innerSegment = outerSegment - (2 * prop.hmargin);\n                    // Loop through the group\n                    for (var j=0; j<this.data[i].length; ++j,++sequentialIndex) {\n                        var width  = ( (innerSegment - ((this.data[i].length - 1) * prop.hmarginGrouped)) / this.data[i].length),\n                            x      = (outerSegment * i) + prop.hmargin + prop.gutterLeft + (j * width) + ((j - 1) * prop.hmarginGrouped);\n                        x = prop.gutterLeft + (outerSegment * i) + (width * j) + prop.hmargin + (j * prop.hmarginGrouped);\n// Calculate the height\n// eg 0 -> 10\nif (this.scale.min === 0 && this.scale.max > this.scale.min) {\n    var height = ((this.data[i][j] - this.scale.min) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.getYCoord(0) - height;\n// eg -5 -> -15\n} else if (this.scale.max <= 0 && this.scale.min < this.scale.max) {\n    var height = ((this.data[i][j] - this.scale.max) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.getYCoord(this.scale.max);\n    height = ma.abs(height);\n// eg 10 -> -10\n} else if (this.scale.max > 0 && this.scale.min < 0) {\n    var height = (ma.abs(this.data[i][j]) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.data[i][j] < 0 ? this.getYCoord(0) : this.getYCoord(this.data[i][j]);\n// eg 5 -> 10\n} else if (this.scale.min > 0 && this.scale.max > this.scale.min) {\n    var height = (ma.abs(this.data[i][j] - this.scale.min) / (this.scale.max - this.scale.min)) * this.graphHeight,\n             y = this.getYCoord(this.scale.min) - height;\n}\n                        // Add the rect tag\n                        var rect = RG.SVG.create({\n                            svg: this.svg,\n                            parent: prop.variant === '3d' && this.data[i][j] < 0 ? this.threed_xaxis_group : this.svg.all,\n                            type: 'rect',\n                            attr: {\n                                stroke: prop['strokestyle'],\n                                fill: (prop.colorsSequential && prop.colors[sequentialIndex]) ? prop.colors[sequentialIndex] : prop.colors[j],\n                                x: x,\n                                y: y,\n                                width: width,\n                                height: height,\n                                'stroke-width': prop.linewidth,\n                                'data-original-x': x,\n                                'data-original-y': y,\n                                'data-original-width': width,\n                                'data-original-height': height,\n                                'data-index': i,\n                                'data-subindex': j,\n                                'data-sequential-index': sequentialIndex,\n                                'data-tooltip': (!RG.SVG.isNull(prop.tooltips) && prop.tooltips.length) ? prop.tooltips[sequentialIndex] : '',\n                                'data-value': this.data[i][j],\n                                filter: prop.shadow ? 'url(#dropShadow)' : ''\n                            }\n                        });\n                        // Draw the errorbar if required\n                        this.drawErrorbar({\n                            object:    this,\n                            element:   rect,\n                            index:     sequentialIndex,\n                            value:     this.data[i][j],\n                            type:      'grouped'\n                        });\n                        this.coords.push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        if (!this.coords2[i]) {\n                            this.coords2[i] = [];\n                        }\n                        this.coords2[i].push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        //\n                        // Add the 3D faces if required\n                        //\n                        if (prop.variant === '3d') {\n                            this.drawTop3dFace({rect: rect, value: this.data[i][j]});\n                            this.drawSide3dFace({rect: rect, value: this.data[i][j]});\n                        }\n                        // Add the tooltip data- attribute\n                        if (!RG.SVG.isNull(prop.tooltips) && prop.tooltips[sequentialIndex]) {\n                            var obj = this;\n                            //\n                            // Add tooltip event listeners\n                            //\n                            (function (idx, seq)\n                            {\n                                obj.removeHighlight();\n                                var indexes = RG.SVG.sequentialIndexToGrouped(seq, obj.data);\n                                rect.addEventListener(prop.tooltipsEvent.replace(/^on/, ''), function (e)\n                                {\n                                    // Show the tooltip\n                                    RG.SVG.tooltip({\n                                        object: obj,\n                                        group: idx,\n                                        index: indexes[1],\n                                        sequentialIndex: seq,\n                                        text: prop.tooltips[seq],\n                                        event: e\n                                    });\n                                    // Highlight the rect that has been clicked on\n                                    obj.highlight(e.target);\n                                }, false);\n                                rect.addEventListener('mousemove', function (e)\n                                {\n                                    e.target.style.cursor = 'pointer'\n                                }, false);\n                            })(i, sequentialIndex);\n                        }\n                    }\n                    --sequentialIndex;\n                //\n                // STACKED CHARTS\n                //\n                } else if (RG.SVG.isArray(this.data[i]) && prop.grouping === 'stacked') {\n                    var section = (this.graphWidth / this.data.length);\n                    // Intialise the Y coordinate to the bottom gutter\n                    var y = this.getYCoord(0);\n                    // Loop through the stack\n                    for (var j=0; j<this.data[i].length; ++j,++sequentialIndex) {\n                        var height  = (this.data[i][j] / (this.max - this.min)) * this.graphHeight,\n                            width   = section - (2 * prop.hmargin),\n                            x       = prop.gutterLeft + (i * section) + prop.hmargin,\n                            y       = y - height;\n                        // If this is the first iteration of the loop and a shadow\n                        // is requested draw a rect here to create it.\n                        if (j === 0 && prop.shadow) {\n                            var fullHeight = (RG.SVG.arraySum(this.data[i]) / (this.max - this.min)) * this.graphHeight;\n                            var rect = RG.SVG.create({\n                                svg: this.svg,\n                                parent: this.svg.all,\n                                type: 'rect',\n                                attr: {\n                                    fill: 'white',\n                                    x: x,\n                                    y: this.height - prop.gutterBottom - fullHeight,\n                                    width: width,\n                                    height: fullHeight,\n                                    'stroke-width': 0,\n                                    'data-index': i,\n                                    filter: 'url(#dropShadow)'\n                                }\n                            });\n                            this.stackedBackfaces[i] = rect;\n                        }\n                        // Create the visible bar\n                        var rect = RG.SVG.create({\n                            svg: this.svg,\n                            parent: this.svg.all,\n                            type: 'rect',\n                            attr: {\n                                stroke: prop['strokestyle'],\n                                fill: prop.colorsSequential ? (prop.colors[sequentialIndex] ? prop.colors[sequentialIndex] : prop.colors[prop.colors.length - 1]) : prop.colors[j],\n                                x: x,\n                                y: y,\n                                width: width,\n                                height: height,\n                                'stroke-width': prop.linewidth,\n                                'data-original-x': x,\n                                'data-original-y': y,\n                                'data-original-width': width,\n                                'data-original-height': height,\n                                'data-index': i,\n                                'data-subindex': j,\n                                'data-sequential-index': sequentialIndex,\n                                'data-tooltip': (!RG.SVG.isNull(prop.tooltips) && prop.tooltips.length) ? prop.tooltips[sequentialIndex] : '',\n                                'data-value': this.data[i][j]\n                            }\n                        });\n                        // Draw the errorbar if required\n                        if (j === (this.data[i].length - 1)) {\n                            this.drawErrorbar({\n                                object:    this,\n                                element:   rect,\n                                index:     i,\n                                value:     this.data[i][j],\n                                type:      'stacked'\n                            });\n                        }\n                        this.coords.push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        if (!this.coords2[i]) {\n                            this.coords2[i] = [];\n                        }\n                        this.coords2[i].push({\n                            object:  this,\n                            element: rect,\n                            x:      parseFloat(rect.getAttribute('x')),\n                            y:      parseFloat(rect.getAttribute('y')),\n                            width:  parseFloat(rect.getAttribute('width')),\n                            height: parseFloat(rect.getAttribute('height'))\n                        });\n                        //\n                        // Add the 3D faces if required\n                        //\n                        if (prop.variant === '3d') {\n                            this.drawTop3dFace({rect: rect, value: this.data[i][j]});\n                            this.drawSide3dFace({rect: rect, value: this.data[i][j]});\n                        }\n                        // Add the tooltip data- attribute\n                        if (!RG.SVG.isNull(prop.tooltips) && prop.tooltips[sequentialIndex]) {\n                            var obj = this;\n                            //\n                            // Add tooltip event listeners\n                            //\n                            (function (idx, seq)\n                            {\n                                rect.addEventListener(prop.tooltipsEvent.replace(/^on/, ''), function (e)\n                                {\n                                    obj.removeHighlight();\n                                    var indexes = RG.SVG.sequentialIndexToGrouped(seq, obj.data);\n                                    // Show the tooltip\n                                    RG.SVG.tooltip({\n                                        object: obj,\n                                        index: indexes[1],\n                                        group: idx,\n                                        sequentialIndex: seq,\n                                        text: prop.tooltips[seq],\n                                        event: e\n                                    });\n                                    // Highlight the rect that has been clicked on\n                                    obj.highlight(e.target);\n                                }, false);\n                                rect.addEventListener('mousemove', function (e)\n                                {\n                                    e.target.style.cursor = 'pointer';\n                                }, false);\n                            })(i, sequentialIndex);\n                        }\n                    }\n                    --sequentialIndex;\n                }\n            }\n        };\n        /**\n        * This function can be used to retrieve the relevant Y coordinate for a\n        * particular value.\n        * \n        * @param int value The value to get the Y coordinate for\n        */\n        this.getYCoord = function (value)\n        {\n            if (value > this.scale.max) {\n                return null;\n            }\n            var y, xaxispos = prop.xaxispos;\n            if (value < this.scale.min) {\n                return null;\n            }\n            y  = ((value - this.scale.min) / (this.scale.max - this.scale.min));\n            y *= (this.height - prop.gutterTop - prop.gutterBottom);\n            y = this.height - prop.gutterBottom - y;\n            return y;\n        };\n        /**\n        * This function can be used to highlight a bar on the chart\n        * \n        * @param object rect The rectangle to highlight\n        */\n        this.highlight = function (rect)\n        {\n            var x      = rect.getAttribute('x'),\n                y      = rect.getAttribute('y'),\n                width  = rect.getAttribute('width'),\n                height = rect.getAttribute('height');\n            var highlight = RG.SVG.create({\n                svg: this.svg,\n                parent: this.svg.all,\n                type: 'rect',\n                attr: {\n                    stroke: prop.highlightStroke,\n                    fill: prop.highlightFill,\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    'stroke-width': prop.highlightLinewidth\n                },\n                style: {\n                    pointerEvents: 'none'\n                }\n            });\n            if (prop.tooltipsEvent === 'mousemove') {\n                //var obj = this;\n                //highlight.addEventListener('mouseout', function (e)\n                //{\n                //    obj.removeHighlight();\n                //    RG.SVG.hideTooltip();\n                //    RG.SVG.REG.set('highlight', null);\n                //}, false);\n            }\n            // Store the highlight rect in the rebistry so\n            // it can be cleared later\n            RG.SVG.REG.set('highlight', highlight);\n        };\n        /**\n        * This allows for easy specification of gradients\n        */\n        this.parseColors = function () \n        {\n            // Save the original colors so that they can be restored when\n            // the canvas is cleared\n            if (!Object.keys(this.originalColors).length) {\n                this.originalColors = {\n                    colors:              RG.SVG.arrayClone(prop.colors),\n                    backgroundGridColor: RG.SVG.arrayClone(prop.backgroundGridColor),\n                    highlightFill:       RG.SVG.arrayClone(prop.highlightFill),\n                    backgroundColor:     RG.SVG.arrayClone(prop.backgroundColor)\n                }\n            }\n            // colors\n            var colors = prop.colors;\n            if (colors) {\n                for (var i=0; i<colors.length; ++i) {\n                    colors[i] = RG.SVG.parseColorLinear({\n                        object: this,\n                        color: colors[i]\n                    });\n                }\n            }\n            prop.backgroundGridColor = RG.SVG.parseColorLinear({object: this, color: prop.backgroundGridColor});\n            prop.highlightFill       = RG.SVG.parseColorLinear({object: this, color: prop.highlightFill});\n            prop.backgroundColor     = RG.SVG.parseColorLinear({object: this, color: prop.backgroundColor});\n        };\n        //\n        // Draws the labelsAbove\n        //\n        this.drawLabelsAbove = function ()\n        {\n            // Go through the above labels\n            if (prop.labelsAbove) {\n                var data_seq      = RG.SVG.arrayLinearize(this.data),\n                    seq           = 0,\n                    stacked_total = 0;;\n                for (var i=0; i<this.coords.length; ++i,seq++) {\n                    var num = typeof this.data[i] === 'number' ? this.data[i] : data_seq[seq] ;\n                    // If this is a stacked chart then only dothe label\n                    // if it's the top segment\n                    if (prop.grouping === 'stacked') {\n                        var indexes   = RG.SVG.sequentialIndexToGrouped(i, this.data);\n                        var group     = indexes[0];\n                        var datapiece = indexes[1];\n                        if (datapiece !== (this.data[group].length - 1) ) {\n                            continue;\n                        } else {\n                            num = RG.SVG.arraySum(this.data[group]);\n                        }\n                    }\n                    var str = RG.SVG.numberFormat({\n                        object:    this,\n                        num:       num.toFixed(prop.labelsAboveDecimals),\n                        prepend:   typeof prop.labelsAboveUnitsPre  === 'string'   ? prop.labelsAboveUnitsPre  : null,\n                        append:    typeof prop.labelsAboveUnitsPost === 'string'   ? prop.labelsAboveUnitsPost : null,\n                        point:     typeof prop.labelsAbovePoint     === 'string'   ? prop.labelsAbovePoint     : null,\n                        thousand:  typeof prop.labelsAboveThousand  === 'string'   ? prop.labelsAboveThousand  : null,\n                        formatter: typeof prop.labelsAboveFormatter === 'function' ? prop.labelsAboveFormatter : null\n                    });\n                    // Facilitate labelsAboveSpecific\n                    if (prop.labelsAboveSpecific && prop.labelsAboveSpecific.length && (typeof prop.labelsAboveSpecific[seq] === 'string' || typeof prop.labelsAboveSpecific[seq] === 'number') ) {\n                        str = prop.labelsAboveSpecific[seq];\n                    } else if ( prop.labelsAboveSpecific && prop.labelsAboveSpecific.length && typeof prop.labelsAboveSpecific[seq] !== 'string' && typeof prop.labelsAboveSpecific[seq] !== 'number') {\n                        continue;\n                    }\n                    var x = parseFloat(this.coords[i].element.getAttribute('x')) + parseFloat(this.coords[i].element.getAttribute('width') / 2) + prop.labelsAboveOffsetx;\n                    if (data_seq[i] >= 0) {\n                        var y = parseFloat(this.coords[i].element.getAttribute('y')) - 7 + prop.labelsAboveOffsety;\n                        var valign = prop.labelsAboveValign;\n                    } else {\n                        var y = parseFloat(this.coords[i].element.getAttribute('y')) + parseFloat(this.coords[i].element.getAttribute('height')) + 7 - prop.labelsAboveOffsety;\n                        var valign = prop.labelsAboveValign === 'top' ? 'bottom' : 'top';\n                    }\n                    RG.SVG.text({\n                        object:     this,\n                        parent:     this.svg.all,\n                        text:       str,\n                        x:          x,\n                        y:          y,\n                        halign:     prop.labelsAboveHalign,\n                        valign:     valign,\n                        tag:        'labels.above',\n                        font:       prop.labelsAboveFont              || prop.textFont,\n                        size:       prop.labelsAboveSize              || prop.textSize,\n                        bold:       prop.labelsAboveBold              || prop.textBold,\n                        italic:     prop.labelsAboveItalic            || prop.textItalic,\n                        color:      prop.labelsAboveColor             || prop.textColor,\n                        background: prop.labelsAboveBackground        || null,\n                        padding:    prop.labelsAboveBackgroundPadding || 0\n                    });\n                }\n            }\n        };\n        /**\n        * Using a function to add events makes it easier to facilitate method\n        * chaining\n        * \n        * @param string   type The type of even to add\n        * @param function func \n        */\n        this.on = function (type, func)\n        {\n            if (type.substr(0,2) !== 'on') {\n                type = 'on' + type;\n            }\n            RG.SVG.addCustomEventListener(this, type, func);\n            return this;\n        };\n        //\n        // Used in chaining. Runs a function there and then - not waiting for\n        // the events to fire (eg the onbeforedraw event)\n        // \n        // @param function func The function to execute\n        //\n        this.exec = function (func)\n        {\n            func(this);\n            return this;\n        };\n        //\n        // Remove highlight from the chart (tooltips)\n        //\n        this.removeHighlight = function ()\n        {\n            var highlight = RG.SVG.REG.get('highlight');\n            if (highlight && highlight.parentNode) {\n                highlight.parentNode.removeChild(highlight);\n            }\n            RG.SVG.REG.set('highlight', null);\n        };\n        //\n        // Draws the top of 3D bars\n        //\n        this.drawTop3dFace = function (opt)\n        {\n            var rect  = opt.rect,\n                arr   = [parseInt(rect.getAttribute('fill')), 'rgba(255,255,255,0.7)'],\n                x     = parseInt(rect.getAttribute('x')),\n                y     = parseInt(rect.getAttribute('y')),\n                w     = parseInt(rect.getAttribute('width')),\n                h     = parseInt(rect.getAttribute('height')),\n                value = parseFloat(rect.getAttribute('data-value'));\n            rect.rgraph_3d_top_face = [];\n            for (var i=0; i<2; ++i) {\n                var color = (i === 0 ? rect.getAttribute('fill') : 'rgba(255,255,255,0.7)');\n                var face = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'path',\n                    parent: prop.variant === '3d' && opt.value < 0  ? this.threed_xaxis_group : this.svg.all,\n                    attr: {\n                        stroke: prop.strokestyle,\n                        fill: color,\n                        'stroke-width': prop.linewidth,\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            x,\n                            y,\n                            x + prop.variant3dOffsetx,\n                            y - prop.variant3dOffsety,\n                            x + w + prop.variant3dOffsetx,\n                            y - prop.variant3dOffsety,\n                            x + w,\n                            y\n                        )\n                    }\n                });\n                // Store a reference to the rect on the front face of the bar\n                rect.rgraph_3d_top_face[i] = face\n            }\n        };\n        //\n        // Draws the top of 3D bars\n        //\n        this.drawSide3dFace = function (opt)\n        {\n            var rect  = opt.rect,\n                arr   = [parseInt(rect.getAttribute('fill')), 'rgba(0,0,0,0.3)'],\n                x     = parseInt(rect.getAttribute('x')),\n                y     = parseInt(rect.getAttribute('y')),\n                w     = parseInt(rect.getAttribute('width')),\n                h     = parseInt(rect.getAttribute('height'));\n            rect.rgraph_3d_side_face = [];\n            for (var i=0; i<2; ++i) {\n                var color = (i === 0 ? rect.getAttribute('fill') : 'rgba(0,0,0,0.3)');\n                var face = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'path',\n                    parent: prop.variant === '3d' && opt.value < 0  ? this.threed_xaxis_group : this.svg.all,\n                    attr: {\n                        stroke: prop.strokestyle,\n                        fill: color,\n                        'stroke-width': prop.linewidth,\n                        d: 'M {1} {2} L {3} {4} L {5} {6} L {7} {8}'.format(\n                            x + w,\n                            y,\n                            x + w + prop.variant3dOffsetx,\n                            y - prop.variant3dOffsety,\n                            x + w + prop.variant3dOffsetx,\n                            y + h - prop.variant3dOffsety,\n                            x + w,\n                            y + h\n                        )\n                    }\n                });\n                // Store a reference to the rect on the front face of the bar\n                rect.rgraph_3d_side_face[i] = face\n            }\n        };\n        // This function is used to draw the errorbar. Its in the common\n        // file because it's used by multiple chart libraries\n        this.drawErrorbar = function (opt)\n        {\n            var prop      = this.properties,\n                index     = opt.index,\n                datapoint = opt.value,\n                linewidth = RG.SVG.getErrorbarsLinewidth({object: this, index: index}),\n                color     = RG.SVG.getErrorbarsColor({object: this, index: index}),\n                capwidth  = RG.SVG.getErrorbarsCapWidth({object: this, index: index}),\n                element   = opt.element,\n                type      = opt.type;\n            // Get the error bar value\n            var max = RG.SVG.getErrorbarsMaxValue({\n                object: this,\n                index: index\n            });\n            // Get the error bar value\n            var min = RG.SVG.getErrorbarsMinValue({\n                object: this,\n                index: index\n            });\n            if (!max && !min) {\n                return;\n            }\n            // Accounts for stacked bars\n            if (type === 'stacked') {\n                datapoint = RG.SVG.arraySum(this.data[index]);\n            }\n            if (datapoint >= 0) {\n                var x1 = parseFloat(element.getAttribute('x')) + (parseFloat(element.getAttribute('width')) / 2);\n                // Draw the UPPER vertical line\n                var errorbarLine = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: x1,\n                        y1: parseFloat(element.getAttribute('y')),\n                        x2: x1,\n                        y2: this.getYCoord(parseFloat(datapoint + max)),\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the cap to the UPPER line\n                var errorbarCap = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                        y1: errorbarLine.getAttribute('y2'),\n                        x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                        y2: errorbarLine.getAttribute('y2'),\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the minimum errorbar if necessary\n                if (typeof min === 'number') {\n                    var errorbarLine = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: x1,\n                            y1: parseFloat(element.getAttribute('y')),\n                            x2: x1,\n                            y2: this.getYCoord(parseFloat(datapoint - min)),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                    // Draw the cap to the UPPER line\n                    var errorbarCap = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                            y1: errorbarLine.getAttribute('y2'),\n                            x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                            y2: errorbarLine.getAttribute('y2'),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                }\n            } else if (datapoint < 0) {\n                var x1 = parseFloat(element.getAttribute('x')) + (parseFloat(element.getAttribute('width')) / 2),\n                    y1 = parseFloat(element.getAttribute('y')) + parseFloat(element.getAttribute('height')),\n                    y2 = this.getYCoord(parseFloat(datapoint - ma.abs(max) ))\n                // Draw the vertical line\n                var errorbarLine = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: x1,\n                        y1: y1,\n                        x2: x1,\n                        y2: y2,\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the cap to the vertical line\n                var errorbarCap = RG.SVG.create({\n                    svg: this.svg,\n                    type: 'line',\n                    parent: this.svg.all,\n                    attr: {\n                        x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                        y1: errorbarLine.getAttribute('y2'),\n                        x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                        y2: errorbarLine.getAttribute('y2'),\n                        stroke: color,\n                        'stroke-width': linewidth\n                    }\n                });\n                // Draw the minimum errorbar if necessary\n                if (typeof min === 'number') {\n                    var x1 = parseFloat(element.getAttribute('x')) + (parseFloat(element.getAttribute('width')) / 2);\n                    var errorbarLine = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: x1,\n                            y1: this.getYCoord(parseFloat(datapoint + min)),\n                            x2: x1,\n                            y2: this.getYCoord(parseFloat(datapoint)),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                    // Draw the cap to the UPPER line\n                    var errorbarCap = RG.SVG.create({\n                        svg: this.svg,\n                        type: 'line',\n                        parent: this.svg.all,\n                        attr: {\n                            x1: parseFloat(errorbarLine.getAttribute('x1')) - (capwidth / 2),\n                            y1: errorbarLine.getAttribute('y1'),\n                            x2: parseFloat(errorbarLine.getAttribute('x1')) + (capwidth / 2),\n                            y2: errorbarLine.getAttribute('y1'),\n                            stroke: color,\n                            'stroke-width': linewidth\n                        }\n                    });\n                }\n            }\n        };\n        //\n        // The Bar chart grow effect\n        //\n        this.grow = function ()\n        {\n            var opt      = arguments[0] || {},\n                frames   = opt.frames || 30,\n                frame    = 0,\n                obj      = this,\n                data     = [],\n                height   = null,\n                seq      = 0;\n            //\n            // Copy the data\n            //\n            data = RG.SVG.arrayClone(this.data);\n            this.draw();\n            var iterate = function ()\n            {\n                for (var i=0,seq=0,len=obj.coords.length; i<len; ++i, ++seq) {\n                    var   multiplier = (frame / frames)\n                        * RG.SVG.FX.getEasingMultiplier(frames, frame)\n                        * RG.SVG.FX.getEasingMultiplier(frames, frame);\n                    // TODO Go through the data and update the value according to\n                    // the frame number\n                    if (typeof data[i] === 'number') {\n                        height      = ma.abs(obj.getYCoord(data[i]) - obj.getYCoord(0));\n                        obj.data[i] = data[i] * multiplier;\n                        height      = multiplier * height;\n                        // Set the new height on the rect\n                        obj.coords[seq].element.setAttribute(\n                            'height',\n                            height\n                        );\n                        // Set the correct Y coord on the object\n                        obj.coords[seq].element.setAttribute(\n                            'y',\n                            data[i] < 0 ? obj.getYCoord(0) : obj.getYCoord(0) - height\n                        );\n                        // This upadtes the size of the 3D sides to the bar\n                        if (prop.variant === '3d') {\n                            // Remove the 3D sides to the bar\n                            if (obj.coords[i].element.rgraph_3d_side_face[0].parentNode) obj.coords[i].element.rgraph_3d_side_face[0].parentNode.removeChild(obj.coords[i].element.rgraph_3d_side_face[0]);\n                            if (obj.coords[i].element.rgraph_3d_side_face[1].parentNode) obj.coords[i].element.rgraph_3d_side_face[1].parentNode.removeChild(obj.coords[i].element.rgraph_3d_side_face[1]);\n                            if (obj.coords[i].element.rgraph_3d_top_face[0].parentNode) obj.coords[i].element.rgraph_3d_top_face[0].parentNode.removeChild(obj.coords[i].element.rgraph_3d_top_face[0]);\n                            if (obj.coords[i].element.rgraph_3d_top_face[1].parentNode) obj.coords[i].element.rgraph_3d_top_face[1].parentNode.removeChild(obj.coords[i].element.rgraph_3d_top_face[1]);\n                            // Add the 3D sides to the bar (again)\n                            obj.drawSide3dFace({rect: obj.coords[i].element});\n                            // Draw the top side of the 3D bar\n                            if (prop.grouping === 'grouped') {\n                                obj.drawTop3dFace({rect: obj.coords[i].element   });\n                            }\n                            // Now remove and immediately re-add the front face of\n                            // the bar - this is so that the front face appears\n                            // above the other sides\n                            if (obj.coords[i].element.parentNode) {\n                                var parent = obj.coords[i].element.parentNode;\n                                var node   = parent.removeChild(obj.coords[i].element);\n                                parent.appendChild(node);\n                            }\n                        }\n                    } else if (typeof data[i] === 'object') {\n                        var accumulativeHeight = 0;\n                        for (var j=0,len2=data[i].length; j<len2; ++j, ++seq) {\n                            height         = ma.abs(obj.getYCoord(data[i][j]) - obj.getYCoord(0));\n                            height         = multiplier * height;\n                            obj.data[i][j] = data[i][j] * multiplier;\n                            height = ma.round(height);\n                            obj.coords[seq].element.setAttribute(\n                                'height',\n                                height\n                            );\n                            obj.coords[seq].element.setAttribute(\n                                'y',\n                                data[i][j] < 0 ? (obj.getYCoord(0) + accumulativeHeight) : (obj.getYCoord(0) - height - accumulativeHeight)\n                            );\n                            // This updates the size of the 3D sides to the bar\n                            if (prop.variant === '3d') {\n                                // Remove the 3D sides to the bar\n                                if (obj.coords[seq].element.rgraph_3d_side_face[0].parentNode) obj.coords[seq].element.rgraph_3d_side_face[0].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_side_face[0]);\n                                if (obj.coords[seq].element.rgraph_3d_side_face[1].parentNode) obj.coords[seq].element.rgraph_3d_side_face[1].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_side_face[1]);\n                                if (obj.coords[seq].element.rgraph_3d_top_face[0].parentNode) obj.coords[seq].element.rgraph_3d_top_face[0].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_top_face[0]);\n                                if (obj.coords[seq].element.rgraph_3d_top_face[1].parentNode) obj.coords[seq].element.rgraph_3d_top_face[1].parentNode.removeChild(obj.coords[seq].element.rgraph_3d_top_face[1]);\n                                // Add the 3D sides to the bar (again)\n                                obj.drawSide3dFace({rect: obj.coords[seq].element});\n// Draw the top side of the 3D bar\n// TODO Need to only draw the top face when the bar is either\n//      not stacked or is the last segment in the stack\nobj.drawTop3dFace({rect: obj.coords[seq].element});\n                                // Now remove and immediately re-add the front face of\n                                // the bar - this is so that the front face appears\n                                // above the other sides\n                                if (obj.coords[seq].element.parentNode) {\n                                    var parent = obj.coords[seq].element.parentNode;\n                                    var node   = parent.removeChild(obj.coords[seq].element);\n                                    parent.appendChild(node);\n                                }\n                            }\n                            accumulativeHeight += (prop.grouping === 'stacked' ? height : 0);\n                        }\n                        //\n                        // Set the height and Y cooord of the backfaces if necessary\n                        //\n                        if (obj.stackedBackfaces[i]) {\n                            obj.stackedBackfaces[i].setAttribute(\n                                'height',\n                                accumulativeHeight\n                            );\n                            obj.stackedBackfaces[i].setAttribute(\n                                'y',\n                                obj.height - prop.gutterBottom - accumulativeHeight\n                            );\n                        }\n                        // Decrease seq by one so that it's not incremented twice\n                        --seq;\n                    }\n                }\n                if (frame++ < frames) {\n                    //setTimeout(iterate, frame > 1 ? opt.delay : 200);\n                    RG.SVG.FX.update(iterate);\n                } else if (opt.callback) {\n                    (opt.callback)(obj);\n                }\n            };\n            iterate();\n            return this;\n        };\n        /**\n        * HBar chart Wave effect.\n        * \n        * @param object OPTIONAL An object map of options. You specify 'frames'\n        *                        here to give the number of frames in the effect\n        *                        and also callback to specify a callback function\n        *                        thats called at the end of the effect\n        */\n        this.wave = function ()\n        {\n            // First draw the chart\n            this.draw();\n            var obj = this,\n                opt = arguments[0] || {};\n            opt.frames      = opt.frames || 60;\n            opt.startFrames = [];\n            opt.counters    = [];\n            var framesperbar    = opt.frames / 3,\n                frame           = -1,\n                callback        = opt.callback || function () {};\n            for (var i=0,len=this.coords.length; i<len; i+=1) {\n                opt.startFrames[i] = ((opt.frames / 2) / (obj.coords.length - 1)) * i;\n                opt.counters[i]    = 0;\n                // Now zero the width of the bar (and remove the 3D faces)\n                this.coords[i].element.setAttribute('height', 0);\n                if (this.coords[i].element.rgraph_3d_side_face) {\n                    var parent = this.coords[i].element.rgraph_3d_side_face[0].parentNode;\n                    parent.removeChild(this.coords[i].element.rgraph_3d_side_face[0]);\n                    parent.removeChild(this.coords[i].element.rgraph_3d_side_face[1]);\n                    parent.removeChild(this.coords[i].element.rgraph_3d_top_face[0]);\n                    parent.removeChild(this.coords[i].element.rgraph_3d_top_face[1]);\n                }\n            }\n            function iterator ()\n            {\n                ++frame;\n                for (var i=0,len=obj.coords.length; i<len; i+=1) {\n                    if (frame > opt.startFrames[i]) {\n                        var originalHeight = obj.coords[i].element.getAttribute('data-original-height'),\n                            height,\n                            value = parseFloat(obj.coords[i].element.getAttribute('data-value'));\n                            var height = ma.min(\n                                ((frame - opt.startFrames[i]) / framesperbar) * originalHeight,\n                                originalHeight\n                            );\n                        obj.coords[i].element.setAttribute(\n                            'height',\n                            height < 0 ? 0 : height\n                        );\n                        obj.coords[i].element.setAttribute(\n                            'y',\n                            value >=0 ? obj.getYCoord(0) - height : obj.getYCoord(0)\n                        );\n                        // This updates the size of the 3D sides to the bar\n                        if (prop.variant === '3d') {\n                            // Remove the 3D sides to the bar\n                            var parent = obj.coords[i].element.rgraph_3d_side_face[0].parentNode;\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_side_face[0]);\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_side_face[1]);\n                            var parent = obj.coords[i].element.rgraph_3d_top_face[0].parentNode;\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_top_face[0]);\n                            if (parent) parent.removeChild(obj.coords[i].element.rgraph_3d_top_face[1]);\n                            // Now remove and immediately re-add the front face of\n                            // the bar - this is so that the front face appears\n                            // above the other sides\n                            if (obj.coords[i].element.parentNode) {\n                                var parent = obj.coords[i].element.parentNode;\n                                var node   = parent.removeChild(obj.coords[i].element);\n                                parent.appendChild(node);\n                            }\n                        }\n                        if (prop.grouping === 'stacked') {\n                            var seq = obj.coords[i].element.getAttribute('data-sequential-index');\n                            var indexes = RG.SVG.sequentialIndexToGrouped(seq, obj.data);\n                            if (indexes[1] > 0) {\n                                obj.coords[i].element.setAttribute(\n                                    'y',\n                                    parseInt(obj.coords[i - 1].element.getAttribute('y')) - height\n                                );\n                            }\n                        }\n                        if (prop.variant === '3d') {\n                            // Add the 3D sides to the bar (again)\n                            obj.drawSide3dFace({\n                                rect:  obj.coords[i].element,\n                                value: obj.coords[i].element.getAttribute('data-value')\n                            });\n                            // Draw the top side of the 3D bar\n                            if (prop.grouping === 'grouped' || (prop.grouping === 'stacked' && (indexes[1] + 1) === obj.data[indexes[0]].length) ) {\n                                obj.drawTop3dFace({\n                                    rect:  obj.coords[i].element,\n                                    value: obj.coords[i].element.getAttribute('data-value')\n                                });\n                            }\n                        }\n                    }\n                }\n                if (frame >= opt.frames) {\n                    callback(obj);\n                } else {\n                    RG.SVG.FX.update(iterator);\n                }\n            }\n            iterator();\n            return this;\n        };\n        //\n        // Set the options that the user has provided\n        //\n        for (i in conf.options) {\n            if (typeof i === 'string') {\n                this.set(i, conf.options[i]);\n            }\n        }\n    };\n    return this;\n// End module pattern\n})(window, document);;\nRGraph.SVG.tooltips.style.zIndex     = '10000';\n{UXPRERENDEREDALIAS}_DlgObj._layoutMode = 'containerwidth';\n{UXPRERENDEREDALIAS}_DlgObj._responsiveRulesMode = 'firsttrue';\n{UXPRERENDEREDALIAS}_DlgObj.__controlNesting = {\nFRAME_1: ['dropdownbox1']\n}\n{UXPRERENDEREDALIAS}_DlgObj._listsDV = [];\n{UXPRERENDEREDALIAS}_DlgObj._listControls = [];\n{UXPRERENDEREDALIAS}_DlgObj._localStorageSettings = {namespace: 'ALPHA_efbf6da1ab3a40d2b3fce0826f3f0662',friendlyName: '',description: '',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: '',restore: {variables: false,data: false,state: false},compressData: false,minify: false,variablesToNotPersist: '',workingPreviewTestingMode: 'Browser',compressListData: false}\n;\n{UXPRERENDEREDALIAS}_DlgObj.__r = []\n$e.add(window,'resize',function() {\n\tif({UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule) {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule();\n},null,false,'{UXPRERENDEREDALIAS}.DIALOG');\n{UXPRERENDEREDALIAS}_DlgObj._staticHTMLMode = false\n{UXPRERENDEREDALIAS}_DlgObj._EDITOR_EDITORSET = {};\n{UXPRERENDEREDALIAS}_DlgObj.styleName = 'GrBlue';\n{UXPRERENDEREDALIAS}_DlgObj.styleVersion = 2\n{UXPRERENDEREDALIAS}_DlgObj.framesInfo = {\n};\n{UXPRERENDEREDALIAS}_DlgObj._noPersist = []\n{UXPRERENDEREDALIAS}_DlgObj._ssdecimal = '.';\n$u.decimal = '.';\n$u.comma = ',';\n{UXPRERENDEREDALIAS}_DlgObj._modernFrames = {};\n\n$e.add('{UXPRERENDEREDALIAS}.V.R1.BUTTON_1',A5.d.evnts.click,function(e) {\nfunction tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed() {\n{UXPRERENDEREDALIAS}_DlgObj.ajaxCallback('','','xb','',additionalAjaxDataDashBoard_Grafico_Recorridos_Ultimos4Meses(),{deviceOfflineFunction: function() {   }});\n}\n\nfunction tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818() {\n{UXPRERENDEREDALIAS}_DlgObj.refreshClientSideComputations();\n}\n\nfunction tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29() {\n{UXPRERENDEREDALIAS}_DlgObj.jsChartRefreshData('JSCHART_1');\n}\n\n\nA5.executeThisThenThat(tempfunction_3c1c31ac_6f83_478d_9f22_0c2c4b6c82ed,tempfunction_32562f7c_aacb_474d_9b2d_b477f2ecc818,tempfunction_c8c075f9_35f0_4f55_9d81_58110b151e29);\n},this,false,'{UXPRERENDEREDALIAS}.V.R1.BUTTON_1');\n__replaceAtRuntime_CustomControlsSystemBeforePrepare\n{UXPRERENDEREDALIAS}_DlgObj.prepare();{UXPRERENDEREDALIAS}_DlgObj.populate({UXPRERENDEREDALIAS}_DlgObj.originalValues[0]);\n{UXPRERENDEREDALIAS}_DlgObj._fireWatches(1);\n\n\nif(!A5.flags.isMobile) $e.add(window,'resize',{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation,null,false,'{UXPRERENDEREDALIAS}.DIALOG');\nelse $e.add(window,'orientationchange',{UXPRERENDEREDALIAS}_DlgObj._orientationChangeHandler,{UXPRERENDEREDALIAS}_DlgObj,true,'{UXPRERENDEREDALIAS}.DIALOG');\n{UXPRERENDEREDALIAS}_DlgObj._functions.calcOrientation();\n\n;\n\n\n\n\n\nsetTimeout(function() { },0);\n\n\n{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onInitializeComplete');\n{UXPRERENDEREDALIAS}_DlgObj.initialized = true;\n\n\n\n\n\n__replaceAtRuntime_CustomControlsSystemAfterRender\n\n{UXPRERENDEREDALIAS}_DlgObj._onRenderComplete = function() { {UXPRERENDEREDALIAS}_DlgObj._runJSOnLoad(); {UXPRERENDEREDALIAS}_DlgObj._findActiveLayoutRule(); }; \n\n\nsetTimeout(function() {\n\t{UXPRERENDEREDALIAS}_DlgObj._executeEvent('onRenderComplete');\n\t{UXPRERENDEREDALIAS}_DlgObj.flagRenderComplete = true;\n\tvar _flagPGApp = false;\n\tif(typeof _phoneGapSettings == 'function') {\n\t\t_flagPGApp = true;\n\t\t/*\n\t\tif(typeof cordova == 'object') {\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = true;\n\t\t} else {\n\t\t\t{UXPRERENDEREDALIAS}_DlgObj._cordovaReady = false;\n\t\t};\n\t\t*/\n\t};\n\n\n\n\t//alert('is a pg app: ' + _flagPGApp + '  _cordovaReady: ' + {UXPRERENDEREDALIAS}_DlgObj._cordovaReady );\n\tif(!_flagPGApp) {\n\t\t{UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage();\n\t} else {\n\n\t\t//phonegap app, but phonegap may not yet be loaded\n\t\t//alert('register the _restoreFormLocalStorage to fire when phonegap is ready');\n\n\t\t{UXPRERENDEREDALIAS}_DlgObj._delayTillPhoneGapReady({UXPRERENDEREDALIAS}_DlgObj._restoreFromLocalStorage,{UXPRERENDEREDALIAS}_DlgObj);\n\t}\n\n },1);\n;\n\nvar o2 = 'portrait';\nif(window.innerHeight < window.innerWidth) o2 = 'landscape';\n{UXPRERENDEREDALIAS}_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};\n\n{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();\ntry {\nwindow.addEventListener(\"offline\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\nwindow.addEventListener(\"online\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\n} catch(err){}\n\n{UXPRERENDEREDALIAS}_DlgObj._getOnlineStatus();\ntry {\nwindow.addEventListener(\"offline\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\nwindow.addEventListener(\"online\",function() { {UXPRERENDEREDALIAS}_DlgObj._fireOnConnectionChangeEvent() });\n} catch(err){}\n\n;\n;\nsetTimeout(function() { },10);;\n{UXPRERENDEREDALIAS}_DlgObj._activeLanguage = '';"
            },
            "iconMap": "{images.RowExpander.Open}=\"css/{grid.style}/Expand.png\"\n{images.RowExpander.Close}=\"css/{grid.style}/Collapse.png\"\n{images.EmbeddedSearch.Search}=\"css/{grid.style}/GridSearch.png\"\n{images.EmbeddedSearch.ClearSearch}=\"css/{grid.style}/GridSearchClear.png\"\n{images.EmbeddedSearch.ShowHideEmbeddedSearch}=\"css/{grid.style}/GridSearchToggle.png\"\n{images.GridRow.NewRecordRow.NoFocus}=\"css/{grid.style}/GridRowNew.png\"\n{images.GridRow.NewRecordRow.HasFocus}=\"css/{grid.style}/GridRowNewSelected.png\"\n{images.GridRow.SaveRecord}=\"css/{grid.style}/GridRowSave.png\"\n{images.GridRow.SaveRecord.Disabled}=\"css/{grid.style}/GridRowSaveDisabled.png\"\n{images.GridRow.UndoChanges}=\"css/{grid.style}/GridRowUndoEdits.png\"\n{images.GridRow.UndoChanges.Disabled}=\"css/{grid.style}/GridRowUndoEditsDisabled.png\"\n{images.GridRow.EditRecord}=\"css/{grid.style}/GridRowEdit.png\"\n{images.GridRow.EditRecord.Disabled}=\"css/{grid.style}/GridRowEditDisabled.png\"\n{images.GridRow.DeleteRecord}=\"css/{grid.style}/GridRowDelete.png\"\n{images.GridRow.DeleteRecord.Disabled}=\"css/{grid.style}/GridRecordDeleteDisabled.png\"\n{images.GridRow.CancelEditRecord}=\"css/{grid.style}/GridRowCancelEdits.png\"\n{images.GridRow.CancelEditRecord.Disabled}=\n{images.GridRow.HasError}=\"css/{grid.style}/GridRowError.png\"\n{images.QBE.OperatorIsSelected}=\n{images.QBE.OpenQBEMenu}=\"css/{grid.style}/GridQBEMenu.png\"\n{images.QBE.ShowHideQBERow}=\"css/{grid.style}/GridQBEToggle.png\"\n{images.PopUpWindow.Lookup.Close}=\"css/{grid.style}/WinClose.png\"\n{images.PopUpWindow.DetailView.Close}=\"css/{grid.style}/WinClose.png\"\n{images.CollapseContainer.Open}=\"css/{grid.style}/Expand.png\"\n{images.CollapseContainer.Close}=\"css/{grid.style}/Collapse.png\"\n{images.FieldHelpIcon}=\"css/{grid.style}/EditHelp.png\"\n{images.SearchPart.SaveSearchCriteria}=\"css/{grid.style}/GridSearchSave.png\"\n{images.SearchPart.LoadSearchCriteria}=\"css/{grid.style}/GridSearchLoad.png\"\n{images.SearchPart.RunSearch}=\"css/{grid.style}/GridSearch.png\"\n{images.SearchPart.ClearSearch}=\"css/{grid.style}/GridSearchClear.png\"\n{images.GridRow.SelectionPointer}=\"css/{grid.style}/GridRowSelected.png\"\n{images.Grid.SortAsc}=\"css/{grid.style}/GridSortAsc.png\"\n{images.Grid.SortAscDisabled}=\"css/{grid.style}/GridSortAscDisabled.png\"\n{images.Grid.sortDesc}=\"css/{grid.style}/GridSortDesc.png\"\n{images.grid.sortDescDisabled}=\"css/{grid.style}/GridSortDescDisabled.png\"\n{images.grid.firstPage}=\"css/{grid.style}/GridPageFirst.png\"\n{images.grid.firstPageDisabled}=\"css/{grid.style}/GridPageFirstDisabled.png\"\n{images.grid.prevPage}=\"css/{grid.style}/GridPagePrev.png\"\n{images.grid.prevPageDisabled}=\"css/{grid.style}/GridPagePrevDisabled.png\"\n{images.grid.nextPage}=\"css/{grid.style}/GridPageNext.png\"\n{images.grid.nextPageDisabled}=\"css/{grid.style}/GridPageNextDisabled.png\"\n{images.grid.lastPage}=\"css/{grid.style}/GridPageLast.png\"\n{images.grid.lastPageDisabled}=\"css/{grid.style}/GridPageLastDisabled.png\"\n{images.edit.dropdownArrow}=\"css/{grid.style}/EditDDArrow.png\"\n{images.edit.datePicker}=\"css/{grid.style}/EditDP.png\"\n{images.edit.dateTimePicker}=\"css/{grid.style}/EditDTP.png\"\n{images.edit.timePicker}=\"css/{grid.style}/EditTP.png\"\n{images.edit.calculator}=\n{images.edit.lookup}=\"css/{grid.style}/EditLookup.png\"\n{images.javascript.deleteRowConfirmation}=\"css/{grid.style}/MessageQuestion.png\"\n{images.javascript.cancelEditRowConfirmation}=\"css/{grid.style}/MessageInfo.png\"\n{images.javascript.UndoEditsConfirmation}=\"css/{grid.style}/MessageInfo.png\"\n{images.javascript.UndoAllEditsConfirmation}=\"css/{grid.style}/MessageInfo.png\"\n{images.javascript.dirtyRecordWarning}=\"css/{grid.style}/MessageInfo.png\"\n{images.dv.close}=\"css/{grid.style}/GridRecordClose.png\"\n{images.dv.firstRecord}=\"css/{grid.style}/GridRecordFirst.png\"\n{images.dv.prevRecord}=\"css/{grid.style}/GridRecordPrev.png\"\n{images.dv.nextRecord}=\"css/{grid.style}/GridRecordNext.png\"\n{images.dv.lastRecord}=\"css/{grid.style}/GridRecordLast.png\"\n{images.dv.newRecord}=\"css/{grid.style}/GridRecordNew.png\"\n{images.dv.cancelEdits}=\"css/{grid.style}/GridRecordCancelEdits.png\"\n{images.dv.deleteRecord}=\"css/{grid.style}/GridRecordDelete.png\"\n{images.dv.saveRecord}=\"css/{grid.style}/GridRecordSave.png\"\n{images.dv.saveAndEnter}=\"css/{grid.style}/GridRecordSaveAndEnter.png\"\n{images.dv.switchToEdit}=\"css/{grid.style}/GridRecordSwitchToEdit.png\"\n{images.dv.switchToView}=\"css/{grid.style}/GridRecordSwitchToView.png\"\n{images.disabled.dv.newRecord}=\"css/{grid.style}/GridRecordNew.png\"\n{images.disabled.dv.cancelEdits}=\"css/{grid.style}/GridRecordCancelEditsDisabled.png\"\n{images.disabled.dv.deleteRecord}=\"css/{grid.style}/GridRecordDeleteDisabled.png\"\n{images.disabled.dv.saveRecord}=\"css/{grid.style}/GridRecordSaveDisabled.png\"\n{images.disabled.dv.saveAndEnter}=\"css/{grid.style}/GridRecordSaveAndEnterDisabled.png\"\n{images.dv.cancelNewRecord}=\"css/{grid.style}/GridRecordNewCancelEdits.png\"\n{images.grid.editError}=\"css/{grid.style}/EditError.png\"\n{images.dialog.editError}=\"css/{grid.style}/EditError.png\"\n{images.tabbedUI.menuExpandLeft}=\"css/{grid.style}/PanelLeftExpand.png\"\n{images.tabbedUI.menuCollapseLeft}=\"css/{grid.style}/PanelLeftCollapse.png\"\n{images.tabbedUI.menuExpandRight}=\"css/{grid.style}/PanelRightExpand.png\"\n{images.tabbedUI.menuCollapseRight}=\"css/{grid.style}/PanelRightCollapse.png\"\n{images.dialog.repeatingSectionActiveRowIcon}=\"css/{dialog.style}/DialogRSRowSelected.png\"\n{images.dialog.repeatingSectionAddRowIcon}=\"css/{dialog.style}/DialogRSRowAdd.png\"\n{images.dialog.repeatingSectionDeleteRowIcon}=\"css/{dialog.style}/DialogRSRowDelete.png\"\n{images.dialog.repeatingSectionErrorRowIcon}=\"css/{dialog.style}/DialogRSRowError.png\"\n{images.dialog.deleteRowMessage.icon}=\"css/GrBlue/MessageQuestion.png\"\n{images.dialog.resetForm.icon}=\"css/GrBlue/MessageQuestion.png\"\n{images.dialog.dirtyForm.icon}=\"css/GrBlue/MessageInfo.png\"\n{images.dialog.editError}=\"css/GrBlue/EditError.png\"\n{images.dialog.listNav}=\"css/GrBlue/ListNav.png\"\n{images.dialog.listNavSubtle}=\"css/GrBlue/ListNavSubtle.png\"\n{images.dialog.menu}=\"images/menuPanel24x24.png.a5image\"\n{images.dialog.refresh}=\"images/$$generic.refresh.color.png.a5image\"\n{images.dialog.refreshDisabled}=\"images/disabled/$$generic.refresh.color.png.a5image\""
        }
    }
}